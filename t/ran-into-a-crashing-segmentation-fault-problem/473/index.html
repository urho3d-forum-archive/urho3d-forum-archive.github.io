<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Ran into a Crashing Segmentation fault problem</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Ran into a Crashing Segmentation fault problem</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>Hello</p>
<p>So, I created a client. It runs but with some new additional code it’s noticeably crashing. I am looking through the code but I am having no luck resolving. Do anyone have a idea of whats going on or suggestion?</p>
<p>I placed the main code at <a href="https://sourceforge.net/projects/proteusgameengine/files/Existence/Source/ExistenceApps/" rel="nofollow noopener">sourceforge.net/projects/proteu … tenceApps/</a></p>
<p>The following functions might be the culprit.<br/>
<span class="bbcode-b">void ExistenceClient::CreatePlayerScreenUI() in ExistenceClient.cpp</span><br/>
<span class="bbcode-b">void ExistenceClient::MainScreenUIHandleClosePressed(StringHash eventType, VariantMap&amp; eventData)</span> in ExistenceClient.cpp<br/>
<span class="bbcode-b">int ExistenceClient::loadplayerMesh(Node * playermeshNode, int alienrace, int gender, int mode)</span> in ExistenceClient.cpp<br/>
<span class="bbcode-b">void ExistenceClient::HandleMouseReleased(StringHash eventType, VariantMap&amp; eventData) </span>in ExistenceClient.cpp</p>
<p>[video]<a href="https://www.youtube.com/watch?v=4Iew3dWrlX0%5B/video%5D" rel="nofollow noopener">https://www.youtube.com/watch?v=4Iew3dWrlX0[/video]</a></p>
<p>Vivienne</p>
<p><a>code</a> run<br/>
Starting program: /media/home2/vivienne/Existence/Bin/ExistenceClient<br/>
[Thread debugging using libthread_db enabled]<br/>
Using host libthread_db library “/lib/x86_64-linux-gnu/libthread_db.so.1”.<br/>
[Tue Oct  7 23:15:41 2014] INFO: Opened log file /home/vivienne/.local/share/urho3d/logs/ExistenceClient.log<br/>
[New Thread 0x7ffff3069700 (LWP 23680)]<br/>
[New Thread 0x7ffff2868700 (LWP 23681)]<br/>
[New Thread 0x7ffff2067700 (LWP 23682)]<br/>
[Tue Oct  7 23:15:41 2014] INFO: Created 3 worker threads<br/>
[Tue Oct  7 23:15:41 2014] INFO: Added resource path /media/home2/vivienne/Existence/Bin/CoreData/<br/>
[Tue Oct  7 23:15:41 2014] INFO: Added resource path /media/home2/vivienne/Existence/Bin/Data/<br/>
[Tue Oct  7 23:15:41 2014] INFO: Set screen mode 1440x900 fullscreen<br/>
[Tue Oct  7 23:15:41 2014] INFO: Initialized input<br/>
[Tue Oct  7 23:15:41 2014] INFO: Initialized user interface<br/>
[Tue Oct  7 23:15:41 2014] INFO: Initialized renderer<br/>
[New Thread 0x7fffead2d700 (LWP 23683)]<br/>
[New Thread 0x7fffea52c700 (LWP 23684)]<br/>
[Tue Oct  7 23:15:41 2014] INFO: Set audio mode 44100 Hz stereo interpolated<br/>
[Tue Oct  7 23:15:42 2014] INFO: Added resource path /media/home2/vivienne/Existence/Bin/Resources/<br/>
[Tue Oct  7 23:15:44 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:15:44 2014] WARNING: Forcing top alignment because parent element has vertical layout<br/>
[Tue Oct  7 23:15:49 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:15:49 2014] WARNING: Forcing top alignment because parent element has vertical layout<br/>
[Tue Oct  7 23:15:52 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:15:53 2014] WARNING: Forcing top alignment because parent element has vertical layout<br/>
[Tue Oct  7 23:15:56 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:15:56 2014] WARNING: Forcing top alignment because parent element has vertical layout<br/>
[Tue Oct  7 23:16:01 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:16:01 2014] WARNING: Forcing top alignment because parent element has vertical layout<br/>
[Tue Oct  7 23:16:05 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:16:05 2014] WARNING: Forcing top alignment because parent element has vertical layout<br/>
[Tue Oct  7 23:16:10 2014] INFO: Loading scene from /media/home2/vivienne/Existence/Bin/Resources/Scenes/charactercreationroom1.xml<br/>
[Tue Oct  7 23:16:10 2014] WARNING: Forcing top alignment because parent element has vertical layout</p>
<p>Program received signal SIGSEGV, Segmentation fault.<br/>
0x000000000059ccf0 in ExistenceClient::MainScreenUIHandleClosePressed(Urho3D::StringHash, Urho3D::HashMap&lt;Urho3D::ShortStringHash, Urho3D::Variant&gt;&amp;) ()<br/>
(gdb) quit<br/>
A debugging session is active.</p>
<pre><code>    Inferior 1 [process 23676] will be killed.
</code></pre>
<p>Quit anyway? (y or n) y<br/>
[/code]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>One error I found so far.</p>
<p>GDB</p>
<p><code>#0  0x00007ffff69f54e7 in ?? () from /lib/x86_64-linux-gnu/libc.so.6
#1  0x00000000006d7c5f in Urho3D::String::operator== (this=0x9bf05f0, rhs=0xc60198 "exitButton")
    at /media/home2/vivienne/Existence/Source/Engine/Container/Str.h:261
</code></p>
<p>My Code</p>
<p>[code]/// Main screen user interface handle close pressed<br/>
void ExistenceClient::MainScreenUIHandleClosePressed(StringHash eventType, VariantMap&amp; eventData)<br/>
{<br/>
/// Set ui state to UI_CHARACTERSELECTIONINTERFACE<br/>
ExistenceGameState.SetUIState(UI_CHARACTERSELECTIONINTERFACE);</p>
<pre><code>/// Get control that was clicked
UIElement* clicked = static_cast&lt;UIElement*&gt;(eventData[UIMouseClick::P_ELEMENT].GetPtr());

/// Check for a click and which button
if(clicked)
{

    if(clicked-&gt;GetName()=="newcharacterButton")
    {
        /// remove child nodeAddItem (UIElement *item)
        scene_-&gt;GetChild("playerMesh",true)-&gt;Remove();

        /// Clear screen
        eraseScene();

        /// Create a player UI
        CreatePlayerScreenUI();

        Console* console = GetSubsystem&lt;Console&gt;();

        console -&gt; SetVisible(false);

        ExistenceGameState.SetConsoleState(UI_CONSOLEOFF);

        /// Enable OS cursor
        GetSubsystem&lt;Input&gt;()-&gt;SetMouseVisible(true);
    }

    if(clicked-&gt;GetName()=="exitButton")
    {
        engine_-&gt;Exit();
    }
}


return;
</code></pre>
<p>}<br/>
[/code]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">thebluefish</div>
          <div class="post_content">
<p>What IDE are you using? Have you tried to debug the code as it crashes?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote no-group" data-username="thebluefish">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/bf1ad5330f9831ec6d82214e91751e5d.png" width="20"/> thebluefish:</div>
<blockquote>
<p>What IDE are you using? Have you tried to debug the code as it crashes?</p>
</blockquote>
</aside>
<p>I use Codeblocks with GDB debugging runtime. Also, console GDB runtime debugging.</p>
<p>Before, I wasn’t using it. Now I do.  I posted a video of it. The content is lacking detail and lighting but the code is working for what I added.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/168_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">gwald</div>
          <div class="post_content">
<p>Hi,<br/>
If you want people to read text on youtube you need to drop your screen resolution or make the font bigger.<br/>
Good progress on your game too!</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>