<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Basic material effects for rendering</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Basic material effects for rendering</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Basic material and techniques for rendering effects, which might be useful for individuals new to Urho3D.</p>
<p>repo: <a href="https://github.com/Lumak/Urho3D-Material-Effects/">https://github.com/Lumak/Urho3D-Material-Effects/</a></p>
<p>recently added: <a href="https://github.com/Lumak/Urho3D-Greenscreen-UVFrame">https://github.com/Lumak/Urho3D-Greenscreen-UVFrame</a></p>
<p>Let me know if I missed any files in my check-in. Thx.</p>
<div class="lazyYT" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque" data-width="480" data-youtube-id="HdyiSa5xAyc" data-youtube-title="Urho3D Material Effects"></div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>screenshot with fire<br/>
<img alt="" src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/1X/2f386246d2f93d9daa62b602c780739d78a05bf9.jpg"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>added lava<br/>
<img alt="" src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/1X/ba8640fd001130511c8a5fa58d76dbe25a358642.jpg"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1163_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli1</div>
          <div class="post_content">
<p>That is great! Thank you very much for sharing this.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Glad you like it.</p>
<p>I’m learning as I go, as I never really delved into graphics or shaders.  Most likely, I’ll consolidate some of the functionalities currently on the CPU to shaders.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1163_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli1</div>
          <div class="post_content">
<p>Looks like MaterialEffects/Textures/checkers-lightmap.png is missing, which is used in MaterialEffects/Materials/sphLightMapMat.xml. There are checkers-lightmap001.png and checkers-lightmap002.png though.<br/>
And in MaterialEffects/Level1.xml, the material is redMat.xml, but the actual file name is RedMat.xml.</p>
<p>And some paths are hard coded, e.g., loading the Level1.xml.</p>
<p>I build and run it and the effects look amazing. <img alt=":grin:" class="emoji" src="../../../images2/ec34c8e58665ec32c0e7c847446db86d.png" title=":grin:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>ok, thx fixed those isses - repo updated.<br/>
The absolute path is required when passing a File, thought.  At least for me on Windows.</p>
<p>And lastly, fixed the UnlistAlphaMask shader to remove black edges.<br/>
<img alt="" src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/1X/1eaa1d0df5e1d93bdb88b8ee2183d23e5bea29f1.jpg"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Victor</div>
          <div class="post_content">
<p>These are awesome! Thanks for the share!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>You’re welcome.</p>
<p>Added waterfall and waterdiff shader, you can add a diff material to it.</p>
<p><a data-bbcode="true" href="https://ibb.co/cw72Jv" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/b350f3ea3d99fc1b376835567b6765ef.jpg" width="640"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1163_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli1</div>
          <div class="post_content">
<p>Looks like WaterNoise.dds is missing</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>That’s part of Urho3D distribution and should be in the Data/Textures folder.</p>
<p>Can you give me some feedback on my new water shader? Thx.</p>
<div class="lazyYT" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque" data-width="480" data-youtube-id="cFtuqNKwa2w" data-youtube-title="Urho3D testing new water shader"></div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<p>These have all saved me a good chunk of time, thanks. The water shader is good. I think with ripples, waves, and foam I’d personally be set <img alt=":grin:" class="emoji" src="../../../images2/ec34c8e58665ec32c0e7c847446db86d.png" title=":grin:"/>.</p>
<p>Edit: considering the style, even just foam would be enough to make it “polished” enough to use.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Thank you so much! This is what I missed. I wonder if it is possible to include these with Urho…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p><span class="mention">@suncaller</span> good to hear.<br/>
<span class="mention">@slapin</span> you’re welcome, I doubt I’ll write scripts for the things that I do - it’s too much work but perhaps someone else can.<br/>
<span class="mention">@yushli1</span> ok, changed the absolute path.</p>
<p>Update: completed the glsl/hlsl water shaders.  There are two versions: 1) WaterDiff - reflective/refractive w/ bump and diff texture, 2) WaterDiffAlpha - same as 1 but w/ alpha.</p>
<p>Also added watersplash(ripple) when char is in run anim - edit:fixed.</p>
<p><a data-bbcode="true" href="https://ibb.co/eyTdQa" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/738b98c44fbcbc8173f8ae58a0aae078.jpg" width="640"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Latest image of of the wave after groundwatermat updated.</p>
<p><a data-bbcode="true" href="https://ibb.co/bK8WBF" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/e79753cae6d58e250af9ad681001975a.jpg" width="640"/></a></p>
<p>Ok, last one. added a water mat waterGroundSandMat.xml with a new normal text. pic:<br/>
<a data-bbcode="true" href="https://ibb.co/iu1ZWF" rel="nofollow noopener"><img alt="" height="358" src="../../../images2/9eb1ec232056f0866de23743c09e438a.jpg" width="640"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>Nice! If you use sprite-sheets it might improve the performance a bit.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Great minds think alike <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/>, as I was just looking into doing that.  I haven’t used the packer tool yet, but just from looking at the code I might have to extend the options to make it easier load ~100 input files.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>I took some time to rewrite the packer tool and was able to pack the explosion sequence images into a single file w/o any problems, see below.  However, eventhough it’s just a straight copy, closer look of the result images show pixelation, see img 2.</p>
<p>This is not going to work.</p>
<p>Img 1<br/>
<a data-bbcode="true" href="https://ibb.co/gjucJv" rel="nofollow noopener"><img alt="" height="373" src="../../../images2/86928cb0096ddd6602434f9674ff1d71.jpg" width="640"/></a></p>
<p>Img 2<br/>
<a data-bbcode="true" href="https://imgbb.com/" rel="nofollow noopener"><img alt="" height="275" src="../../../images2/43bc824e34d0a659fdcc74c998199f18.jpg" width="500"/></a></p>
<p>Edit: discovered that saving the image as JPG w/ quality = 100 preserved the quality and results in no pixelation.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>You can also using image magic for packing <a href="http://acamara.es/blog/2012/12/assembling-sprite-sheets-with-imagemagick/">http://acamara.es/blog/2012/12/assembling-sprite-sheets-with-imagemagick/</a></p>
<p><a >https://github.com/urho3d/Urho3D/issues/1394</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Request: Is it possible to add example of leaving vehicle traces on road (when braking or sliding)?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<aside class="quote no-group" data-post="19" data-topic="2953" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>You can also using image magic for packing <a href="http://acamara.es/blog/2012/12/assembling-sprite-sheets-with-imagemagick/" rel="noopener nofollow ugc">http://acamara.es/blog/2012/12/assembling-sprite-sheets-with-imagemagick/</a></p>
</blockquote>
</aside>
<p>Ok, good to know.  I also created a tool called SequenceImagePacker and checked it into my repo.  Nothing fancy, it just packs same size image and packs it into a single image.</p>
<aside class="quote no-group" data-full="true" data-post="20" data-topic="2953" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>Request: Is it possible to add example of leaving vehicle traces on road (when braking or sliding)?</p>
</blockquote>
</aside>
<p>That’s been done before.  See my <a href="https://github.com/Lumak/Urho3D-Offroad-Vehicle/" rel="noopener nofollow ugc">offroad vehicle repo</a>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>I was using Leshy SpriteSheet Tool before and I made this reader if it is of any use: <a href="https://urho3d.prophpbb.com/topic2565.html" rel="nofollow noopener">https://urho3d.prophpbb.com/topic2565.html</a>. I hope your solution is better as I was stuck with this online tool as it generates a nice xml with all the offset especially if they are not linear.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>What I wrote is nothing like sprite sheet tool**. Because the sequence images are expected to be same size, you can calculate the UV offset if you know the number of rows, cols, and number of images packed in it.  I guess that info should be shown at the end or output to a file.</p>
<p>Edit: ** and does not generate an XML file with packed info.<br/>
Edit2: only num rows and cols are required to calculate uv offset, num images to know when to terminate.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Well, the vehicle demo is very complicated and it is hard to factor-out what I need - could you help me?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<aside class="quote quote-modified" data-post="1" data-topic="2018">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/b3b294bc4454bf21e07a40d7aa09761d.png" width="20"/>
<a href="http://discourse.urho3d.io/t/vehicle-skid-strips/2018">Vehicle Skid Strips</a> <a class="badge-wrapper bullet" href="/c/showcase/code-exchange/13"><span class="badge-category-parent-bg" style="background-color: #F1592A;"></span><span class="badge-category-bg" style="background-color: #231F20;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Share your helpful Urho3D code snippets, samples and tutorials here.">Code Exchange</span></a>
</div>
<blockquote>
    1vank had asked about how I did it, hence, this. 
video 
  
SkidModel code, based on urho3d 1.4 (still, but will be migrating to 1.5 shortly <img alt="slight_smile" class="emoji" height="20" src="../../../images2/480f97b912eb537e18032299081e582a.png" title="slight_smile" width="20"/> ) 
<details><summary>code</summary>#define DBG_SKID_STRIPS
#define MAX_SKID_STRIPS         120
#define VERTS_PER_STRIP         4
#define INDECES_PER_STRIP       6
#define STRIP_NORMAL_OFFSET     0.005f
#define MIN_STRIP_LEN           0.4f
#define MIN_LASTPOS_CNT         4

struct SkidStrip
{
    SkidStrip() : vertsArrayValid(false), lastPosCnt(0), valid(false){}

    Ve…</details>
</blockquote>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>I was thinking of include fake BRDF shader in the next update, see pic.  Is it too much?</p>
<p><a data-bbcode="true" href="https://ibb.co/nircJv" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/dbdba4914814e5a7bdd573cfd2847aa1.jpg" width="640"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Thank you so much about Skid code sharing (ah, I now know how these are called!).<br/>
But how should I place them, where I do get parameters for AddStrip - is it from Raycast?<br/>
Which raycast (if that is from raycast) - physics or octree or some other?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Now it’s time to study the offroad vehicle and see how they’re placed.  In that repo, I called it WheelTrackModel.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Thanks, that will come for later when I will understand the demo.<br/>
For now I will make a fountain… <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="26" data-topic="2953" data-username="Lumak">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/b3b294bc4454bf21e07a40d7aa09761d.png" width="20"/> Lumak:</div>
<blockquote>
<p>I was thinking of include fake BRDF shader in the next update, see pic.  Is it too much?</p>
</blockquote>
</aside>
<p>Is a fake BRDF really needed since there is a real BRDF in the engine, and performance of the BRDF should be very good to the point where given mobile moves to gles3 (or hack it into gles2) as an options then it would work there without any problems</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Your work on PBR is excellent and I love what you done with it, and I’m sure it’s something that all would use if going for realism.  What fake BRDF offers is a non-realistic rendering that you couldn’t achieve with PBR.  Sticking with the mushroom example, take a look at the image 1 below.  A is using normal diff mat and B is fakeBRDF, which is achieved by using image 2. Trying to get the effect B using a real BRDF would probably be… I don’t even know if it’s possible.  By simply mixing random gradient colors you can achieve some really cool effect and it might be useful for some ppl and their game.</p>
<p>Image 1<br/>
<a data-bbcode="true" href="https://ibb.co/iEQc1F" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/d31882e428b83fcc27b67855f9948dd6.jpg" width="640"/></a></p>
<p>Image 2<br/>
<a data-bbcode="true" href="https://imgbb.com/" rel="nofollow noopener"><img alt="" height="256" src="../../../images2/46345bd422256355049619b062b4c236.jpg" width="256"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">coldev</div>
          <div class="post_content">
<p>OMG thanks for share…</p>
<p>God Bless You so much…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>My attempt at post process blur, pic below. I’ll update my repo with all that you see here in a day or two.</p>
<p>edit: changed the pic again to a better one and to demonstrate that only the masked section on the mesh gets blurred.<br/>
<a data-bbcode="true" href="https://ibb.co/eQ9Mdv" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/49638776ce99234f99b18b83037d9aaa.jpg" width="640"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<blockquote>
<p>What fake BRDF offers is a non-realistic rendering that you couldn’t achieve with PBR. Sticking with the mushroom example, take a look at the image 1 below. A is using normal diff mat and B is fakeBRDF, which is achieved by using image 2. Trying to get the effect B using a real BRDF would probably be… I don’t even know if it’s possible. By simply mixing random gradient colors you can achieve some really cool effect and it might be useful for some ppl and their game.</p>
</blockquote>
<p>I agree as someone whose project doesn’t aim for photo-realism. That image B is kind of fantastic considering the mesh you’re using.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-post="34" data-topic="2953" data-username="suncaller">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/55b389443a95eea412e359fea28a5cb4.png" width="20"/> suncaller:</div>
<blockquote>
<p>I agree as someone whose project doesn’t aim for photo-realism</p>
</blockquote>
</aside>
<p>PBR doesnt mean realism, it just happens to makes it easier to be realistic by allowed artists to get more accurate metallics and mate materials with less work. It is easily possible to be  artistic and stylisised.</p>
<aside class="quote no-group" data-post="31" data-topic="2953" data-username="Lumak">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/b3b294bc4454bf21e07a40d7aa09761d.png" width="20"/> Lumak:</div>
<blockquote>
<p>What fake BRDF offers is a non-realistic rendering that you couldn’t achieve with PBR</p>
</blockquote>
</aside>
<p>That result would likely be possible by using a custom cubemap on a low roughness material in PBR. Although id have to test.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<aside class="quote" data-post="35" data-topic="2953">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/39b53a8007c67ac331701696464c2601.png" width="20"/> dragonCASTjosh:</div>
<blockquote>
<p>That result would likely be possible by using a custom cubemap on a low roughness material in PBR. Although id have to test.</p>
</blockquote>
</aside>
<p>I have no doubt you will be able to do it, but us layman who are not all that graphics programming savvy would probably have trouble <img alt=":sweat:" class="emoji" src="../../../images2/0fc45c9dda91bc59ecc25d12cfc8edc4.png" title=":sweat:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<blockquote>
<p>PBR doesnt mean realism, it just happens to makes it easier to be realistic by allowed artists to get more accurate metallics and mate materials with less work.</p>
</blockquote>
<p>This is a good chance to ask you what the intention of the PBR renderer implemented in Urho is, then. Although I understand the concept itself loosely, it also seems to be a loosely defined concept in general from the reading I’ve done on it, and as I’m still a novice when it comes to graphics programming, looking at the code only helps me use and extend it, not understand it completely at this point. As far as I could tell, the single common aim for PBR was realistic light simulation. As this is a more general principal, I imagined there was an unnecessary overhead inherent in its use when we could simplify the desired effects for style, and wrestling to refit the PBR pipeline into all other use-cases would be inefficient. I’d love it if you could demystify this for me. <img alt=":smile:" class="emoji" src="../../../images2/769394bcf9310c188f38dc9af7babf2b.png" title=":smile:"/></p>
<blockquote>
<p>It is easily possible to be artistic and stylisised.</p>
</blockquote>
<p>Of course.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Wrapped up the project and checked everything in on the repo. A ton of files deleted and replaced, so I might have missed some.  Let me know if something’s missing, thx.</p>
<p>What’s new:<br/>
-per object, per emissive mask post process glow<br/>
-fake BRDF<br/>
-all 500+ sequence frame images, i.e. fire, explosion, etc., were deleted packed into a single files<br/>
-several new shaders added for both glsl and hlsl<br/>
-uv sequencer class to handle updates<br/>
etc. etc.</p>
<p>edit: update the post process glow.xml</p>
<p>vid<br/>
<div class="lazyYT" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque" data-width="480" data-youtube-id="dmhgTSQp2e8" data-youtube-title="Urho3D Material Effects 2"></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-post="37" data-topic="2953">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/55b389443a95eea412e359fea28a5cb4.png" width="20"/> suncaller:</div>
<blockquote>
<p>This is a good chance to ask you what the intention of the PBR renderer implemented in Urho is, then. Although I understand the concept itself loosely, it also seems to be a loosely defined concept in general from the reading I’ve done on it, and as I’m still a novice when it comes to graphics programming, looking at the code only helps me use and extend it, not understand it completely at this point. As far as I could tell, the single common aim for PBR was realistic light simulation. As this is a more general principal, I imagined there was an unnecessary overhead inherent in its use when we could simplify the desired effects for style, and wrestling to refit the PBR pipeline into all other use-cases would be inefficient. I’d love it if you could demystify this for me. <img alt=":smile:" class="emoji" src="/images/emoji/twitter/smile.png?v=9" title=":smile:"/></p>
</blockquote>
</aside>
<p>The key is in the name, Physically Based. The whole idea behind PBR is to base material inputs on real world and observable values. This makes it easier for artists to create materials that resemble the real world as they can just look up values, for example most metallic objects have 1 metallic (because there metal) and 1 smoothness (because the microsurface is smooth) and then you just input the RGB and your away, you can then add increased detail to the material through changes in the roughness and metallic maps to simulate paint and scratches. The overall advantage, in that case it is easier to be more accurate and more detailed in materials.</p>
<p>One of the best benefits to PBR is it allowed for metallic objects that look metallic. In reallity metallic objects tends to have really dark diffuses with a lot of that color going into the specular (hence a the specular is tinted). They also reflect most of the incoming light. In traditional renderers the closest they would get was a tinted specular and a high specularity.</p>
<p>None PBR:<br/>
<img src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/1X/072ad6c9823358770d9bade138e7d05c66a5f940.jpg"/></p>
<p>Compare the metal of the skyhook in Bioshock infinite to an stylised PBR object that uses metal:<br/>
<img src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/1X/a61114ce02bbdec157681353caa577f0ff22ff80.jpg"/></p>
<p>Another benefit of PBR is that due to it relying on environmental lighting from reflection techniques such as cubemaps it allows materials to render in many diffrent lighting environments with no changes to the textures. In traditional materials it was common to change the diffuse color based on the environment you placed the object, but in PBR the shader handles all that for you .</p>
<p><img src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/1X/95af811a193d738e330874bfa1e41e92da5d2bce.jpg"/></p>
<p>Overall it just allowed more control over materials allowing developers to hit higher quality with less effort and allows engines to render a wider range of materials with no changes across a wider range of environments in addition to very little performance overhead compared to traditional rendering. There is likely many other benefits i have not mentioned. But the short of it is once PBR is implemented there is not really a need to use traditional rendering as PBR can do all that and do more whilst giving a quality boost in the process, hence why larger engines completely replaced there material pipeline with PBR,</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<p>I appreciate you taking the time to explain that and I think I understand what you’re saying. To me the name physically based rendering did imply a pursuit of simulating physical properties, and I’m not sure any of what you said counters that, to be honest, but at the same time I can imagine there is the possibility and I simply haven’t seen it yet. The stylized book you reference, for example, kind of demonstrates what I mean – style isn’t limited to just more or less “cartoony” geometry.</p>
<p>As for the cost of PBR when trying to do complex scenes, which is my true concern, I saw this render below a while back, and it is perhaps the type of thing I’m thinking of when I doubt PBR as a be-all-end-all. Meaning, fantastical scenes.</p>
<p><img height="380" src="../../../images2/f29319ff0535cd1fc69c07793c52f081.png" width="676"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote" data-post="40" data-topic="2953">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/108f0fd00c8dd14a5d276864cc059184.png" width="20"/> suncaller:</div>
<blockquote>
<p>As for the cost of PBR when trying to do complex scenes, which is my true concern, I saw this render below a while back, and it is perhaps the type of thing I’m thinking of when I doubt PBR as a be-all-end-all. Meaning, fantastical scenes.</p>
</blockquote>
</aside>
<p>The performance of PBR is extremely low to the point where the point where i cant think of a single platform that cant run a complex scene with PBR. Most of the heavy lifting is pre-calculated so there is not much of a cost. The diffuse model is still the same, and you can still use blinn specular you just add fresnel (very fast) for rim lighting/reflections and a geometry term ( very very fast) for ensuring incoming light is not lost withing a surface. I believe epic showed part of the rouge one (star wars) running in realtime using PBR + more and that tends to be as compelx as you can get as it is designed to mimic the real world. As for stylised i have sean everything done with PBR from low poly to realism and all existing materials should work perfectly fine with PBR as long as you scrap the specular map (easily replaced). So in theory it means that porting to PBR is a case of just using the right material path and make sure you have a neutral roughness and metallic so traditional textures done look out of place without roughness and metallic maps.</p>
<p>As for the image you linked i assume it to be done in Blender Cycles. If that is the case then it is likely using a BRDF identical to what PBR in games approximates so in terms of results it should be identical to if you set it up with PBR, although without added effects like DOF. All pathtraces to my knowledge simulate a BRDF of some form just out of the nature of their design. Take that as you wish but i cant imagine a single style or outcome you can do with traditional rendering that cant be done in PBR especially not for performance reasons.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<blockquote>
<p>Take that as you wish but i cant imagine a single style or outcome you can do with traditional rendering that cant be done in PBR especially not for performance reasons.</p>
</blockquote>
<p>I’m comfortable taking your word for it at this point. You might have hit the nail on the head by saying traditional rendering. I am perhaps thinking of “non-traditional” rendering.  I will experiment with PBR for my use-case further (when I tried it last time it seemed to slow down my scenes considerably, but it’s not unlikely it was my own fault) and will pass judgment then.</p>
<p>Also, when that render is done using Blender Cycles without faking the effects it takes unrealistically long (which is my point), however, that’s not important to this discussion. I didn’t mean to derail this thread with this discussion. Sorry about that Lumak.</p>
<p>Edit: My point at the start was that the fake BRDF Lumak posted was cool and useful for me where PBR over-complicated my life and slowed down my renders, and the explanations of PBR dragonCASTjosh provided in response to my questions were useful and suggested I might have been doing something wrong. So perhaps it wasn’t completely off-topic.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote" data-post="42" data-topic="2953">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/108f0fd00c8dd14a5d276864cc059184.png" width="20"/> suncaller:</div>
<blockquote>
<p>dragonCASTjosh provided in response to my questions were useful and suggested I might have been doing something wrong. So perhaps it wasn’t completely off-topic.</p>
</blockquote>
</aside>
<p>I’m happy to would you through it and help make things are working as intended.</p>
<aside class="quote" data-post="42" data-topic="2953">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/108f0fd00c8dd14a5d276864cc059184.png" width="20"/> suncaller:</div>
<blockquote>
<p>ake BRDF Lumak posted was cool and useful for me where PBR over-complicated</p>
</blockquote>
</aside>
<p>I agree that the fake PBR is cool and there is probably is a good use case for something like that. I’m just concerned that the current use case is based on miss understanding</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Made a lot of minor tweaks, such as resizing sequence frame textures, etc., and corrected post-process glow.</p>
<p>Blur5 and 3, sigma=2 (what’s checked in)<br/>
<a data-bbcode="true" href="https://ibb.co/cgKmwF" rel="nofollow noopener"><img alt="" height="360" src="../../../images2/39b1e9788071072330753e08924c10be.jpg" width="640"/></a></p>
<p>Blur9, sigma=5<br/>
<a data-bbcode="true" href="https://ibb.co/kFkLOv" rel="nofollow noopener"><img alt="" height="359" src="../../../images2/7ecc9e064d78e9ac9c651190fada043a.jpg" width="640"/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>I recently watched some gameplay of Yakuza 0 and wondered how they’re able to process so many marquee lights in the scene w/o performance loss. It turns out it’s a simple mechanic by creating a mesh with a set number of repeating geometry.  In the pic below is a 3-bulb template geom repeated to fill the entire panel.</p>
<p><img alt="" height="180" src="../../../images2/80de14c86630dddd270077ac2ca15b08.gif" width="320"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<p>So is it a single instanced mesh with 3 bulbs, one of which is unlit, or 3 bulbs which are programmatically all lit or unlit? Or have I misunderstood what you meant?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>It might make it more clear if I explain how I created the marquee light panel:</p>
<ol>
<li>create a 3-bulb mesh, the uv’s for each bulb is placed at top, middle and bottom.</li>
<li>duplicate the 3-bulb mesh and create a long column - in the gif above, that would be the one directly above the char’s head and goes to the top center of the screen - then combine the column into a single mesh</li>
<li>duplicate the column mesh from 2 and place them left and right of the original to fill the panel</li>
<li>trim excess mesh (bulbs) extending from the panel</li>
<li>combine all the columns into a single mesh - done.</li>
</ol>
<p>What you end up with is a mesh that uses single material with the same diffuse map and emissive map.  What you see in the gif is an UVFrame offset sequence for the emissive map, changing the uv offset to bottom black, mid black to top black.</p>
<p>I hope that clarifies what’s going on in the gif.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/257_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suncaller</div>
          <div class="post_content">
<p>Yes, that does clarify it, thanks.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Hi, all!</p>
<p>Could you help me create basic car glass? I mean the feeling of glass,<br/>
better not PBR way…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Recently added: <a href="https://github.com/Lumak/Urho3D-Greenscreen-UVFrame">https://github.com/Lumak/Urho3D-Greenscreen-UVFrame</a> (added the link on my 1st post as well)</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>