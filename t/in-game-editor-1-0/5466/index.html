<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>In Game Editor 1.0</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">In Game Editor 1.0</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Very early days.</p>
<p>We’re not using Urho Player to launch from script… this is a dedicated in-game editor solution.<br/>
It could be a single component, so far it is not.</p>
<p>The purple circle indicates where my mouse cursor was, when I took the screen shot (when the gui is visible, so is the cursor), and the surface normal under it at the time… I’m still using a system cursor, so it does not show up in the screen shot.</p>
<p>The editor is somewhat different to the regular Urho editor, but the files it produces are interchangeable, and can be hotloaded, without closing the app you can edit the files externally, and then bring in the changes.</p>
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="nofollow noopener" title="MousePickNormal.jpg"><img alt="MousePickNormal" data-base62-sha1="g8nHXy3eBqrZfSLdpBBbEmYnkhU"  height="332" src="../../../images2/f6f2a5c923d33c9ebdce7bc666294de6.jpeg"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">MousePickNormal.jpg</span><span class="informations">1792×863 319 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>For those who may be interested, this is Lesson 8 in my rad (rapid application development) tutorial series for urho beginners who can already code in c++… (there are a futher 17 lessons for coders who want to learn c++)…<br/>
sourcecode on request.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-post="2" data-topic="5466">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/344277caf39f87861709d8bd9d77ec6d.png" width="20"/> Leith:</div>
<blockquote>
<p>sourcecode on request.</p>
</blockquote>
</aside>
<p>Why not make a repository for this?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>If there is demand, I might do that. Why hide what I am doing?<br/>
This is just an experiment in realtime editing - there is a lot I am not showing… but what is the difference between a git repo, and an offsite link to full source?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>The main invention in this example is that you can take control over, in a character controller sense, anything you can point at, including the ground - the surface normal indicator was a luxury</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group quote-modified" data-post="4" data-topic="5466">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/344277caf39f87861709d8bd9d77ec6d.png" width="20"/> Leith:</div>
<blockquote>
<p>…what is the difference between a git repo, and an offsite link to full source?</p>
</blockquote>
</aside>
<p>Believe me, you’ll find out with no regrets.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Given nobody has asked, I won’t lift a finger… other things to do. Should that change, then yes, I probably will make a repo - all the same, a picture can be useful and helpful on its own.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>It’s like a public space, an open door where people don’t have to knock for a look inside.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dev4fun</div>
          <div class="post_content">
<p>I would like to see the repo. Yesterday I was thinking to try an editor too on C++, or migrate all AngelScript code to C++ lol.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1493_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TheComet</div>
          <div class="post_content">
<p>It should be standard practice for all developers these days to put any new project under version control.</p>
<p>It’s possible to launch the standard Urho3D editor in-game. I did this in one of my older projects. It pretty much just involves running <code>Scripts/Editor.as</code> and making a few modifications so the editor can exit back to the game when it quits.</p>
<p>Having your own in game editor can be helpful in some situations, but I feel like with Urho being able to hot reload everything, an external editor is just as quick to use.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>I am under the hammer trying to earn a teaching qualification, but I will try to find time to automate my repo updates and in this case I will publish a link. It makes me sad. I don’t want to maintain a whole fork of the engine, and chances are high that as time goes on, most people won’t be able to build my projects without pulling down my changes. This is not what I want at all.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">bejer</div>
          <div class="post_content">
<p>How can I do hot reloading in Urho?<br/>
What would the workflow/setup in Urho look like? Can I ask it to watch for changes in the resources / assets and automatically reload them?<br/>
If there is a wiki page describing this, then I have missed it, and would like a pointer to it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>You can do this with:<br/>
<code>GetSubsystem&lt;ResourceCache&gt;()-&gt;SetAutoReloadResources(true);</code></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2396_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suppagam</div>
          <div class="post_content">
<p>Does that apply to scenes too?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>It applies to the <code>ResourceCache</code>, but yes, the effect will be visible for any of the reloaded <code>Resource</code>s that are present in a <code>Scene</code>.</p>
<p>…or do you mean scene <code>XMLFile</code>s? If so the <code>XMLFile</code> <em>will</em> be reloaded, as it is a resource, but constructing a <code>Scene</code> from it is a step that should be manually added.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Hotloading is an option for resource files, but we can set up FileWatches on folders other than the resource path folders, should we choose. My application does not save scenes to the resource path by default, it saves them in the resource root folder, the one that holds Data and CoreData and such…<br/>
PLEASE! Experiment with hotloading! You can edit your scene outside your app, and go back to your app and see the changes! Without restarting your app! It’s very RAD…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1493_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TheComet</div>
          <div class="post_content">
<p>What <span class="mention">@Modanung</span> said. If you have a scene XML file, Urho will reload the file but it won’t automatically parse/create the scene. For this you have to subscribe to E_FILECHANGED. For example:</p>
<pre><code class="lang-cpp">void ServerApplication::LoadScene()
{
    ResourceCache* cache = GetSubsystem&lt;ResourceCache&gt;();

    scene_ = new Scene(context_);
    planet_ = scene_-&gt;CreateChild();
    planetXML_ = cache-&gt;GetResource&lt;XMLFile&gt;("Prefabs/ShizzlePlanet.xml");
    planet_-&gt;LoadXML(planetXML_-&gt;GetRoot());
}

void ServerApplication::HandleFileChanged(StringHash eventType, VariantMap&amp; eventData)
{
    if (eventData[FileChanged::P_RESOURCENAME].GetString() == planetXML_-&gt;GetName())
    {
        planet_-&gt;LoadXML(planetXML_-&gt;GetRoot());
    }
}
</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<aside class="quote no-group" data-post="10" data-topic="5466">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ba16b189a5c8898be0e4351de6c4b98b.png" width="20"/> TheComet:</div>
<blockquote>
<p>It’s possible to launch the standard Urho3D editor in-game. I did this in one of my older projects. It pretty much just involves running <code>Scripts/Editor.as</code> and making a few modifications so the editor can exit back to the game when it quits.</p>
</blockquote>
</aside>
<p>Yeah, I like the AS-Editor for this as well(although I didn’t use it heavily and only in my scene-previewer so that was no real game). Pretty straight forward with almost no modification.Only thing to do is to use the current scene instead of creating a new one. Afterwards you can just hide the editor…<br/>
<aside class="onebox githubblob">
<header class="source">
<a href="https://github.com/dertom95/urho3d-blender-runtime/blob/master/bin/Data/Scripts/Editor/EditorScene.as#L61" rel="nofollow noopener" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a href="https://github.com/dertom95/urho3d-blender-runtime/blob/master/bin/Data/Scripts/Editor/EditorScene.as#L61" rel="nofollow noopener" target="_blank">dertom95/urho3d-blender-runtime/blob/master/bin/Data/Scripts/Editor/EditorScene.as#L61</a></h4>
<pre class="onebox"><code class="lang-as"><ol class="start lines" start="51" style="counter-reset: li-counter 50 ;">
<li>
</li>
<li>    HideGizmo();
</li>
<li>}
</li>
<li>
</li>
<li>void CreateScene()
</li>
<li>{
</li>
<li>    // Create a scene only once here
</li>
<li>    
</li>
<li>    editorScene = renderer.viewports[0].get_scene();
</li>
<li>    
</li>
<li class="selected">    //editorScene = Scene();
</li>
<li>   // editorScene = scene_;
</li>
<li>
</li>
<li>    // Allow access to the scene from the console
</li>
<li>    script.defaultScene = editorScene;
</li>
<li>
</li>
<li>    // Always pause the scene, and do updates manually
</li>
<li>    editorScene.updateEnabled = false;
</li>
<li>}
</li>
<li>
</li>
<li>bool ResetScene()
</li>
</ol></code></pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="nofollow noopener" title="Screenshot from 2019-08-29 19-07-17.jpg"><img alt="Screenshot%20from%202019-08-29%2019-07-17" data-base62-sha1="USDSD6Ya1YL3AOP15hv8yMMATA"  height="388" src="../../../images2/5b5b5391adbd8e82029e96a93b9dfed2.jpeg"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot from 2019-08-29 19-07-17.jpg</span><span class="informations">1920×1080 689 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br/>
Oh Lordy, Pick a bail a day</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-post="19" data-topic="5466">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/344277caf39f87861709d8bd9d77ec6d.png" width="20"/> Leith:</div>
<blockquote>
<p>Oh Lordy, Pick a bail a day</p>
</blockquote>
</aside>
<p>Only if you feel like it. Although fluffy, this is no cotton farm.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Probably not <img alt=":smiley:" class="emoji" src="../../../images2/94dd27e9c6c243335d29229e02e34e9d.png" title=":smiley:"/> still, its nice to see progress- the headers on each section of the inspector, can be collapsed, and the state is serializable - also, its completely based on introspection - no special treatment - it can see itself, and edit itself, in terms of attributes, and given its a component - latest news, this component, can load a new scene - and survive it</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>When can the Notyous see the code?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Oh, yeah, the code <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/> I’ll please and thank you to push it in today or tomorrow. Probably a new repo, for urho beginners, containing my rapid acceleration lessons for people who can sort of kind of already code</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Are you familiar with branches? They could make possible future pull requests a lot easier to organize.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Are you telling me to branch my fork? <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>The app, and the urho codebase, are kinda separate - I don’t think I rely on any changes I made in this branch</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Well, it seems like a habit that would increase the chances of achieving your goals, as I perceive them.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>This is not my main branch of my project, this is my sandbox and training ground</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>If you think people could benefit, and hell, theres a lot just in the UI stuff that had me fluxed, well, I will make an effort to post it all - by all, I mean, my sandbox, not my main branch</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>That’s kind of the trick here: Sharing <em>opens up the possibility</em> of people benefiting from your work.</p>
<p>When <em>not</em> sharing you can be certain that none other will benefit.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>I have made a lotta comments about what you need to do BEFORE X in UI stuff, and what you need to do AFTER, its not well documented, maybe it could be useful</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>I mean, before and after adding a child or subitem, and what you do after adding it, the side effects vary, and its well under documented - to be honest, theres still a crapload I don’t understand about Urho’s UI implementation, but I am rapidly learning, and willing to share in some way. I am definitely past the samples, and ready to replace the defaults.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>I’ve extended Urho’s DebugRenderer to provide what I need for meshless widgets, which include (oriented) solid cylinders, solid cones, and solid arrows based on a cylinder and a cone.<br/>
I’ve also had to write some extra intersection tests (ray/cylinder and ray/obb) in order to implement my Translate, Rotate and Scale widgets.<br/>
It’s nice have the basic manipulator tools done, now I need to work more on the UI - while not cluttered like Urho’s editor interface, it is far from where I want it to be.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>