<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[SOLVED] Raycasting</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">[SOLVED] Raycasting</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GIMB4L</div>
          <div class="post_content">
<p>Hey all,</p>
<p>So I tried to implement physics raycasts in my project, but to no avail. I’ve verified that the ray is pointing in the correct direction, but it just won’t hit anything. I’ve also played with the mask settings, but those don’t seem to help either.</p>
<p>I’ve noticed that the Ninja demo has working raycasts so that the camera does not collide with geometry, but the only difference I can see between that and my demo would be collision mesh. The ninja demo features a TriangleMesh as the CollisionShape for the playing ground, while my simple building uses a box CollisionShape.</p>
<p>Is there a specific way the physics raycast is intended to be used?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Mike</div>
          <div class="post_content">
<p>There are good raycast examples in examples <span class="hashtag">#18</span> and <span class="hashtag">#15</span>, and in Utilities/Touch either.<br/>
Take a look at them and if it still doesn’t work, maybe you should post here the piece of code you’re using.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GIMB4L</div>
          <div class="post_content">
<p>Hey Mike,</p>
<p>I looked at the other samples, and my code is pretty much the same. I’ll post it below.</p>
<pre><code class="lang-auto">Ray bulletRay = Ray(cameraNode.worldPosition, cameraNode.worldDirection);
		
PhysicsRaycastResult[] hitObjects = physWorld.Raycast(bulletRay;</code></pre>
<p>Could it be that those demos use TriangleMesh for the objects they raycast against?</p>
<p>EDIT: So, I tried switching the CollisionShape type of the models in the demos, and they work fine. It must be my raycast code then.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GIMB4L</div>
          <div class="post_content">
<p>Hey, I found the solution to the problem. Don’t specify M_INFINITY as the distance. Passing in a non-infinite for the value fixed the problem.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>