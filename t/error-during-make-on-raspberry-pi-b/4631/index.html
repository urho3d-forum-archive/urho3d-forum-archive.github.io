<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Error during Make. on raspberry pi B+</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Error during Make. on raspberry pi B+</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>Hi, I am fairly new to Linux and the pi. I followed all the instructions on the <a  rel="nofollow noopener">https://github.com/urho3d/Urho3D/wiki/Getting-started-in-Linux</a> page. however i get this error.</p>
<pre><code>[ 75%] Linking CXX static library ../../lib/libUrho3D.a
Merging all archives into a single static library using ar
[ 75%] Built target Urho3D
[ 75%] Linking CXX executable ../../../bin/Urho3DPlayer
/usr/bin/ld: cannot find -lGLESv1_CM
/usr/bin/ld: cannot find -lGLESv1_CM
collect2: error: ld returned 1 exit status
Source/Tools/Urho3DPlayer/CMakeFiles/Urho3DPlayer.dir/build.make:95: recipe for target 'bin/Urho3DPlayer' failed
make[2]: *** [bin/Urho3DPlayer] Error 1
CMakeFiles/Makefile2:1516: recipe for target 'Source/Tools/Urho3DPlayer/CMakeFiles/Urho3DPlayer.dir/all' failed
make[1]: *** [Source/Tools/Urho3DPlayer/C[ 75%] Linking CXX static library ../../lib/libUrho3D.a
Merging all archives into a single static library using ar
[ 75%] Built target Urho3D
[ 75%] Linking CXX executable ../../../bin/Urho3DPlayer
/usr/bin/ld: cannot find -lGLESv1_CM
/usr/bin/ld: cannot find -lGLESv1_CM
collect2: error: ld returned 1 exit status
Source/Tools/Urho3DPlayer/CMakeFiles/Urho3DPlayer.dir/build.make:95: recipe for target 'bin/Urho3DPlayer' failed
make[2]: *** [bin/Urho3DPlayer] Error 1
CMakeFiles/Makefile2:1516: recipe for target 'Source/Tools/Urho3DPlayer/CMakeFiles/Urho3DPlayer.dir/all' failed
make[1]: *** [Source/Tools/Urho3DPlayer/CMakeFiles/Urho3DPlayer.dir/all] Error 2
Makefile:149: recipe for target 'all' failed
make: *** [all] Error 2
MakeFiles/Urho3DPlayer.dir/all] Error 2
Makefile:149: recipe for target 'all' failed
make: *** [all] Error 2
</code></pre>
<p>any help would be appreciated. Thanks in advance!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2547_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Miegamicis</div>
          <div class="post_content">
<p>Looks like you don’t have the OpenGL installed on your machine.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>RPI build is slightly different than native Linux build. You may want to follow the steps outlined in <a href="https://urho3d.github.io/documentation/HEAD/_building.html#Building_RaspberryPi">https://urho3d.github.io/documentation/HEAD/_building.html#Building_RaspberryPi</a> instead.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>I’m a little confused. I was trying to build directly on my raspberry pi. Do i need a second Linux machine to build on?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>I have openGL installed. I can run the glxgears demo</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>You did not say earlier and I assumed you were cross-building, which is by the way much easier and faster to get thing done. I have not done the direct build on RPI for a long while but our build system should be able to generate the Makefile project for building directly on the Raspberry Pi itself. Provided, you have all the prerequisite dev software packages properly installed, something like: libx11-dev, libasound2-dev, libpulse-dev, libdbus-1-dev, libreadline6-dev, libudev-dev, and libevdev2. This is on top of the usual build-essential package. Also, ensure you use the right build options for CMake for the Makefile project generation. We have provided “script/cmake_rpi.sh” for such occasion, which basically passes a crucial flag to inform the build system to target RPI platform.</p>
<p>Good luck.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>Thank you so much! I managed to get it working with running the cmake_rpi.sh file. When I try opening a sample file in the bin folder using<br/>
<code>./Urho3DPlayer 01_HelloWorld</code><br/>
I get the error<br/>
[Wed Oct 31 20:13:34 2018] ERROR: Failed to initialise SDL subsystem:<br/>
[Wed Oct 31 20:13:34 2018] INFO: Opened log file /home/pi/.local/share/urho3d/logs/01_HelloWorld.log<br/>
[Wed Oct 31 20:13:34 2018] INFO: Created 3 worker threads<br/>
[Wed Oct 31 20:13:34 2018] INFO: Added resource path /home/pi/Urho3D-master/bin/Data/<br/>
[Wed Oct 31 20:13:34 2018] INFO: Added resource path /home/pi/Urho3D-master/bin/CoreData/<br/>
[Wed Oct 31 20:13:34 2018] INFO: Added resource path /home/pi/Urho3D-master/bin/Autoload/LargeData/<br/>
[Wed Oct 31 20:13:34 2018] ERROR: Could not create window, root cause: ‘’</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Have you dropped to text mode? Kill the Gnome/KDE desktop to conserve CPU power and memory just for Urho3D. Also do this as stated in our online doc.</p>
<ul>
<li>Raspberry Pi: Model B revision 2.0 with at least 128 MB of 512 MB SDRAM allocated for GPU.</li>
</ul>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>Yep i did both! it still throws the same errors.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>FWIW, have you tried the prebuilt binary on your device? If it works then probably you need to rebuild from a new build tree. Sometimes after try and error, CMake still caches the wrong bits and interferes with the build tree generation and therefore the build result becomes wrong also.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>One more thing. You have to use latest master from GitHub if you are using Raspbian Stretch or newer version.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>How do I make sure its the newest version? i just use<br/>
git clone <a  rel="nofollow noopener">https://github.com/urho3d/Urho3D</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>The commits related to Raspbian Stretch build support were added to master branch around December last year. We have not made any release since then. But if you just cloned the repo recently then you should be ok. So it is something else that caused your runtime issue.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>I re-downloaded and remade it. I now get this error at runtime. I am using just the command line and running at 680x420.<br/>
pi@DuckPi:~/Urho3D/bin $ ./Urho3DPlayer 01_HelloWorld<br/>
[Fri Nov  2 00:20:02 2018] INFO: Opened log file /home/pi/.local/share/urho3d/logs/01_HelloWorld.log<br/>
[Fri Nov  2 00:20:02 2018] INFO: Created 3 worker threads<br/>
[Fri Nov  2 00:20:02 2018] INFO: Added resource path /home/pi/Urho3D/bin/Data/<br/>
[Fri Nov  2 00:20:02 2018] INFO: Added resource path /home/pi/Urho3D/bin/CoreData/<br/>
[Fri Nov  2 00:20:02 2018] INFO: Added resource path /home/pi/Urho3D/bin/Autoload/LargeData/<br/>
[Fri Nov  2 00:20:02 2018] INFO: Adapter used Broadcom VideoCore IV HW<br/>
[Fri Nov  2 00:20:02 2018] INFO: Set screen mode 640x480 fullscreen monitor 0<br/>
[Fri Nov  2 00:20:02 2018] INFO: Initialized input<br/>
[Fri Nov  2 00:20:02 2018] INFO: Initialized user interface<br/>
[Fri Nov  2 00:20:02 2018] INFO: Initialized renderer<br/>
ALSA lib pcm_hw.c:1794:(_snd_pcm_hw_open) card is not defined<br/>
[Fri Nov  2 00:20:02 2018] ERROR: Could not initialize audio output<br/>
[Fri Nov  2 00:20:02 2018] INFO: Initialized engine<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:1,1 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:26,174 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:371,380 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:372,212 Unexpected token ‘!’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:386,64 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:386,103 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:389,25 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:391,258 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:407,19 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:407,190 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:412,262 Unexpected token ‘&amp;’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:413,226 Expected identifier<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:413,226 Instead found ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147057,1250 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147064,143 Expected identifier<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147064,143 Instead found ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147109,523 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147118,879 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147142,371 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147143,428 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147143,434 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,280 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,286 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,310 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,316 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,322 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,330 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,336 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,339 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147173,342 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147206,319 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147206,1567 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147206,1572 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147225,825 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147225,831 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147226,156 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147226,168 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147272,36 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147280,676 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147300,1521 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147300,1529 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147300,1537 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147300,1545 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147309,377 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147309,5089 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147310,201 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: 01_HelloWorld:147326,2609 Unexpected token ‘’<br/>
[Fri Nov  2 00:20:03 2018] ERROR: Failed to compile script module 01_HelloWorld</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>Oh, I just needed it to use</p>
<pre><code>./01_HelloWorld
</code></pre>
<p>and not<br/>
<code>./Urho3DPlayer 01_HelloWorld</code></p>
<p>Thanks for all the help!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>If using the player then you need to specify the script name with the extension as well.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>Once I open an example I cant figure out how to quit?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Read this section of the online doc. HTH</p>
<aside class="onebox whitelistedgeneric">
<header class="source">
<a href="https://urho3d.github.io/documentation/HEAD/_examples.html" target="_blank">Urho3D</a>
</header>
<article class="onebox-body">
<h3><a href="https://urho3d.github.io/documentation/HEAD/_examples.html" target="_blank">Examples</a></h3>
<p>Urho3D is a free lightweight, cross-platform 2D and 3D game engine implemented in C++ and released under the MIT license. Greatly inspired by OGRE and Horde3D.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>OH then it definitely just got stuck. Ill try it out later today again</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">walabulu4</div>
          <div class="post_content">
<p>I tried a couple of the pre-compiled examples and tried some through the player. They started but I could not input anything. Im pretty sure it was frozen.</p>
<p>EDIT:<br/>
Wait now i just keep getting this error<br/>
[Fri Nov  2 23:59:21 2018] INFO: Opened log file /home/pi/.local/share/urho3d/logs/Editor.as.log<br/>
[Fri Nov  2 23:59:21 2018] INFO: Created 3 worker threads<br/>
[Fri Nov  2 23:59:21 2018] INFO: Added resource path /home/pi/Urho3D/bin/Data/<br/>
[Fri Nov  2 23:59:21 2018] INFO: Added resource path /home/pi/Urho3D/bin/CoreData/<br/>
[Fri Nov  2 23:59:21 2018] INFO: Added resource path /home/pi/Urho3D/bin/Autoload/LargeData/<br/>
* failed to add service - already in use?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Just to point out the obvious and make sure we are on the same page, when you using the prebuilt binary on Raspbian Stretch then you have to use “snapshot” versions instead of “1.7” release version.</p>
<p>As for your last error, I have never seen it before. In the past I remember one of the RPI user reported that the sample ran but he got no input. However, eventually he managed to solve that problem after installing missing dev packages (I think) and rebuild. Ensure you have the libdbus-1-dev, libudev-dev, and libevdev2 installed.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>