<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Angelscript build failure&hellip;?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Angelscript build failure&hellip;?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pleduc</div>
          <div class="post_content">
<p>hye, first thanks for your so great work…<br/>
im trying to use Urho3d on ios/tvos/emcc tag 1.7 as external librairie,<br/>
with the fips ( cmake ) toolchain…<br/>
but i get:</p>
<p>Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:31:<br/>
Install/include/Urho3D/ThirdParty/AngelScript/wrap16.h:18:11: error:<br/>
argument may not have ‘void’ type<br/>
Proxy(T value) : value(value) {}<br/>
^</p>
<p>it work when i set the AS_IS_BUILDING to true ( but should not be )<br/>
but then i get error on registering function at run time.</p>
<p>all is working well on linux, macos, android.<br/>
this is really blocking me.<br/>
i looked over c++ version support but did not figure it out…<br/>
hope i am in the right place for this question…<br/>
thanks</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Welcome to the community! <img alt=":confetti_ball:" class="emoji" src="../../../images2/2e7550946e098183e5e0689c128eb557.png" title=":confetti_ball:"/><br/>
I’m not the right guy to deal with build issues, he will be along soon. Hang in there! It’s going to be ok <img alt=":slight_smile:" class="emoji" src="../../../images2/33cb8d9bf277cdb113680cf5564b6764.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Welcome! <img alt=":confetti_ball:" class="emoji" src="../../../images2/2e7550946e098183e5e0689c128eb557.png" title=":confetti_ball:"/> <img alt=":slightly_smiling_face:" class="emoji" src="../../../images2/c5efadebdea06e0499f03c0a7e1e9e61.png" title=":slightly_smiling_face:"/><br/>
Have you tried using the latest master branch instead of the pre-built library?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<aside class="quote no-group" data-post="1" data-topic="5039" data-username="pleduc">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/a0b0c1233b59b50a50f7086846976210.png" width="20"/> pleduc:</div>
<blockquote>
<p>with the fips ( cmake ) toolchain…</p>
</blockquote>
</aside>
<p>I am afraid you are on your own on this one. First time I heard anyone using that for Urho3D building.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pleduc</div>
          <div class="post_content">
<p>ok, few precision, i’m building my own static lib from 1.7 tag ( as i need stable ) from the normal build flow ( urho cmake ) then i build my own surcharge of urho3d kinked as lib with <a href="https://github.com/floooh/fips" rel="nofollow noopener">https://github.com/floooh/fips</a>.<br/>
i just do not get the error kind as it seems to be c++ kind template wired stuff…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>As our resources are limited, we cannot possibly support all kind of new build tools out there. If I were you, I would double check my compiler defines. This is my educated guess of what possibly went wrong and probably my last comment for this thread. Good luck.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>You probably omitted the actual source of the error. By the looks of it, something is causing the <code>Proxy</code> template from <code>wrap16.h</code> header to be instantiated as <code>Proxy&lt; void &gt;</code>. Which is a no-no for the compiler if you look at what that template tries to achieve.</p>
<p>But you don’t show the full trace-back of the error to see what causes the whole issue. Actually, I don’t even know what you’re trying to do. Whether this gets caused by your code or the engine itself.</p>
<p>This issue seems very particular to your case because you made it so by choosing an alternate build-system.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pleduc</div>
          <div class="post_content">
<p>first, thanks for your reactivity and consideration of this pb.<br/>
the pb only appear on arm arch ( simulator build is ok )</p>
<p>here the full stask, just in case:</p>
<p>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x c++ -arch arm64 -fmessage-length=109 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -fcolor-diagnostics -std=c++11 -stdlib=libc++ -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-return-type -Wno-non-virtual-dtor -Wno-overloaded-virtual -Wno-exit-time-destructors -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wno-unused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wshorten-64-to-32 -Wno-newline-eof -Wno-c++11-extensions -DCMAKE_INTDIR=“Debug-iphoneos” -DURHO3D_LOGGING -DIOS -DURHO3D_CXX11 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.1.sdk -fstrict-aliasing -Wdeprecated-declarations -Winvalid-offsetof -miphoneos-version-min=9.0 -g -Wno-sign-conversion -Wno-infinite-recursion -Wno-move -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-range-loop-analysis -Wno-semicolon-before-method-body -index-store-path /Users/ifs/Library/Developer/Xcode/DerivedData/hop-ddoobgobcrcyhyekfdcnylptxlpm/Index/DataStore -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/lib/include -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/SQLite -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/libcurl/ios-x86_64-release/Install/include -I/Users/ifs/work/wks-ifs/hop/Sources/Engine -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Toolbox -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/OS -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Storage -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Data -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/UI -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/TV -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend -I/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Media -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/Engine/Framework/hop.build/Debug-iphoneos/Framework.build/DerivedSources/arm64 -I/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/Engine/Framework/hop.build/Debug-iphoneos/Framework.build/DerivedSources -Wmost -Wno-four-char-constants -Wno-unknown-pragmas -F/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/lib -fstrict-aliasing -Wno-multichar -Wall -Wextra -Wno-unused-parameter -Wno-unknown-pragmas -Wno-ignored-qualifiers -Wno-long-long -Wno-overloaded-virtual -Wno-unused-volatile-lvalue -Wno-deprecated-writable-strings -std=c++11 -D_DEBUG_ -D_DEBUG -DCMART_DEBUG=1 -std=gnu++11 -MMD -MT dependencies -MF /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/Engine/Framework/hop.build/Debug-iphoneos/Framework.build/Objects-normal/arm64/BackendScript.d --serialize-diagnostics /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/Engine/Framework/hop.build/Debug-iphoneos/Framework.build/Objects-normal/arm64/BackendScript.dia -c /Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp -o /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Build/Engine/Framework/hop.build/Debug-iphoneos/Framework.build/Objects-normal/arm64/BackendScript.o<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:4:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/APITemplates.h:25:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/…/AngelScript/Addons.h:34:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/angelscript.h:1997:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:31:<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap16.h:17:5: error:<br/>
field has incomplete type ‘void’<br/>
T value;<br/>
^<br/>
/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:65:34: note: in instantiation<br/>
of template class ‘gw::Proxy’ requested here<br/>
iResult = pScriptEngine-&gt;RegisterObjectMethod( “AuthenticationManager”, "Account@+ CreateAcco…<br/>
^<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:4:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/APITemplates.h:25:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/…/AngelScript/Addons.h:34:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/angelscript.h:1997:<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:68:35: note:<br/>
expanded from macro ‘RegisterObjectMethod’<br/>
<span class="hashtag">#define</span> RegisterObjectMethod(…) RegObjectMethodIndirect(<strong>VA_ARGS</strong>)<br/>
^<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:70:64: note:<br/>
expanded from macro ‘RegObjectMethodIndirect’<br/>
<span class="hashtag">#define</span> RegObjectMethodIndirect(clsdcl,decl, F, clsfunc, kind) RegisterObjectMethod#<span class="hashtag">#F</span>#<span class="hashtag">#kind</span> (clsdcl,…<br/>
^<br/>
:89:1: note: expanded from here<br/>
RegisterObjectMethodMPRasCALL_THISCALL<br/>
^<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:4:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/APITemplates.h:25:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/…/AngelScript/Addons.h:34:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/angelscript.h:1997:<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:134:69: note:<br/>
expanded from macro ‘RegisterObjectMethodMPRasCALL_THISCALL’<br/>
<span class="hashtag">#define</span> RegisterObjectMethodMPRasCALL_THISCALL(clsdcl,decl,clsfunc) RegisterObjectMethodMPRasCALL_THI…<br/>
^<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:135:101: note:<br/>
expanded from macro ‘RegisterObjectMethodMPRasCALL_THISCALL_2’<br/>
<span class="hashtag">#define</span> RegisterObjectMethodMPRasCALL_THISCALL_2(clsdcl,decl,…) RegisterObjectMethod(clsdcl,decl, WRAP_MFN_…<br/>
^<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:4:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/APITemplates.h:25:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/…/AngelScript/Addons.h:34:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/angelscript.h:1997:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:31:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap16.h:2930:<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap.h:87:66: note:<br/>
expanded from macro ‘WRAP_MFN_PR’<br/>
<span class="hashtag">#define</span> WRAP_MFN_PR(class_t,method,parameters,return_t) EV(EV(EV(CreateGenericFromMethod_2(class_t,me…<br/>
^<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap.h:74:43: note:<br/>
expanded from macro ‘CreateGenericFromMethod_2’<br/>
<span class="hashtag">#define</span> CreateGenericFromMethod_2(…) EV(CreateGenericFromMethod_3(<strong>VA_ARGS</strong>))<br/>
^<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap.h:82:26: note:<br/>
expanded from macro ‘CreateGenericFromMethod_3’<br/>
,__GEN_NONEMPTY_ARGS <br/>
^<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:4:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/APITemplates.h:25:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/AngelScript/…/AngelScript/Addons.h:34:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/angelscript.h:1997:<br/>
In file included from /Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrapmacros.h:31:<br/>
/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap16.h:18:11: error:<br/>
argument may not have ‘void’ type<br/>
Proxy(T value) : value(value) {}<br/>
^<br/>
2 errors generated.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>Man that’s an eye sore. Really annoying to track something in that dump. However it does confirm that the <code>Proxy</code> template gets instantiated as <code>Proxy&lt;void&gt;</code>. How that gets achieved is beyond my reach since it seems to happen somewhere in <code>/Sources/Engine/Framework/Backend/BackendScript.cpp</code>. A file which I can’t seem to find in the engine source code.</p>
<p>So if you have access to the code from that file, the error is detailed here:</p>
<pre><code class="lang-auto">/Users/ifs/work/wks-ifs/hop/Outputs/hop/ios-x86_64-debug-engine-device/Deps/urho3d/ios-x86_64-release-device-nocodesign/Install/include/Urho3D/ThirdParty/AngelScript/wrap16.h:17:5: error:
field has incomplete type ‘void’
T value;
^
/Users/ifs/work/wks-ifs/hop/Sources/Engine/Framework/Backend/BackendScript.cpp:65:34: note: in instantiation
of template class ‘gw::Proxy’ requested here
iResult = pScriptEngine-&gt;RegisterObjectMethod( “AuthenticationManager”, "Account@+ CreateAcco…
^
</code></pre>
<p>Simply put, in file <code>Urho3D/ThirdParty/AngelScript/wrap16.h</code> at line <code>15</code> there’s a template like:</p>
<pre><code class="lang-cpp">template &lt;typename T&gt; class Proxy { ....
</code></pre>
<p>And at line <code>17</code> a member variable is created in that <code>Proxy</code> class, of whatever type was given via the template <code>T</code>, like so:</p>
<pre><code class="lang-cpp">T value;
</code></pre>
<p>So now if you take it by logic, if I instantiate <code>Proxy</code> as <code>Proxy&lt;void&gt;</code> then the <code>value</code> member type will be void. And you can’t have a void member variable. Basically the whole thing translates to:</p>
<pre><code class="lang-cpp">class Proxy {
    void value;
};
</code></pre>
<p>Which is what makes the compiler to moan.</p>
<p>So if you keep extracting  further information from that message, you’ll notice that the instantiation happens in file <code>hop/Sources/Engine/Framework/Backend/BackendScript.cpp</code> at line <code>65</code> Where you attempt to register this function:</p>
<pre><code class="lang-cpp">iResult = pScriptEngine-&gt;RegisterObjectMethod( “AuthenticationManager”, "Account@+ CreateAcco…
</code></pre>
<p>Which is nicely trimmed exactly where you’re supposed to see how the API is registered and why does it blow up like that.</p>
<p>Now, I haven’t looked much into how the API is exposed to AngelScript. But the approach taken with <code>Proxy</code> is common in many script binding utilities. Which is basically used to provide storage and type information for a value extracted from a generic storage with no type information.</p>
<p>The storage part plays a nice role in extracting values in a tuple-like fashion and then forward them to a native function-like object (<em>or a similar fashion</em>).</p>
<p>However, since you can’t have void parameters in functions, I assume the failure happens on the returned value.</p>
<p>Long story short, the dump does show where the error originates from, but since it doesn’t show the actual code involved, none of us are likely to understand the cause of it. Let alone explain why.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pleduc</div>
          <div class="post_content">
<p>aie, sorry for the stack format… my really bad…<br/>
your analyse was very helpful…<br/>
it was because the void param wasn’t allowed in registering function !!,</p>
<p>so i replaced all:</p>
<blockquote>
<p>iResult = pScriptEngine-&gt;RegisterObjectMethod( “Image3DExt”, “void reset()”, asMETHODPR( Image3DExt, reset, (void), void ), asCALL_THISCALL );</p>
</blockquote>
<p>by</p>
<blockquote>
<p>iResult = pScriptEngine-&gt;RegisterObjectMethod( “Image3DExt”, “void reset()”, asMETHODPR( Image3DExt, reset, (), void ), asCALL_THISCALL );</p>
</blockquote>
<p>everywhere and it worked !! thanks very much for your analyse and time on this.<br/>
it remain true that only clang ios/tvos arm and emcc compilers where sensible of this declaration issue.<br/>
thread close !!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pleduc</div>
          <div class="post_content">
<p>really, just the:</p>
<blockquote>
<p>reset, (void),</p>
</blockquote>
<p>to</p>
<blockquote>
<p>reset, (),</p>
</blockquote>
<p>just …</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>