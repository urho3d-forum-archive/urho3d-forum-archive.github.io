<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Rendering Improvements [WIP]</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Rendering Improvements [WIP]</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>I have recently picked up work on improving the renderer, currently none of these changes are public but in the future they will likely be merged with the master branch of Uhro. All feedback is welcome as i want this to be the best it can.</p>
<p><span class="bbcode-b">Current features include:</span><br/>
[ul]  [li]Physically based inverse square light falloff<br/>
[/li][li]Pre-filtered IBL(currently handled externally)[/li][/ul]</p>
<p><span class="bbcode-b">Upcoming features:</span><br/>
[ul][li]Screen space reflections[/li]<br/>
[li]Screen space soft shadows[/li]<br/>
[li]Area lighting[/li]<br/>
[li]Ambient occusion[/li]<br/>
[li]New water shader[/li]<br/>
[li]And more…[/li][/ul]</p>
<p><span class="bbcode-b">Screenshots</span><br/>
[color=red]To correctly view images you will need to open then in a separate window[/color]</p>
<p><span class="bbcode-i">Inverse square light falloff</span><br/>
This uses the technique shown in Epic’s PBR paper for unreal to get a realistic falloff of light.</p>
<div class="spoiler">
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/5B6b17v.png" title=""><img alt="" height="365" src="../../../images2/7526fc0c91aacc1825ae8bf8bc634cfa.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1017</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
</div>
<p><span class="bbcode-i">Pre-filtered IBL</span><br/>
This may be difficult to see the difference but take my word for it performance is massively increased. likely not viable for mobile due to file size limits.</p>
<div class="spoiler">
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/3hbrFd7.jpg" title=""><img alt="" height="365" src="../../../images2/ead37c23545fdf4a8a01f6e44574e215.jpg" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1017</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
</div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Victor</div>
          <div class="post_content">
<p>Looks really good man! One request I’d really like to see happen are improvements to the water shader (or perhaps a new water shader for oceans). The current shader is really cool, although I had a hard time trying to convert this example into Urho: <a href="https://www.shadertoy.com/view/Ms2SD1" rel="nofollow noopener">shadertoy.com/view/Ms2SD1</a> (for oceans).</p>
<p>Now, this could be because I am still new to Urho so I don’t quite understand how everything is hooked up, but that’s my request. <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/> Again, great job so far!</p>
<ul>
<li>Sorry if this was not a valid request/feedback.</li>
</ul>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“Victor”]Looks really good man! One request I’d really like to see happen are improvements to the water shader (or perhaps a new water shader for oceans). The current shader is really cool, although I had a hard time trying to convert this example into Urho: <a href="https://www.shadertoy.com/view/Ms2SD1">shadertoy.com/view/Ms2SD1</a> (for oceans).</p>
<p>Now, this could be because I am still new to Urho so I don’t quite understand how everything is hooked up, but that’s my request. <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/> Again, great job so far!</p>
<ul>
<li>Sorry if this was not a valid request/feedback.[/quote]</li>
</ul>
<p>Ill see what i can do <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Victor</div>
          <div class="post_content">
<p>[quote=“dragonCASTjosh”]<br/>
Ill see what i can do <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/>[/quote]</p>
<p>You rock dude!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>Looks good. Are you doing energy conservation? As the specs and diffuse look a bit blown out.<br/>
For example these are from Unity’s PBR:<br/>
Fully metalic: <a data-bbcode="true" href="http://i.imgur.com/uVYZhkc.png" rel="nofollow noopener">http://i.imgur.com/uVYZhkc.png</a><br/>
Fully diffuse:  <a data-bbcode="true" href="http://i.imgur.com/BsqDs9E.png" rel="nofollow noopener">http://i.imgur.com/BsqDs9E.png</a><br/>
And this is going from one to the other: <a data-bbcode="true" href="http://i.imgur.com/S12idNa.gif" rel="nofollow noopener">http://i.imgur.com/S12idNa.gif</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“sabotage3d”]Looks good. Are you doing energy conservation? As the specs and diffuse look a bit blown out.<br/>
For example these are from Unity’s PBR:<br/>
Fully metalic: <a data-bbcode="true" href="http://i.imgur.com/uVYZhkc.png">http://i.imgur.com/uVYZhkc.png</a><br/>
Fully diffuse:  <a data-bbcode="true" href="http://i.imgur.com/BsqDs9E.png">http://i.imgur.com/BsqDs9E.png</a><br/>
And this is going from one to the other: <a data-bbcode="true" href="http://i.imgur.com/S12idNa.gif">http://i.imgur.com/S12idNa.gif</a>[/quote]</p>
<p>Energy conservation is something im looking into but i want to change some stuff with the BRDF first</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>This is looking pretty good, good work!</p>
<p>By the way the other day i tested the Urho3D las master version and the new PBR + Blurred shadows have big FPS drops and low FPS compared to other game engines. Drop to 80FPS and I’m in 780GTX in UE4 I can run a scene like that probably at constant 140FPS *but I need to check that better. And the shadows got some problems with the corners got an transparent aura</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“Hevedy”]This is looking pretty good, good work!</p>
<p>By the way the other day i tested the Urho3D las master version and the new PBR + Blurred shadows have big FPS drops and low FPS compared to other game engines. Drop to 80FPS and I’m in 780GTX in UE4 I can run a scene like that probably at constant 140FPS *but I need to check that better. And the shadows got some problems with the corners got an transparent aura[/quote]</p>
<p>The current problem with PBR within Urho is all the calculations are handled at runtime, engines like unreal approximate this into a texture that they load into a shader, the second feature currently listed as complete is doing this calculation prior to even shipping the engine so that performance is as high as possible for everyone.</p>
<p>as for shadows im looking to a screen space solution similar to unreal contact shadows thats planned for 4.13. it will allow high quality shadows on even the smallest object in the scene</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1151_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">hdunderscore</div>
          <div class="post_content">
<p>Good to see you working on these things, thanks !</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
 hd_:</div>
<blockquote>
<p>Good to see you working on these things, thanks !</p>
</blockquote>
</aside>
<p>still having the issues you pointed out to me a while ago where dds files from cmftStudio are not being imported by Urho. Im having to result to CubeMapGen but results are very inconstant.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>I think after alot of tweeking i got the IBL system just right in terms of quality. The only downside is the amount of work needed in filtering and converting the textures extrenally</p>
<div class="spoiler">
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/WBAUKwU.jpg" title=""><img alt="" height="365" src="../../../images2/1269da76bfee2893e6996f08e557a235.jpg" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">1920×1017</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
</div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>Looking good.</p>
<p>I’m testing the scene with a tree model to test the shadows and the quality and I’m into problems with the shader of the tree (first problem there is missing diff+normal+mask in PBR) second problem the bark of the tree looks like if the don’t are affected at all by PBR. And then I got a secondary problem with the leaves cause looks black in some parts, I will manage to send you the model tomorrow.</p>
<p>*As you can see the bark of the tree have a orange color at sides but not sure why is like if was metal or something.</p>
<div class="spoiler">
<p><img alt="" height="" src="../../../images2/8936ff852e57ed7378210755b52feea9.png" width=""/></p>
</div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“Hevedy”]Looking good.</p>
<p>I’m testing the scene with a tree model to test the shadows and the quality and I’m into problems with the shader of the tree (first problem there is missing diff+normal+mask in PBR) second problem the bark of the tree looks like if the don’t are affected at all by PBR. And then I got a secondary problem with the leaves cause looks black in some parts, I will manage to send you the model tomorrow.</p>
<p>*As you can see the bark of the tree have a orange color at sides but not sure why is like if was metal or something.</p>
<div class="spoiler">
<p><img alt="" height="" src="../../../images2/8936ff852e57ed7378210755b52feea9.png" width=""/></p>
</div>
<p>For now I recommend waiting till i commit the new changes. I think you will like the results <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>I have created a performance test using the D3D11 build of the new PBR solution, can people please test and provide me the average and max tick rate of the renderer. this can be viewed by pressing F2.<br/>
Download : <a data-bbcode="true" href="https://drive.google.com/file/d/0B7EwsKWU8ATkclZnM0NhUEIyU1E/view">https://drive.google.com/file/d/0B7EwsKWU8ATkclZnM0NhUEIyU1E/view</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">NiteLordz</div>
          <div class="post_content">
<p>Launched, ran around a few seconds, and here is the RunFrame stat liine</p>
<p>RunFrame: 198 - 5.038 - 5.786 - 5.038 - 997.589</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“NiteLordz”]Launched, ran around a few seconds, and here is the RunFrame stat liine</p>
<p>RunFrame: 198 - 5.038 - 5.786 - 5.038 - 997.589[/quote]</p>
<p>Can you tell me the render frame and your hardware, because the RunFrame can be affected by external things, also hardware would help me understand how well its performing</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">franck22000</div>
          <div class="post_content">
<p>Here is my performance report (I have a NVidia GTX 760):</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/tYkbKgF.png" rel="nofollow noopener" title=""><img alt="" height="500" src="../../../images2/27a98838deabf42d1c95fdb2abfb8231.png" width="540"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">602×557</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Very nice work ! Is it some screen space reflections on the floor in the front of the door ? <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-username="franck22000">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2cdc52013f8a4e9b5ebce773a63acafd.png" width="20"/> franck22000:</div>
<blockquote>
<p>Very nice work ! Is it some screen space reflections on the floor in the front of the door ? </p>
</blockquote>
</aside>
<p>Nope not done SSR yet that is just cubemaps and lighting <img alt=":slight_smile:" class="emoji" src="../../../images2/480f97b912eb537e18032299081e582a.png" title=":slight_smile:"/> also those results looks extremely nice 1MS on the renderer at the max</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">NiteLordz</div>
          <div class="post_content">
<p>NVidia Quadro K2200</p>
<p><img alt="" height="" src="../../../images2/120d40af3a4346a480c3a1d60e117d6e.png" width=""/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Seems to be hitting the 200 fps limiter, you can retry with -nolimit</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>that’s looks to be around mobile graphics card in terms of specs and I’m happy with the performance</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/17ea6233fe86521c2e3179bd3849d219.png" width="20"/> cadaver:</div>
<blockquote>
<p>Seems to be hitting the 200 fps limiter, you can retry with -nolimit</p>
</blockquote>
</aside>
<p>i consider that a good thing as it means PBR is not causing any performance issues</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/119_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">codingmonkey</div>
          <div class="post_content">
<p>good work! I’m testing your demo and I have these debug info with -nolimit<br/>
<a data-bbcode="true" href="http://savepic.ru/10251683.htm"><img alt="" height="" src="../../../images2/ffdeafa78352c22920cd1fcb7ff0d65a.png" width=""/></a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Look forward to OpenGL version <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dwlcj</div>
          <div class="post_content">
<p>Hello dragonCASTjosh,Maybe When will add SSR feature?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/55_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">rasteron</div>
          <div class="post_content">
<p>Another thing to consider is mobile rendering performance with defacto standard shaders, ie. lighting with minimal or no shadows, some effects like bloom, hdr, etc.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>Look forward to OpenGL version <img alt=":slight_smile:" class="emoji" src="../../../images2/480f97b912eb537e18032299081e582a.png" title=":slight_smile:"/></p>
</blockquote>
</aside>
<p>I am finishing up with the DirectX version but im happy to let someone work on a GL port of it whilst im working <img alt=":slight_smile:" class="emoji" src="../../../images2/480f97b912eb537e18032299081e582a.png" title=":slight_smile:"/> else you may be waiting a short while</p>
<aside class="quote no-group" data-username="dwlcj">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/57020a1804feed6cf714fb715ad2765b.png" width="20"/> dwlcj:</div>
<blockquote>
<p>Hello dragonCASTjosh,Maybe When will add SSR feature?</p>
</blockquote>
</aside>
<p>I have looked into SSR and other advanced features although it will require allot of learning on my part</p>
<aside class="quote no-group" data-username="rasteron">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd8529e5abecd6bdd1f8770e66ee2bab.png" width="20"/> rasteron:</div>
<blockquote>
<p>Another thing to consider is mobile rendering performance with defacto standard shaders, ie. lighting with minimal or no shadows, some effects like bloom, hdr, etc.</p>
</blockquote>
</aside>
<p>The new solution should have minimal performance difference over traditional rendering as alot of the IBL is done offline. I even believe the performance is fast enough to replace the default renderer as all traditional materials should be supported on the new PBR system</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/55_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">rasteron</div>
          <div class="post_content">
<p>Sounds good. In a related topic, pointing to this <a data-bbcode="true"  rel="nofollow noopener">issue</a> where you guys were proposing BGFX as the renderer, I think it would be a better choice moving forward but I see there’s also a lot at stake on this matter. Just a thought.</p>
<p>Great job on the current PBR feature btw, looks good!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dwlcj</div>
          <div class="post_content">
<p>I Found advanced RenderPipeline In Panda3D<br/>
Features?<br/>
Physically Based Shading<br/>
Deferred Rendering</p>
<p>URl:<a data-bbcode="true" href="https://github.com/tobspr/RenderPipeline" rel="nofollow noopener">https://github.com/tobspr/RenderPipeline</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>The Panda3D PBR looks quite impressive for still frames. When I look at the Render Pipeline it looks all python based, sounds like bad performance.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-username="sabotage3d">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4d54cd4ee2f08a1ba79603d6f6b6ab43.png" width="20"/> sabotage3d:</div>
<blockquote>
<p>The Panda3D PBR looks quite impressive for still frames. When I look at the Render Pipeline it looks all python based, sounds like bad performance.</p>
</blockquote>
</aside>
<p>Its performance is not to bad as there is a C++ backed.</p>
<aside class="quote no-group" data-username="dwlcj">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/57020a1804feed6cf714fb715ad2765b.png" width="20"/> dwlcj:</div>
<blockquote>
<p>I Found advanced RenderPipeline In Panda3D </p>
</blockquote>
</aside>
<p>I have been talking a fair bit the developer of RP to find faults and improvements with my PBR solution.</p>
<aside class="quote no-group" data-username="rasteron">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd8529e5abecd6bdd1f8770e66ee2bab.png" width="20"/> rasteron:</div>
<blockquote>
<p>Sounds good. In a related topic, pointing to this issue where you guys were proposing BGFX as the renderer, I think it would be a better choice moving forward but I see there’s also a lot at stake on this matter. Just a thought.</p>
</blockquote>
</aside>
<p>My main reasoning behind it is because it would lower the requirements when working on the renderer without taking away developer control.</p>
<p>On a side note i looked into Ambient Occlusion but settled with the best solution being backed for this there will likely need to be a lightmap generator that also handles AO.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>On subject of bgfx still: on the other hand if you find something it can’t do or where there’s a mismatch or annoyance for Urho usecase, it could be a lot harder to get those hypothetical changes approved in bgfx, instead of working within Urho’s “inhouse” rendering code.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/17ea6233fe86521c2e3179bd3849d219.png" width="20"/> cadaver:</div>
<blockquote>
<p>On subject of bgfx still: on the other hand if you find something it can’t do or where there’s a mismatch or annoyance for Urho usecase, it could be a lot harder to get those hypothetical changes approved in bgfx, instead of working within Urho’s “inhouse” rendering code.</p>
</blockquote>
</aside>
<p>i think the main reason it keeps getting brought up is not because Urho’s renderer is bad or slow, i think its because developer have to write features multiple times. for example for my PBR i had to write it once for DirectX forward, do a half write for Deferred, then i have to do a Port to GL forward then do the GL deferred, and its alot of rewriting the same feature</p>
<p>also do you have some kind of alert go off every time bgfx is mentioned  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Well that’s the shaders which you had to write multiple times.</p>
<p>No I don’t have an alarm for bgfx, but now I’m actually expecting its author to appear in this thread <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“cadaver”]Well that’s the shaders which you had to write multiple times.</p>
<p>No I don’t have an alarm for bgfx, but now I’m actually expecting its author to appear in this thread <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/>[/quote]</p>
<p>the simplest way to solve the shader issue is just write some preprocessor change the syntax of one of the languages but this is likely not a good long term solution. Vulkans spirv may be the best solution</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/55_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">rasteron</div>
          <div class="post_content">
<p>To be quite honest, the current renderer works really well. The only thing that I haven’t tested yet are the limits, quality and performance on an average android and other mobile devices.</p>
<p>I’m quite comfortable just using OpenGL/ES and GLSL, it’s just a matter of preference I guess plus it works cross-platform with some tweaks.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/a206ef460b2be73995958e48edfb5c6d.png" width="20"/> rasteron:</div>
<blockquote>
<p>I’m quite comfortable just using OpenGL/ES and GLSL, it’s just a matter of preference I guess plus it works cross-platform with some tweaks.</p>
</blockquote>
</aside>
<p>This works on the game side features in shaders but when it comes to adding engine features like PBR i have to write it multiple times, it is just a little annoying as i have rebuilt my PBR system from scratch a few times and i have had to write dx at least 5 times and every time started porting to gl before i found improvements to my solution. if the shaders where unified i could just do the initial rewites and leave it at that</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>PR submitted: <a >github.com/urho3d/Urho3D/pull/1477</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>Looks good, nice work.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dwlcj</div>
          <div class="post_content">
<p>Very nice!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">krstefan42</div>
          <div class="post_content">
<p>Nice work, always glad to see more modern features in Urho3D 's rendering.</p>
<p>[quote=“dragonCASTjosh”]<span class="bbcode-i">Pre-filtered IBL</span><br/>
This may be difficult to see the difference but take my word for it performance is massively increased. likely not viable for mobile due to file size limits.[/quote]<br/>
Why can’t the pre-filtering be done at scene load time? It doesn’t need to be super accurate. Heck you could almost just generate mip maps from the environment map, put on trilinear filtering, and call it a day. You could add a 1 pixel pre-pass blur to each mip to hide the pixels, or do a quick 3-tap blur filter in the final shader. Then mix the lower mips into the higher ones to better match a wide specular lobe.</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/39b53a8007c67ac331701696464c2601.png" width="20"/> dragonCASTjosh:</div>
<blockquote>
<p>the simplest way to solve the shader issue is just write some preprocessor change the syntax of one of the languages but this is likely not a good long term solution. Vulkans spirv may be the best solution</p>
</blockquote>
</aside>
<p>I’ve seen the preprocessor solution used in other code, and I think it works pretty well.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“krstefan42”]Why can’t the pre-filtering be done at scene load time? It doesn’t need to be super accurate. Heck you could almost just generate mip maps from the environment map, put on trilinear filtering, and call it a day. You could add a 1 pixel pre-pass blur to each mip to hide the pixels, or do a quick 3-tap blur filter in the final shader. Then mix the lower mips into the higher ones to better match a wide specular lobe.<br/>
[/quote]</p>
<p>the current solution is in mixing pre-filtering witha mobile friendly solution. the performance is on par with traditional pre-filtering but saves 2 samplers on the gpu as prefiltered also needs the roughness vs ndl image and irridiance map.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>Might be cool to test against some of these PBR examples: <a href="https://github.com/simongeilfus/Cinder-Experiments" rel="nofollow noopener">github.com/simongeilfus/Cinder-Experiments</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">theak472009</div>
          <div class="post_content">
<p>Did the guy just give up? Seems reasonable since there is not much to improve XD</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<aside class="quote no-group" data-username="theak472009">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/793e7255041ce2d6283799b98a189b08.png" width="20"/> theak472009:</div>
<blockquote>
<p>Did the guy just give up? Seems reasonable since there is not much to improve XD</p>
</blockquote>
</aside>
<p>Im still working although a mix between lack of time and a lot of learning makes it hard. i pushed physically based light values not to long ago.</p>
<aside class="quote no-group" data-username="sabotage3d">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4d54cd4ee2f08a1ba79603d6f6b6ab43.png" width="20"/> sabotage3d:</div>
<blockquote>
<p>Might be cool to test against some of these PBR examples: <a href="https://github.com/simongeilfus/Cinder-Experiments">github.com/simongeilfus/Cinder-Experiments</a></p>
</blockquote>
</aside>
<p>i actually looked through that whilst i was learning <img alt=":slight_smile:" class="emoji" src="../../../images2/480f97b912eb537e18032299081e582a.png" title=":slight_smile:"/>+</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>Improvements to sphere lights using the approach detailed in epic paper, with this method it should be possible to have large amounts of area lights within the scene although its limited to sphere and tube lighting only. I may look into doing other lights shapes later down the line.</p>
<p>Images: <a data-bbcode="true" href="http://imgur.com/a/69BFR">http://imgur.com/a/69BFR</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dwlcj</div>
          <div class="post_content">
<p>DragonCASTjosh:<br/>
Rendering Improvements have new progress? Especially soft shadows.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“dwlcj”]DragonCASTjosh:<br/>
Rendering Improvements have new progress? Especially soft shadows.[/quote]</p>
<p>Not much just yet, I have been very busy with University, i also managed to lose a lot of work in a system crash so i have to rebuild the tubelight stuff. I have some local work to improve the mip sampling and the attenuation of lights under PBR. Alongside that i have put some time aside to try and work out what is wrong with variance shadow maps as in my personal testbed renderer they work perfectly and the implementation so far looks identical</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dwlcj</div>
          <div class="post_content">
<p>All Right?Thank you very much,dragonCASTjosh.<br/>
I Use Physically based Rendered in Urho3d.<br/>
<img alt="" height="" src="../../../images2/10b4dbfa2be93be7095d842aaea5c4fe.png" width=""/><br/>
Missing a few things:<br/>
SSR or Ogre2.1 Parrallax Cubemap<br/>
Soft Shadow<br/>
AO<br/>
GI</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“dwlcj”]All Right?Thank you very much,dragonCASTjosh.<br/>
I Use Physically based Rendered in Urho3d.</p>
<p>Missing a few things:<br/>
SSR or Ogre2.1 Parrallax Cubemap<br/>
Soft Shadow<br/>
AO<br/>
GI[/quote]</p>
<p>Awesome that someone is using the PBR stuff already <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/> let me know if there us anything i can do to make it easier to use.</p>
<p>As for the missing features they are all on my roadmap, parallax mapping should be simple i know JSandusky had a text file explaining how to implement it in his original PBR implementation but i no longer have access to that. As for SSR im fairly new to graphics and have never touched tracing so it will be difficult to learn, same goes with GI. AO should be a little more simple and same with soft shadows</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2367_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jmiller</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/39b53a8007c67ac331701696464c2601.png" width="20"/> dragonCASTjosh:</div>
<blockquote>
<p>Awesome that someone is using the PBR stuff already <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/> let me know if there us anything i can do to make it easier to use.</p>
</blockquote>
</aside>
<p>I have been using it all along (it’s really easy) and could produce some very nice screenshots if circumstances would permit and I’d go to the effort. I will just say that it is well worth looking at.   <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/><br/>
Thanks for your ongoing work on PBR, plans sound good. Sorry to hear about system crash, I can certainly empathize and hope for speedy recovery.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/774_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dragonCASTjosh</div>
          <div class="post_content">
<p>[quote=“carnalis”]I have been using it all along (it’s really easy) and could produce some very nice screenshots if circumstances would permit and I’d go to the effort. I will just say that it is well worth looking at.<br/>
Thanks for your ongoing work on PBR, plans sound good. Sorry to hear about system crash, I can certainly empathize and hope for speedy recovery.[/quote]</p>
<p>Glad your enjoying it, and don’t worry I didn’t get sent to far back, I managed to get tube lighting reimplemented it on my branch for DirectX, I also found where I think the issue lies with variance shadows but I’m not sure whats wrong with it.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>