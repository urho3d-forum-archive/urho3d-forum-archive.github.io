<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>.xml controlled HUD</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">.xml controlled HUD</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Chimareon</div>
          <div class="post_content">
<p>Hi All,<br/>
thanks for amazing help with my last issue.<br/>
I am few stepd further in my work, but I have encountered another Problem:</p>
<p>I want to create a sort of Splashscreen for my app in form of Floating Panel connected to the camera (so that it does not move in respect to camera).</p>
<p>I am trying to use UI.root element with to which I set .XML file as DefaultStyle.<br/>
I get a White rectangle behaving the way I want, but cannot Control what happens within it.</p>
<p>Would someone be so kind to post sample .XML with Explanation how to make it work?</p>
<p>my XML:</p>
<pre><code>&lt;?xml version="1.0"?&gt;
&lt;!-- element type="Window"&gt;
  &lt;attribute name="Position"     value="100 100" /&gt;
  &lt;attribute name="Size"         value="380 120" /&gt;
&lt; element type="Button"&gt;
  &lt;attribute name="Name"       value="ToggleLight1" /&gt;
  &lt;attribute name="Position"   value="20 20" /&gt;
  &lt;attribute name="Size"       value="140 30" /&gt;
&lt;element type="Text"&gt;
  &lt;attribute name="Horiz Alignment"    value="Center" /&gt;
  &lt;attribute name="Vert Alignment"     value="Center" /&gt;
  &lt;attribute name="Top Left Color"     value="1 1 1 1" /&gt;
  &lt;attribute name="Top Right Color"    value="1 1 1 1" /&gt;
  &lt;attribute name="Bottom Left Color"  value="1 1 1 1" /&gt;
  &lt;attribute name="Bottom Right Color" value="1 1 1 1" /&gt;
  &lt;attribute name="Text"               value="Toggle light 1" /&gt;
&lt;/element &gt;
&lt;/element &gt;
&lt;element type="BorderImage"&gt;
  &lt;attribute name="Name"       value="Texture" /&gt;
  &lt;attribute name="Position"   value="20 20" /&gt;
  &lt;attribute name="Size"       value="140 30" /&gt;
  &lt;attribute name="Blend Mode" value="alpha" /&gt;
  &lt;attribute name="Border"     value="4 4 4 4" /&gt;  
  &lt;attribute name="Image Rect" value="0 0 16 16" /&gt;  
  &lt;attribute name="Texture"    value="Texture2D;Textures/Earth.jpg" /&gt;    
&lt;/element&gt;
&lt;/element &gt;
</code></pre>
<p>I know that indentations are off, but they are fine in my Version <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
<p>The BorderImage does is not shown at all <img alt=":frowning:" class="emoji" src="../../../images2/c383444e3b50f1554d2f21c7c206ca52.png" title=":frowning:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Could this unterminated comment have something to do with it? <img alt=":slightly_smiling_face:" class="emoji" src="../../../images2/87e0a7daec339818bcddbf25ee57347b.png" title=":slightly_smiling_face:"/></p>
<aside class="quote no-group" data-post="1" data-topic="5847" data-username="Chimareon">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ba280f9731c812ed369d7be93eaf9142.png" width="20"/> Chimareon:</div>
<blockquote>
<p><code>&lt;!-- element type="Window"&gt;</code></p>
</blockquote>
</aside>
<p>Some code showing how you’re trying to use the UI might also help to find a solution.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Chimareon</div>
          <div class="post_content">
<p>comment is leftover after trying to persuade Forum to Show XML Code, it is not one of the Problems.</p>
<pre><code>        base.Start();

        uiRoot = UI.Root;
        XmlFile style = ResourceCache.GetXmlFile("UI/WelcomeHUD.xml");

        uiRoot.SetDefaultStyle(style);

        InitWindow();
</code></pre>
<p>here is the Code where I try to call the .xml</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Try <code>UI/DefaultStyle.xml</code> for the style and <code>uiRoot.LoadXML(...)</code> to load your layout.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Chimareon</div>
          <div class="post_content">
<p>thanks for Your suggestions, it works now.<br/>
I have however one interesting bug I encountered.<br/>
I am running my Code on HoloLens gen1.<br/>
I am using the builtin camera to look for QR codes with Zxing.<br/>
When the Camera indicator (the orange icon in top left corner) is active, the splashscreen (the XML controled one) gets ~2 times bigger. When camera is turned off, the ui goes back to original size. Back and forth.<br/>
any idea what could be the Ground for this behaviour?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>Does the resolution of the Hololens display change when the camera is on, perhaps?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Chimareon</div>
          <div class="post_content">
<p>I have searched for it, there is one thread on Unity-related forum.<br/>
<aside class="onebox whitelistedgeneric">
<header class="source">
<img class="site-icon" height="16" src="../../../images2/d6ce26c0257b60c3575b07733084d0de.ico" width="16"/>
<a href="https://forums.hololens.com/discussion/6508/hololens-in-camera-resolution-differences-when-taking-a-photo-and-using-unitys-camera-gameobject" rel="nofollow noopener" target="_blank">Mixed Reality Developer Forum</a>
</header>
<article class="onebox-body">
<img class="thumbnail onebox-avatar" height="60" src="../../../images2/8f9a64de1d35386ad7f23f6f9d9adbae.ico" width="60"/>
<h3><a href="https://forums.hololens.com/discussion/6508/hololens-in-camera-resolution-differences-when-taking-a-photo-and-using-unitys-camera-gameobject" rel="nofollow noopener" target="_blank">Hololens in Camera (Resolution Differences when Taking a Photo and Using...</a></h3>
<p>I'm trying to use the Hololens camera to take a photo, run an OCR on the photo, and then place tags in world space based on the pixel coordinates I get from the OCR.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<br/>
but I cannot seem to find a way to translate it into urho.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>Try looking at the log for window resized events when the camera is enabled/disabled. Lines like<br/>
<code>[Mon Feb  3 13:21:41 2020] DEBUG: Window was resized to 725x480</code><br/>
That should at least confirm that it is the hololens changing the resolution based on the camera (I believe I read they reduce the framerate to 30fps when recording video, so a resolution drop may also be a thing). Other than that suggestion, I don’t think I can help you much, since I don’t have a hololens to try debugging it myself. Perhaps someone else with one has some suggestions…</p>
<p>[ Of course, if you wanted to get me a hololens, I’d be more than happy to help with trying to debug the issue <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> ]</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>