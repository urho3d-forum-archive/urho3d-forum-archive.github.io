<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Samples about calling C++ function from javascript (emscripten)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Samples about calling C++ function from javascript (emscripten)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">huminzheng</div>
          <div class="post_content">
<p>Hi guys!<br/>
Is there a sample about calling C++ function from javascript (emscripten)? The c++ function definied in sample application class from javascript. Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>Urho does this already, but Iâ€™m not sure how much of a sample it is.</p><aside class="onebox githubblob" data-onebox-src="https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L75">
<header class="source">
<a  rel="noopener nofollow ugc" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a  rel="noopener nofollow ugc" target="_blank">urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L75</a></h4>
<pre class="onebox">    <code class="lang-cpp">
      <ol class="start lines" start="65" style="counter-reset: li-counter 64 ;">
          <li>extern "C"
</li>
          <li>{
</li>
          <li>    GL_APICALL void GL_APIENTRY glDrawArraysInstancedANGLE (GLenum mode, GLint first, GLsizei count, GLsizei primcount);
</li>
          <li>    GL_APICALL void GL_APIENTRY glDrawElementsInstancedANGLE (GLenum mode, GLsizei count, GLenum type, const void *indices, GLsizei primcount);
</li>
          <li>    GL_APICALL void GL_APIENTRY glVertexAttribDivisorANGLE (GLuint index, GLuint divisor);
</li>
          <li>}
</li>
          <li>
</li>
          <li>// Helper functions to support emscripten canvas resolution change
</li>
          <li>static const Urho3D::Context *appContext;
</li>
          <li>
</li>
          <li class="selected">static void JSCanvasSize(int width, int height, bool fullscreen, float scale)
</li>
          <li>{
</li>
          <li>    URHO3D_LOGINFOF("JSCanvasSize: width=%d height=%d fullscreen=%d ui scale=%f", width, height, fullscreen, scale);
</li>
          <li>
</li>
          <li>    using namespace Urho3D;
</li>
          <li>
</li>
          <li>    if (appContext)
</li>
          <li>    {
</li>
          <li>        bool uiCursorVisible = false;
</li>
          <li>        bool systemCursorVisible = false;
</li>
          <li>        MouseMode mouseMode{};
</li>
      </ol>
    </code>
  </pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<aside class="onebox githubblob" data-onebox-src="https://github.com/urho3d/Urho3D/blob/master/bin/shell.html#L103">
<header class="source">
<a  rel="noopener nofollow ugc" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a  rel="noopener nofollow ugc" target="_blank">urho3d/Urho3D/blob/master/bin/shell.html#L103</a></h4>
<pre class="onebox">    <code class="lang-html">
      <ol class="start lines" start="93" style="counter-reset: li-counter 92 ;">
          <li>
          </li>
<li>// Detect fullscreen change and resize canvas resolution accordingly</li>
          <li>function viewportResizeHandler() {</li>
          <li>    if (document.hidden) {</li>
          <li>        return;</li>
          <li>    }</li>
          <li>
          </li>
<li>    calculateCanvasSize();</li>
          <li>    if (Module['JSCanvasSize']) {</li>
          <li>        if (isFullScreen()) {</li>
          <li class="selected">            Module.JSCanvasSize(screen.width * devicePixelRatio, screen.height * devicePixelRatio, true, devicePixelRatio);</li>
          <li>        } else {</li>
          <li>            Module.JSCanvasSize(canvasWidth, canvasHeight, false, devicePixelRatio);</li>
          <li>        }</li>
          <li>    }</li>
          <li>}</li>
          <li>
          </li>
<li>function visibilityChanged() {</li>
          <li>    if (document.hidden) {</li>
          <li>        return;</li>
          <li>    }</li>
      </ol>
    </code>
  </pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>


    </div>
  </body>
</html>