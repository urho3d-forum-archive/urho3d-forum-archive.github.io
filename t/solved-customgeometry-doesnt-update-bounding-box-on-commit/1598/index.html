<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[Solved]CustomGeometry doesn&rsquo;t update bounding box on commit</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">[Solved]CustomGeometry doesn&rsquo;t update bounding box on commit</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TikariSakari</div>
          <div class="post_content">
<p>Hello, I am having troubles with CustomGeometry. When I add more vertices to a customgeometry, and do commit, I get to see the new updated mesh, but the bounding box from debugrenderer doesn’t seem to be changed from the initial commit. I tried checking the boundingbox from the CustomGeometry and that does seem to get updated, but the worldbounding doesn’t. I tried modifying the worldbound but that didn’t seem to affect the culling of the object, even tho the debug geometry did change.</p>
<p>I also noticed that if I do several commits on same frame as the CustomGeometry is added, this does seem to update the bounding box, but if I add a cube on a click of a button to the customgeometry, it doesn’t seem to actually update the bounding box, when it happens on different frames and thus the CustomGeometry doesn’t show unless the boundingbox from debug geometry is visible.</p>
<p>edit: and as usual, the moment I write something I find somewhat solution, well at least it updates the bounding box if I re set the position of the node that it was attached into, which is what I happened to do on the doing several commits thing. I set the position of the node after doing multiple commits, and that is the reason why the worldboundingbox got updated. Still though I think this is actually a bug in somewhere that it doesn’t update the objects world bounding box automatically after calling commit-function.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Yes, this sounds like a bug. The world bounding box should be marked as dirty on commit. Should be simple to fix.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Should be fixed now in the master branch.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TikariSakari</div>
          <div class="post_content">
<p>thank you, this does indeed fix the bug and adjust the bounding box on commit.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>