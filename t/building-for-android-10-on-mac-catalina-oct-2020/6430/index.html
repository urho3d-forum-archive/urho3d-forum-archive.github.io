<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Building for Android 10 on Mac Catalina (Oct 2020)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Building for Android 10 on Mac Catalina (Oct 2020)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">drohen</div>
          <div class="post_content">
<p>Not having too much luck. I’ve found various articles and threads, just can’t seem to get any to work.</p>
<p>There are outdated by use of gradle (and are Win-centric):</p><aside class="quote" data-post="1" data-topic="655">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/7e4c0f239c254f0d41746a784f552797.png" width="20"/>
<a href="https://discourse.urho3d.io/t/solved-build-urho-and-my-app-for-android-step-by-step/655">[Solved]Build Urho and my app for android step by step</a> <a class="badge-wrapper bullet" href="/c/discussions/support/10"><span class="badge-category-parent-bg" style="background-color: #25AAE2;"></span><span class="badge-category-bg" style="background-color: #92278F;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Someone can help you.">Support</span></a>
</div>
<blockquote>
    I want try to understand how to build step by step Urho3D and my app for android platform on Windows. I download Android NDK, ant and all paths is writed to system.
  </blockquote>
</aside>
<aside class="quote quote-modified" data-post="1" data-topic="1938">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/5f8cd8c3f89aab362531d3518ed2deb6.png" width="20"/>
<a href="https://discourse.urho3d.io/t/howto-urho3d-android-setup-on-win7/1938">Howto: Urho3d Android setup on win7+</a> <a class="badge-wrapper bullet" href="/c/showcase/code-exchange/13"><span class="badge-category-parent-bg" style="background-color: #F1592A;"></span><span class="badge-category-bg" style="background-color: #231F20;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Share your helpful Urho3D code snippets, samples and tutorials here.">Code Exchange</span></a>
</div>
<blockquote>
    This is how I installed android dev env. 
I’m no expert, I’m sure there’s better ways or I did something wrong, please comment if so. 
<a data-bbcode="true" href="http://discourse.urho3d.io/t/android-build-on-windowsxp-issues/1934/1">I’ve given up winXP as I couldn’t fix the symbolic link issue on Android.</a> 
I Install (use the latest version) in this,  order look at my Console android-batch file for locations I use (with no spaces): 
7Zip 
Notepade++ 
Java JDK (I copy the jdk-folder to C:\JDK) 
TDM-GCC (required for <a data-bbcode="true" href="http://discourse.urho3d.io/t/android-build-on-win7-issue-solved/1937/2">lua tool building</a>) 
cmake 
ant 
gradle (not sure it’s required) 
Urho3D (C:\Ur…
  </blockquote>
</aside>
<p>I thought this might work:</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://gamedevtodied.blogspot.com/2017/10/urho3d-build-sample-on-android.html">
<header class="source">
<img class="site-icon" height="16" src="../../../images2/454d6413b7dd1e4c694980842eeb07e6.ico" width="16"/>
<a href="https://gamedevtodied.blogspot.com/2017/10/urho3d-build-sample-on-android.html" rel="noopener nofollow ugc" target="_blank">gamedevtodied.blogspot.com</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/362;"><img class="thumbnail" height="362" src="../../../images2/ce275d16eab5cd5114e7fb5c0606e84f.jpg" width="690"/></div>
<h3><a href="https://gamedevtodied.blogspot.com/2017/10/urho3d-build-sample-on-android.html" rel="noopener nofollow ugc" target="_blank">Urho3D : Build Sample on Android</a></h3>
<p>A game developer blog who challenge to done anything as record of life and learn</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>
But not really, however it made me consider just purely using Android Studio.</p>
<p>I tried just setting up with Android Studio. Got pretty far except needed to set a bunch of env vars to finally get some progress, but then it seems a kotlin plugin warning kept blocking everything. Not sure if I should uninstall the plugin, disabling it made android studio stop working altogether.</p>
<p>Some/most of the info on the main pages seem out of date, but the information about using <code>./gradlew</code> from the command line got me the furthest (also was recommended in a thread I can’t find now).</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://urho3d.io/documentation/HEAD/_building.html">
<header class="source">
<a href="https://urho3d.io/documentation/HEAD/_building.html" rel="noopener nofollow ugc" target="_blank">Urho3D</a>
</header>
<article class="onebox-body">
<h3><a href="https://urho3d.io/documentation/HEAD/_building.html" rel="noopener nofollow ugc" target="_blank">Building Urho3D library</a></h3>
<p>Urho3D is a free lightweight, cross-platform 2D and 3D game engine implemented in C++ and released under the MIT license. Greatly inspired by OGRE and Horde3D.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>However it failed with lots of errors that looked like:<br/>
<code>Library/Android/sdk/ndk/21.0.6113669/toolchains/llvm/prebuilt/darwin-x86_64/lib64/clang/9.0.8/include/mmintrin.h:33:5: error: use of undeclared identifier '__builtin_ia32_emms'</code></p>
<p>I see this mentioned in some Stack Overflow posts:</p><aside class="onebox stackexchange" data-onebox-src="https://stackoverflow.com/questions/53805054/androidstudio-compile-c-met-a-problem-like-thismmintrin-h-builtin-ia32-em">
<header class="source">
<a href="https://stackoverflow.com/questions/53805054/androidstudio-compile-c-met-a-problem-like-thismmintrin-h-builtin-ia32-em" rel="noopener nofollow ugc" target="_blank">stackoverflow.com</a>
</header>
<article class="onebox-body">
<a href="https://stackoverflow.com/users/10798234/cuiwei" rel="noopener nofollow ugc" target="_blank">
<img alt="cuiwei" class="thumbnail onebox-avatar" height="256" src="https://www.gravatar.com/avatar/57a10fdc565875cf653918253339ea81?s=256&amp;d=identicon&amp;r=PG&amp;f=1" width="256"/>
</a>
<h4>
<a href="https://stackoverflow.com/questions/53805054/androidstudio-compile-c-met-a-problem-like-thismmintrin-h-builtin-ia32-em" rel="noopener nofollow ugc" target="_blank">AndroidStudio compile c++ met a problem like this:&lt;mmintrin.h&gt; __builtin_ia32_emms();</a>
</h4>
<div class="tags">
<strong>c++, android-studio, shared-libraries</strong>
</div>
<div class="date">
  asked by
  
  <a href="https://stackoverflow.com/users/10798234/cuiwei" rel="noopener nofollow ugc" target="_blank">
    cuiwei
  </a>
  on <a href="https://stackoverflow.com/questions/53805054/androidstudio-compile-c-met-a-problem-like-thismmintrin-h-builtin-ia32-em" rel="noopener nofollow ugc" target="_blank">06:06PM - 16 Dec 18 UTC</a>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<aside class="onebox stackexchange" data-onebox-src="https://stackoverflow.com/questions/5217812/c-compilation-issue-with-emmintrin-h-on-linux-gcc">
<header class="source">
<a href="https://stackoverflow.com/questions/5217812/c-compilation-issue-with-emmintrin-h-on-linux-gcc" rel="noopener nofollow ugc" target="_blank">stackoverflow.com</a>
</header>
<article class="onebox-body">
<a href="https://stackoverflow.com/users/281819/wang-wei" rel="noopener nofollow ugc" target="_blank">
<img alt="Wang Wei" class="thumbnail onebox-avatar" height="256" src="https://www.gravatar.com/avatar/4c494a440908582e9fb13f79541a6bdd?s=256&amp;d=identicon&amp;r=PG" width="256"/>
</a>
<h4>
<a href="https://stackoverflow.com/questions/5217812/c-compilation-issue-with-emmintrin-h-on-linux-gcc" rel="noopener nofollow ugc" target="_blank">C++ compilation issue with &lt;emmintrin.h&gt; on Linux GCC</a>
</h4>
<div class="tags">
<strong>c++, linux, gcc</strong>
</div>
<div class="date">
  asked by
  
  <a href="https://stackoverflow.com/users/281819/wang-wei" rel="noopener nofollow ugc" target="_blank">
    Wang Wei
  </a>
  on <a href="https://stackoverflow.com/questions/5217812/c-compilation-issue-with-emmintrin-h-on-linux-gcc" rel="noopener nofollow ugc" target="_blank">09:15AM - 07 Mar 11 UTC</a>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>
There it references SSE, and I see there’s a flag for this: <code>URHO3D_SSE</code> so should I set this? Unfortunately I’ve run out of time, and the build was already taking quite a while, so I don’t have time to test again for a while.</p>
<p>I was hoping to learn this engine and create something for my phone, but I can’t really get anywhere and it seems due to lots of changes in the mac and android worlds, there’s no one really making up-to-date tutorials/how-tos, which is a shame because that’s basically how many projects attract new users. I would love to contribute and write the tutorial, I’d even make a video or whatever, but someone might have to help me step-by-step first so I can at least see it running.</p>
<p>Looking forward to some feedback, thanks in advance for anyone who is willing to put something together for me.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Android uses arm so SSE is not applicable. Our Android build will use NEON when it is available, well not fully, but at least on a few sub-libraries that engine uses.</p>
<p>Don’t hold your breath but in the coming weeks we will have a new officially supported approach for Android build using AAR. Keep an eye on the “migration to GitHub actions” dev branch.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">drohen</div>
          <div class="post_content">
<blockquote>
<p>Android uses arm so SSE is not applicable. Our Android build will use NEON when it is available, well not fully, but at least on a few sub-libraries that engine uses.</p>
</blockquote>
<p>Thanks for letting me know. I think for now, it feels like the main problem is having a very clear way of getting anything running at all on catalina. If I see that this engine lives up to expectations and is enjoyable to work with, then I’d be happy to contribute some nicely formatted and well-written English documentation. But for now, I don’t have enough to work with to get something running reliably.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Normal Urho3D builds fine on macs <a href="https://discourse.urho3d.io/t/info-using-urho3d-with-old-mac-osx-10-11/6304">with a few tricks</a>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">drohen</div>
          <div class="post_content">
<p>Thanks but the post refers to El Capitan, would be good if were confirmed for Catalina. Not expecting people to do something for me but life feels too short to not expect at least some kind of script to automate these processes. Also makes me wonder, why write a game engine if you can’t write a script or a straight forward setup guide for the platforms that are said to be supported? Trying not to be too critical, it is open source and I pay nothing to use it, but its a bummer to want to dig in only to realise it’s just not going to happen.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Well these things are only possible if someone who actually has the specific OS and specific build requirements goes and does it. There wasn’t a guide for El Capitan before I needed to compile the engine on El Capitan, probably because no one ever tried to compile on El Capitan before.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>The Urho3D AAR is finally ready. After the dev branch is merged into master branch, new downstream projects using Urho3D AAR could be as easy as below (assuming the AAR is available in one of maven repo near you):</p>
<pre><code>$ cd /path/to/urho3d/project/root
$ rake new
$ cd ~/project/UrhoApp
$ ./gradlew build
</code></pre>
<p>The new Android build is tested with Linux host system. However, it should work the same for macOS.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>