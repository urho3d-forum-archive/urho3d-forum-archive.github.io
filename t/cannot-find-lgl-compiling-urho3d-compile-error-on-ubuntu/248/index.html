<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Cannot find -lGL compiling Urho3d - Compile error on Ubuntu</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Cannot find -lGL compiling Urho3d - Compile error on Ubuntu</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>Hi</p>
<p>I’m having trouble compling the software. I have Ubuntu 64-bit which does not allow 32-bit and 64-bit OpenGl. Do anyone have any suggestions? It sucks a little I’m a finger tip from completely compiling Urho</p>
<p>Vivienne</p>
<p>[quote][  6%] Built target Box2D<br/>
[ 23%] Built target Bullet<br/>
[ 23%] Built target Civetweb<br/>
[ 24%] Built target Detour<br/>
[ 29%] Built target FreeType<br/>
[ 29%] Built target JO<br/>
[ 32%] Built target kNet<br/>
[ 32%] Built target LZ4<br/>
[ 32%] Built target PugiXml<br/>
[ 34%] Built target Recast<br/>
[ 47%] Built target SDL<br/>
[ 47%] Built target StanHull<br/>
[ 47%] Built target STB<br/>
[ 51%] Built target AngelScript<br/>
[ 51%] Built target GLEW<br/>
[ 52%] Built target LibCpuId<br/>
[ 79%] Built target Urho3D<br/>
Linking CXX executable /media/home2/vivienne/urho3d-Urho3D-59ef932/Bin/Urho3DPlayer<br/>
/usr/bin/ld.bfd.real: cannot find -lGL<br/>
collect2: ld returned 1 exit status<br/>
make[2]: *** [/media/home2/vivienne/urho3d-Urho3D-59ef932/Bin/Urho3DPlayer] Error 1<br/>
make[1]: *** [Tools/Urho3DPlayer/CMakeFiles/Urho3DPlayer.dir/all] Error 2<br/>
make: *** [all] Error 2<br/>
[/quote]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>You can enable a 64-bit build by giving the command line parameter -DURHO3D_64BIT=1 to CMake.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/17ea6233fe86521c2e3179bd3849d219.png" width="20"/> cadaver:</div>
<blockquote>
<p>You can enable a 64-bit build by giving the command line parameter -DURHO3D_64BIT=1 to CMake.</p>
</blockquote>
</aside>
<p>It compiled and I did a make install.</p>
<p>Oddly, to run the editor I have to put. I’m not sure if the permissions are correct for it to get the default installed resources location when starting</p>
<p>sudo ./Urho3DPlayer Scripts/Editor.as</p>
<p>I ran this in the installed bin folder.</p>
<p>Which is located at /usr/local/share/Urho3D/Bin/Data/.</p>
<p>[quote]<br/>
vivienne@vivienne-System-Product-Name:/usr/local/bin$ sudo echo $PATH<br/>
/usr/lib/lightdm/lightdm:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games[/quote]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>I added /usr/local/shared/Urho3D/Bin to the path.</p>
<p>Any suggestions on what next?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/827_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">friesencr</div>
          <div class="post_content">
<p>I can’t speak exactly to the intent of the <code>make install</code> method.  I believe this was method of installation to make the *nix toolchain (like autoconf) easier to link/compile to and not to run on its own.  However as soon as your run make the Bin folder will contain all of the executables.  You should  be able to run those executables.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/70bcc47748c28f7bda94e891e8db727b.png" width="20"/> friesencr:</div>
<blockquote>
<p>I can’t speak exactly to the intent of the <code>make install</code> method.  I believe this was method of installation to make the *nix toolchain (like autoconf) easier to link/compile to and not to run on its own.  However as soon as your run make the Bin folder will contain all of the executables.  You should  be able to run those executables.</p>
</blockquote>
</aside>
<p>Yea. I got it running. I’m just looking for a good tutorial. I made something in Blender and maybe I can port it to Urho3d.</p>
<p><a href="https://www.youtube.com/watch?v=UWaMXP5pGak&amp;list=UUTObP1VzcIglm7uTgUBQjaw" rel="nofollow noopener">youtube.com/watch?v=UWaMXP5 … 7uTgUBQjaw</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/827_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">friesencr</div>
          <div class="post_content">
<p>I would start by exporting an fbx of your blender scene.  Then in the editor go to the import scene command and select your fbx.  The scene import doesn’t really have much in the way of finesse but it should get you going.  The import scene will make separate models/textures for every object in blender.  If you end up using the import scene more you will have to come up with a way of organizing the objects in your blend files that works well for you.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>[quote=“vivienneanthony”]Oddly, to run the editor I have to put. I’m not sure if the permissions are correct for it to get the default installed resources location when starting</p>
<p>sudo ./Urho3DPlayer Scripts/Editor.as<br/>
[/quote]</p>
<p>You should not need to run it using sudo command. In fact, I think it is rather dangerous to do so, considering Urho Editor has an interactive console which could then be used to run any command with root privilege.</p>
<p>Check what is the original Urho3DPlayer file permission and ownership in the Urho3D build tree (URHO3D_PROJECT_ROOT/Bin) and compare that with what has been installed in /usr/local/share/Urho3D/Bin. For my case, I get 775 (owned by me) and 755 (owned by root), respectively. The execute bits are set in either case for “owner”, “group”, and “others” classes, so it should allow normal user (any user) to execute it.</p>
<p>Check what are your user’s and root’s umask settings. For my case, they are 0002 and 0022, respectively. Make sure your setting does not mask out the “others” class, like 0007 or something like that. Hope this help.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>I did a ls -l. This is what I got. I don’t think the permissions are correct.</p>
<p>[quote]vivienne@vivienne-System-Product-Name:/usr/local/share/Urho3D$ ls -l<br/>
total 20<br/>
drwxr-xr-x 5 root root 4096 May 13 13:20 Bin<br/>
drwx------ 4 root root 4096 May 13 13:11 CMake<br/>
drwxrwxr-x 2 root root 4096 May 13 13:11 Docs<br/>
drwxr-xr-x 2 root root 4096 May 13 13:11 Scripts<br/>
drwxr-xr-x 3 root root 4096 May 13 13:11 templates<br/>
lrwxrwxrwx 1 root root   21 May 13 13:41 Urho3d -&gt; /usr/local/bin/Urho3d<br/>
vivienne@vivienne-System-Product-Name:/usr/local/share/Urho3D$ cd Bin<br/>
vivienne@vivienne-System-Product-Name:/usr/local/share/Urho3D/Bin$ ls -l<br/>
total 49172<br/>
-rwxr-xr-x  1 root root 16149654 May 13 13:11 AssetImporter<br/>
drwx------  7 root root     4096 May 13 13:21 CoreData<br/>
drwx------ 16 root root     4096 May 13 13:21 Data<br/>
-rwxr-xr-x  1 root root      140 May  8 04:46 <a href="http://Editor.sh" rel="nofollow noopener">Editor.sh</a><br/>
-rwxr-xr-x  1 root root      698 May  8 04:46 <a href="http://NinjaSnowWar.sh" rel="nofollow noopener">NinjaSnowWar.sh</a><br/>
-rwxr-xr-x  1 root root  1646554 May 13 13:11 OgreImporter<br/>
-rwxr-xr-x  1 root root   581233 May 13 13:11 PackageTool<br/>
-rwxr-xr-x  1 root root   230116 May 13 13:11 RampGenerator<br/>
-rwxr-xr-x  1 root root 15845665 May 13 13:11 ScriptCompiler<br/>
drwxr-xr-x  2 root root     4096 May 13 13:18 Scripts<br/>
-rwxr-xr-x  1 root root      473 May  8 04:46 <a href="http://UpdateDocument.sh" rel="nofollow noopener">UpdateDocument.sh</a><br/>
-rw-r–r--  1 root root      853 May 14 11:39 Urho3D.log<br/>
-rwxr-xr-x  1 root root 15862359 May 13 13:11 Urho3DPlayer<br/>
vivienne@vivienne-System-Product-Name:/usr/local/share/Urho3D/Bin$</p>
<p>vivienne@vivienne-System-Product-Name:/usr/local/share/Urho3D/Bin$ cd Data<br/>
bash: cd: Data: Permission denied<br/>
[/quote]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>The file permission for some directories seem wrong. They should not be 700. They are wrong in the installation destination. Have you checked also the file permissions in the project root directory? Also can you post the output of “umask” command as your user account and as root user account.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>This is what I have so far. I’m not sure how to gett the root umask on ubuntu.</p>
<p>[quote]<br/>
<span class="bbcode-b">vivienne@vivienne-System-Product-Name:/usr/local/share$ umask</span><br/>
0002<br/>
vivienne@vivienne-System-Product-Name:/usr/local/share$</p>
<p>vivienne@vivienne-System-Product-Name:/usr/local/share$ ls -l<br/>
total 56<br/>
drwxr-xr-x  2 root root  4096 Apr 25 20:22 applications<br/>
drwxrwsr-x  2 root staff 4096 Oct 12  2011 ca-certificates<br/>
drwxr-xr-x 10 root root  4096 Feb  7  2013 CEGUI<br/>
drwxr-xr-x 11 root root  4096 Aug 12  2013 cegui-0<br/>
drwxr-xr-x  2 root root  4096 Feb  7  2013 CELayoutEditor<br/>
drwxrwsr-x  3 root staff 4096 Feb 25 13:53 emacs<br/>
drwxr-xr-x  3 root root  4096 Feb 26 02:09 ffmpeg<br/>
drwxrwsr-x 13 root staff 4096 Feb 28 15:12 fonts<br/>
drwxr-xr-x  5 root root  4096 Feb 26 01:41 man<br/>
drwxr-xr-x  2 root root  4096 Apr 25 20:22 pixmaps<br/>
drwxrwsr-x  7 root staff 4096 Oct 12  2011 sgml<br/>
drwxrwsr-x  2 root staff 4096 Aug 11  2013 texmf<br/>
drwxr-xr-x  7 root root  4096 May 14 12:17 Urho3D<br/>
drwxrwsr-x  6 root staff 4096 Oct 12  2011 xml<br/>
vivienne@vivienne-System-Product-Name:/usr/local/share$ ls -l Urho3D<br/>
total 20<br/>
drwxr-xr-x 5 root root 4096 May 13 13:20 Bin<br/>
drwx------ 4 root root 4096 May 13 13:11 CMake<br/>
drwxrwxr-x 2 root root 4096 May 13 13:11 Docs<br/>
drwxr-xr-x 2 root root 4096 May 13 13:11 Scripts<br/>
drwxr-xr-x 3 root root 4096 May 13 13:11 templates[/quote]</p>
<p>Ubuntu Umasking<br/>
<a href="http://askubuntu.com/questions/44542/what-is-umask-and-how-does-it-work" rel="nofollow noopener">askubuntu.com/questions/44542/wh … es-it-work</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/5dc21abd616a69d8b82c2d56dfa657a5.png" width="20"/> weitjong:</div>
<blockquote>
<p>The file permission for some directories seem wrong. They should not be 700. They are wrong in the installation destination. Have you checked also the file permissions in the project root directory? Also can you post the output of “umask” command as your user account and as root user account.</p>
</blockquote>
</aside>
<p>So, I did a chmod 755 on the CoreData, Data, and I think Scripts folder. I can it  now from a command line but I get this error when closing</p>
<p>[quote][Wed May 14 23:27:26 2014] ERROR: Failed to create directory /home/vivienne/.Urho3D/Editor/<br/>
[Wed May 14 23:27:26 2014] ERROR: Could not open file /home/vivienne/.Urho3D/Editor/Config.xml<br/>
[/quote]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>I think this has becomes off-topic. For your latter problem, check the file permission of the destination directory or the file that gave the error.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>There is now a new 1.31 source package without the file permission error. I suggest you to download and test this source package. I assume you downloaded the earlier source package from SourceForge because that’s the only place where I find to have wrong file permissions. Before re-installing, you may want to first undo the previous installation manually as root user.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/5dc21abd616a69d8b82c2d56dfa657a5.png" width="20"/> weitjong:</div>
<blockquote>
<p>There is now a new 1.31 source package without the file permission error. I suggest you to download and test this source package. I assume you downloaded the earlier source package from SourceForge because that’s the only place where I find to have wrong file permissions. Before re-installing, you may want to first undo the previous installation manually as root user.</p>
</blockquote>
</aside>
<p>The new 1.31 source packaged compiled much better with the better permission. As for the latter problem, I had to manually go back and change  the owner of the .Urho3D folder.</p>
<p>For some reason after closing the editor in the console I have to hit Control-C which I might think it’s a bug. It’s not fully closing out.</p>
<p>I donwloaded the latest .tar from the main website.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/70bcc47748c28f7bda94e891e8db727b.png" width="20"/> friesencr:</div>
<blockquote>
<p>I would start by exporting an fbx of your blender scene.  Then in the editor go to the import scene command and select your fbx.  The scene import doesn’t really have much in the way of finesse but it should get you going.  The import scene will make separate models/textures for every object in blender.  If you end up using the import scene more you will have to come up with a way of organizing the objects in your blend files that works well for you.</p>
</blockquote>
</aside>
<p>I was  able to convert  the basic building  room, corridors, and junction into a Urho3D scene. I’m not sure how to do the interface part creation in the Editor. It doesn’t seem clear to me and I will have to play with the editor even if it’s just to a simple screen with a Play and Exit button. I have to figure out creating a environment  like sky and water.</p>
<p>Also, I’m assuming to create a standalone. I have to build a program in C++ basic game code then link it to Urho3D as it being the SDK.</p>
<p>I’m still clueless why I have to now press Ctrl-C to fully close the program in a console.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>