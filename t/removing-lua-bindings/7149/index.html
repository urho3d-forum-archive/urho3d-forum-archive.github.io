<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Removing LUA bindings</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Removing LUA bindings</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I am planning to replace Urho3D::Vector and Urho3D::PODVector with std::vector.  <a class="inline-onebox" href="https://discourse.urho3d.io/t/yet-another-vector-benchmark/6962">Yet another vector benchmark</a><br/>
Is there a person who wants to change the bindings to LUA? If such a person is not found, then the bindings will be removed.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>I’ll give a look at automating their generation like the Angel Script ones. But I don’t use Lua myself, so if I think it will be too difficult and/or tedious I make no promises that I’ll actually do it. So if someone else wants to claim the job feel free. Otherwise I’ll probably report back in a week or so what my thoughts are.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Ok, my work will be done here <a >https://github.com/urho3d/Urho3D/pull/2868</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group quote-modified" data-post="1" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>I am planning to replace Urho3D::Vector and Urho3D::PODVector with std::vector<br/>
If such a person is not found, then the bindings will be removed.</p>
</blockquote>
</aside>
<p>To be honest, it’s weird attitude for PR.<br/>
It should be “This PR will not be merged unless you help me” and not “I will hurt you unless you help me”.</p>
<p>If there are no Lua users, it’s fine to drop Lua tho. But I am not sure about that. I think at least <span class="mention">@JTippetts1</span> used it recently?</p>
<p>PS: I obviously don’t care about this topic personally, since I don’t use Lua. Treat this post as off-hand comment, not a strong opinion.</p>
<div class="spoiler">
<p><code>&lt;sarcasm&gt;</code>If I knew I could just replace Urho containers with (EA)STL in PR, nuking all the bindings unless someone fixes them, I would have already done it 2 years ago<code>&lt;/sarcasm&gt;</code></p>
</div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>There are two variants: do not develop the engine or drop out what no one is going to maint. Those who need LUA and do not need engine development can use the old version with LUA. Nothing will change for them.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="4" data-topic="7149" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/> Eugene:</div>
<blockquote>
<p><code>If I knew I could just replace Urho containers with (EA)STL in PR, nuking all the bindings unless someone fixes them, I would have already done it 2 years ago</code></p>
</blockquote>
</aside>
<p>Two years ago there were contributors here</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="5" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>There are two variants: do not develop the engine or drop out what no one is going to maint.</p>
</blockquote>
</aside>
<p>Do you have a roadmap of functional changes?<br/>
Neither removing Lua nor using STL will help users make games on their own – they are useful only as prerequisite for other (real) changes.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>It looks like an attempt to hook me up. I have already explained the reason for change. If there are attempts to make changes, then any changes will be stopped by LUA bindings, which are not automatically generated and there is no person who deals with them. If there are no radical changes, then what’s the difference? You can still use the old version of the engine with LUA bindings.</p>
<p>p.s. Have you roadmap for ***?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="8" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>It looks like an attempt to hook me up.</p>
</blockquote>
</aside>
<p>Nah, I’m too old for this -_-</p>
<p>My philosophy is that the engine should help users make games, first and foremost.<br/>
So I look at all changes from this point of view: “how would it help someone to make a game?”<br/>
And I personally don’t make non-functional changes unless I plan to use them for something functional later – that’s why I was curious if you have any plans for future functional updates.</p>
<aside class="quote no-group" data-post="8" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>p.s. Have you roadmap for ***?</p>
</blockquote>
</aside>
<p>Surprisingly, yes! It’s offtopic so I’ll hide it.</p>
<details>
<summary>
Nothing to see here</summary>
<ol>
<li>Move to EASTL</li>
<li>Prototype C++ Editor</li>
<li>Prototype C# bindings</li>
<li><em>(I have joined *** here)</em></li>
<li>Unified object serialization</li>
<li>Baked lighting</li>
<li>New renderer with PBR support and unified shaders</li>
<li>Unified animation system</li>
<li>Native import of glTF</li>
<li><em>(<code>master</code> is here)</em></li>
<li>New networking</li>
<li>New particles</li>
<li><em>(<code>dev</code> branch is here)</em></li>
<li>Animation refactoring</li>
<li>Compute shaders</li>
<li><em>(things below I am not 100% sure about and they don’t have an order)</em></li>
<li>Render graph?</li>
<li>Basic scripting, maybe Luau with SOL?</li>
<li>VR?</li>
<li>Vulkan+Metal?</li>
<li>Editor refactoring?</li>
<li>PhysX integration?</li>
</ol>
</details>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="9" data-topic="7149" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/> Eugene:</div>
<blockquote>
<p>So I look at all changes from this point of view: “how would it help someone to make a game?”</p>
</blockquote>
</aside>
<p>How does blocking engine changes help to create games?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>Please don’t break/remove LUA support.</p>
<p>Although I don’t use LUA myself, I think there’s people actively using it (I think <span class="mention">@evolgames</span> is using LUA, and he’s making some really cool games <a href="https://discourse.urho3d.io/t/random-projects-shots/2431/291">[1]</a> <a href="https://discourse.urho3d.io/t/random-projects-shots/2431/299">[2]</a> <a href="https://discourse.urho3d.io/t/random-projects-shots/2431/305">[3]</a> <a href="https://discourse.urho3d.io/t/random-projects-shots/2431/311">[4]</a>).</p>
<p>Or at least add <code>std::vector</code> as a compiling option/flag so it won’t break the current engine features for everybody.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Are you planning to maintain LUA bindings?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>As I said, I don’t use LUA. But I feel for those that use it and now, out of nowhere, could lose it. That’s not cool.</p>
<p>Again, if the <code>std::vector</code> performance gain is suddenly so important now, just add it as an compiling option/flag so it won’t break everything for everybody.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Have you read my posts above?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>Yes, have you read mine?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Yes, you write nonsense.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="13" data-topic="7149" data-username="adhoc99">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/62cd8fb66ec4082403df662010d9d3fd.png" width="20"/> adhoc99:</div>
<blockquote>
<p><code>std::vector</code> performance gain is suddenly so important now, just add it as an compiling option/flag so it won’t break everything for everybody.</p>
</blockquote>
</aside>
<p>How do you imagine that?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>ifdef it…</p>
<p>btw, what happened to <a href="https://discourse.urho3d.io/t/scripting-language-binding/6710/2">this</a>?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="18" data-topic="7149" data-username="adhoc99">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/62cd8fb66ec4082403df662010d9d3fd.png" width="20"/> adhoc99:</div>
<blockquote>
<p>ifdef it…</p>
</blockquote>
</aside>
<p>ifdef for each vector use?</p>
<aside class="quote no-group" data-full="true" data-post="18" data-topic="7149" data-username="adhoc99">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/62cd8fb66ec4082403df662010d9d3fd.png" width="20"/> adhoc99:</div>
<blockquote>
<p>btw, what happened to <a href="https://discourse.urho3d.io/t/scripting-language-binding/6710/2">this</a>?</p>
</blockquote>
</aside>
<p>I can teach you how to use git (not free) to keep track of changes</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>Won’t you change them all anyway?</p>
<p>If it’s already there, then what’s the issue on supporting LUA?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="20" data-topic="7149" data-username="adhoc99">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/62cd8fb66ec4082403df662010d9d3fd.png" width="20"/> adhoc99:</div>
<blockquote>
<p>Won’t you change them all anyway?</p>
</blockquote>
</aside>
<p>Do you have any idea about the scope of using containers in the engine?</p>
<p>The source code will be 25% of <span class="hashtag">#define</span>.</p>
<aside class="quote no-group" data-post="20" data-topic="7149" data-username="adhoc99">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/62cd8fb66ec4082403df662010d9d3fd.png" width="20"/> adhoc99:</div>
<blockquote>
<p>If it’s already there, then what’s the issue on supporting LUA?</p>
</blockquote>
</aside>
<p>There ain’t no problem, take it on</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>Then just change the ones that really need the supposed performance boost.</p>
<p>May as well update Urho3D’s website warning people that every single feature is subject to being dropped out of nowhere just because, so they don’t even bother to start using the engine.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I’ll just end this useless dispute</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<aside class="quote no-group" data-post="18" data-topic="7149" data-username="adhoc99">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/62cd8fb66ec4082403df662010d9d3fd.png" width="20"/> adhoc99:</div>
<blockquote>
<p>ifdef it…</p>
</blockquote>
</aside>
<p>The issue with doing this is primarily that <code>Urho3D::Vector</code> and <code>std::vector</code> follow different naming conventions (<code>Size</code> vs <code>size</code>). If we fix that difference then an <code>ifdef STL_VECTOR</code> is fairly easy, basically just an optional <code>typedef</code> with a few extra chances for <code>Contains</code> and such. But that would probably already break the bindings (you can look at my branch in the linked topic with the benchmark, I don’t recall actually getting the bindings working. Though if they are, maybe it’s less of an issue than it seems).</p>
<p>I share the concerns expressed about breaking the code without concern, but I have several times found the incompatibility of Urho’s containers with the STL limiting, and there should be some performance gain to the change.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="24" data-topic="7149" data-username="SirNate0">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fb52f23a6782e890737d90432eac55f2.png" width="20"/> SirNate0:</div>
<blockquote>
<p>and there should be some performance gain to the change.</p>
</blockquote>
</aside>
<p>As far as I remember STL was on average slightly slower than Urho Vector, due to being more generic. <em>Especially</em> in debug builds, <em>especially</em> on MSVC with default iterator debugging level = 2.</p>
<p>Having said that, never once I regretted ditching Urho Containers and moving on in the fork. I have spent several weeks refactoring Urho Vector back when I used it, and damn I hate it now.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Some compilers are faster. <a href="https://github.com/1vanK/Urho3DContainersBenchmark/blob/master/vector_mingw32_release.txt">https://github.com/1vanK/Urho3DContainersBenchmark/blob/master/vector_mingw32_release.txt</a></p>
<p>But that’s not the point at all.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>What is the point then? Just so everyone is clear.</p>
<p>To be clear, I support the change, but as was evident above, I may not be correct on all of the reasons, so I’d like some clarification.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Initial reason:</p>
<p>The reason is that we have two vectors instead of one generic vector optimized for any type. Firstly, this is inconvenient in itself and can lead to the use of the wrong container. Also, there are some errors popping up.</p>
<p><a >https://github.com/urho3d/Urho3D/pull/2816</a></p>
<p>The main reason has been described above.  LUA bindings require manual work and make it difficult to change the engine freely. In addition, we do not have people who want to maint these bindings. Even the author of the LUA bindings tried to rewrite them, but abandoned this idea.</p>
<p><a >https://github.com/urho3d/Urho3D/tree/new-lua-script-test</a></p>
<p>In addition, the LUA language itself is experiencing a split. Official version is 5.4.3. LuaJIT use obsolete 5.1. And these versions are not very compatible.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>Came across this binding library that seems very similar to pybind11, which I already started work on making bindings for. So my initial thoughts are that it will be doable.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://github.com/gengyong/luaaa">
<header class="source">
<img class="site-icon" height="32" src="../../../images2/0973ea8ce7121c320f68413e2a2f23ab.svg" width="32"/>
<a href="https://github.com/gengyong/luaaa" rel="noopener nofollow ugc" target="_blank">GitHub</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/345;"><img class="thumbnail" height="345" src="../../../images2/80ae93364d93738a56ede32f428c5ab8" width="690"/></div>
<h3><a href="https://github.com/gengyong/luaaa" rel="noopener nofollow ugc" target="_blank">GitHub - gengyong/luaaa: C++ to LUA binding tool in a single header file.</a></h3>
<p>C++ to LUA binding tool in a single header file. Contribute to gengyong/luaaa development by creating an account on GitHub.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Just want to chime in to say ‘yay pybind11 is amazing’. Anything that is ‘similar’ to pybind11 is also probably amazing.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>Honestly tho. If you think the Urho Vector is the performance issue in this engine then I probably have nothing else to say that make you realize otherwise.</p>
<p>If anyone wants STL container-like types they might as well just switch to *** fork and get the whole package instead of a half-assed attempt at trying to prove something that just isn’t worth it.</p>
<p>Are we really that keen on destroying whatever is left on this engine? Turn it into an experimentation project where everyone just tried stuff that they think is needed?</p>
<p>I was skeptical when the *** fork was made. But seeing the recent evolution of vanilla Urho I have to say that was a wise decision when they forked it.</p>
<p>EDIT: replied to wrong post. my bad.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I heard you.</p>
<p>If it’s not enough for you to have an old copy of the engine on your hard drive, but it is absolutely necessary that there are zero changes in the repository too, this is ridiculous to me, but it’s your right.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="35" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>If it’s not enough for you to have an old copy of the engine on your hard drive, but it is absolutely necessary that there are zero changes in the repository too, this is ridiculous to me, but it’s your right.</p>
</blockquote>
</aside>
<p>You know, I really get a deja vu now.</p>
<p>Two years ago I have made a proposal of a similar nature, and received a similar reaction. Except it was somewhat more vocal and intense, perhaps because forum was more active back then.</p>
<p>I personally (of course) support moving forward at the expense of breaking things, but I have also learned that my desires are not the desires of this specific community.</p>
<p>Even if you actually switched to STL (even w/o breaking Lua), you probably wouldn’t get the outcome you wanted. I believe that most people would just stay at the older version since it doesn’t break their code and offers just as many features. That’s why I asked you about functional roadmap: because the only way to push people forward is to offer them substantial benefits they can take and use right now, so these benefits overweigh the pain of change.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Probably my English is so bad that no one understands what I mean. I see no reason to spend more time on this.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2728_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Naros</div>
          <div class="post_content">
<p>I don’t think it’s a comprehension issue <span class="mention">@1vanK</span> FWIW.</p>
<p>Unless the goal here is to release Urho3D 2.0, then I think any type of effort to move a codebase forward should always be mindful of compatibility.  Changes like this can be done in a way in which the code is backward compatible while getting the benefits of the performance you seek.</p>
<p>Compatibility to me is a critical aspect of code adoption.  Anything that causes the adoption of changes to be hindered leads to the potential for more regressions and unstable code due to a lack of rigorous testing across a plethora of platforms and environments.</p>
<p>Lots of users rely on <code>Urho3D::Vector</code> and <code>Urho3D::PODVector</code> in their code and this change is going to be extremely disruptive, particularly if it’s in a micro release.  I would strongly suggest that if you want to get the performance benefits of <code>std::vector</code> that you abstract the detail of the change away, as suggested by <span class="mention">@S.L.C</span> in his comments on your PR rather than simply changing the usage at every call site as you have begun in your PR.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>No - this is a problem of understanding. You just confirmed it with your post.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I can only repeat only what I wrote earlier. You all write about some mythical engine developers. But they just don’t exist. Your choice is to</p>
<ol>
<li>have zero changes in the repository</li>
<li>keep an old copy that you like and be happy with it and ignore changes in the repository</li>
</ol>
<p>In both cases, you will be using the same old version of the engine. So what’s the difference to you?</p>
<p>Everyone writes about the performance of vectors. I do not understand. Maybe in the title there is something about the performance of vectors? What I write about is that any changes to the engine are complicated by LUA bindings that no one wants to maint.</p>
<p>Oh, and the opinion of the community. This is my favorite phrase. Why on earth should I care about the opinions of people who use the engine out there and contribute zero to the development of the engine. In biology, this is called parasitism. Personally, I participate in the development of the engine in order to create a great engine together. And the parasitic community is simply limited to wishes that someone has to fulfill. But personally, I will fulfill my wishes, since this is not my job and you do not pay me to fulfill your wishes. If you have an idea how the engine should look like, come and write the code. Or keep your wishes to yourself.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<aside class="quote no-group" data-post="40" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>keep an old copy that you like and be happy with it and ignore changes in the repository</p>
</blockquote>
</aside>
<p>Not trying to be mean or anything. I’m honestly not that invested in this. But your logic can also be flipped. Why can’t you make these breaking changes on a copy of your own? i.e. a fork</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>This is the first variant in my post.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2728_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Naros</div>
          <div class="post_content">
<aside class="quote no-group" data-post="40" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>Your choice is to</p>
<ol>
<li>have zero changes in the repository</li>
<li>keep an old copy that you like and be happy with it and ignore changes in the repository</li>
</ol>
</blockquote>
</aside>
<p>I agree the problem is understanding, but I disagree that its on my part.</p>
<p>I never said you shouldn’t evolve the codebase.  Code evolution is equally critical as the steps you take to do it in the first place.  That’s where my concern lies, your approach; not the end result.</p>
<p>You want to use <code>std::vector</code>, do it but find a way that minimizes the disruptive nature of the change.  I pointed out the suggestion on the PR which is a valid and practical way to do just that.  If you’re so against that approach, then why don’t you explain why that won’t work or why you are against it?</p>
<p>Lastly, your second point again proves you either didn’t read my post or comprehend it; and either way that’s fine so I’ll try and be more clear and direct.</p>
<p>The philosophy I’ve learned by working in open source development is that it’s always important to not only think about what you get out of a change as the developer but to consider the experience and user that will be impacted by your changes.</p>
<p>There will always be situations where users will remain on legacy versions for this or that.  But it’s our job to design clean, clear, and as easy as possible upgrade paths to sustain community involvement.  If you begin to do things that go against that, you hurt whatever community you have left.  And then at what point is the development at all if you lose the community?</p>
<p>I’ll happily let this go if you can show me a logical and justified reason for making the change in the manor in which you are.  Again, to be clear, I’m not saying don’t make the change; I’m just asking you to do it in a way that’s less disruptive.  That’s two different things.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>We took into account the opinions of users for 8 years and now the community consists of only users.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="43" data-topic="7149" data-username="Naros">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ac0823a052afaadbc220556b42cf58c4.png" width="20"/> Naros:</div>
<blockquote>
<p>I’ll happily let this go if you can show me a logical and justified reason for making the change in the manor in which you are. Again, to be clear, I’m not saying don’t make the change; I’m just asking you to do it in a way that’s less disruptive. That’s two different things.</p>
</blockquote>
</aside>
<p>I have already said everything I wanted to say. I can only repeat what has already been said. But I would like to know who you are and why do I have to prove something to you?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2728_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Naros</div>
          <div class="post_content">
<p>I mean to add more in my prior rely and hit submit, so I’ll continue here.</p>
<aside class="quote no-group" data-post="40" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>his is my favorite phrase. Why on earth should I care about the opinions of people who use the engine out there and contribute zero to the development of the engine.</p>
</blockquote>
</aside>
<p>I eluded to this above.  If you have a development team that is hellbent on doing it their way and the voice of the users doesn’t matter, users will eventually move on and give up and find something else.  Then what’s the point of your contributions?</p>
<p>Sure you might use the engine in your projects, a few others might use it that develop it or are close friends but again is the effort then worth it if your audience is so small?</p>
<aside class="quote no-group" data-post="40" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>But personally, I will fulfill my wishes, since this is not my job and you do not pay me to fulfill your wishes. If you have an idea how the engine should look like, come and write the code. Or keep your wishes to yourself.</p>
</blockquote>
</aside>
<p>I don’t understand why you seem to feel so attacked by someone who shares your desire to make changes but is asking for those changes to be tackled in a slightly different style.</p>
<p>If I have to contribute to this project to even be allowed to make a constructive critique about something that I agreed with you but challenged your approach; then perhaps I (as well as others) should see this for what it is and move on.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>My efforts are my efforts, and I myself will decide how to distribute them. You can explain to me what difference it makes to me how many users of the engine, zero or a million, if they do not contribute to the engine, but only, as it turned out, are an obstacle for me.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2728_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Naros</div>
          <div class="post_content">
<aside class="quote no-group" data-post="45" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>But I would like to know who you are and why do I have to prove something to you?</p>
</blockquote>
</aside>
<p>I’m just an avid developer who has been using Urho3D for several years just giving you my perspective on your change; that’s all.  I came over from Ogre3D after the massive changes just made the entire upgrade and development experience a mess.  I just would hate to see this project follow in the same footsteps.</p>
<p>And you have to prove nothing to me; you’ve shown me plenty.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Then I would suggest you some commercial engine.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/96_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">JTippetts1</div>
          <div class="post_content">
<p>Here are my thoughts:</p>
<p>It seems like the whole point of switching to std::vector would be for interface reasons, to allow containers to hold to what is the standard as far as naming and usage, but doing so would, of course, break compatibility. While performance is mentioned in the initial post as the reason for the change, let’s be honest here: I doubt there is a single Urho3D project out there where the performance of the vector class is an actual bottleneck. Choosing performance as the reason feels like bikeshedding to a large degree.</p>
<p>I can’t really fault <span class="mention">@1vanK</span> for not wanting to mess around with the Lua bindings. I say this as someone who likes Lua, who was delighted when Lua was brought to the project, and who is currently using Urho3D+Lua for a work project: those Lua bindings are <em>rotting</em>. The Lua language has incremented 3 version numbers since the bindings were written, and coming back to Urho after using other tools with newer Lua versions feels odd. Not to mention, there are still the various wierdnesses inherent to tolua being used as the binding agent. It is a well-known fact that having to implement not one but two script interfaces has demonstrably hampered the progress of this engine. If nobody is willing to step up to do the maintenance work on the Lua bindings, then <em>Urho3D Lua should be allowed to die.</em></p>
<p>Make a major version release, tag it, then start a new major version and do what is needful to start bringing progress again. Being afraid and stuck in stasis because a handful of users don’t want the change seems unwise to me. Let them have a bugfix-only release, and let the devbranch start working on fun new features and technological advancement. This project will not advance, and will instead continue to shed users and spawn forks, if some of the roadblocks to progress aren’t removed.</p>
<p>Officiallly bless one of the script interfaces, purge the other, and <em>move on</em>.</p>
<p>Swap out the containers for something that adheres more closely to the standard. *** switching to EASTL was one of the lures for me to start using it for some projects. A standard-compliant container interface is wonderful when it comes to integrating old code or code from other projects and places.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="40" data-topic="7149" data-username="1vanK">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/> 1vanK:</div>
<blockquote>
<p>Oh, and the opinion of the community. This is my favorite phrase. Why on earth should I care about the opinions of people who use the engine out there</p>
</blockquote>
</aside>
<p>Because when you push something to the project with existing community, you are the servant of this community, and must consider its opinions.</p>
<p>When you push something into your personal repository, you do whatever you want.</p>
<p>That’s the main difference, no?</p>
<p>If you remember, I have stayed in the fork and not pushed my agenda exactly because I had no moral right to force my opinion and ignore opinions of the community, completely regardless of how much code I wrote.</p>
<p>PS: I am not advocating for keeping Lua, this is just a general reply.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I’ve been in this project for so long that I’m not sure that there are still people here who were a community before I came. Moreover, even before I started sending commits to the repository, I wrote a series of articles in the Russian-speaking segment to attract Russian-speaking users in the hope that new developers would come.  So I tend to think that it was not me who imposed on the community, but attracted part of the community to the engine. In addition, I did not sign any documents that I should serve someone. I am ready to take into account the opinion of other developers of the engine, but not random people who think that I owe them something.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">George1</div>
          <div class="post_content">
<p>I believed any major changes should be in Urho3D 2.<br/>
Maybe you can add Urho3D 2 is in the work and the repository on the main page to draw new developer’s attention.   Also add a category Urho3D 2 in the forum.</p>
<p>This way you can have version 1 as bug fix and version 2 is a WIP.   You can then let version 1 die slowly as version 2 pick up momentum.</p>
<p>I think work together with elix22.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>By the way, don’t forget about this page when making a release:</p><aside class="onebox githubblob" data-onebox-src="https://github.com/urho3d/Urho3D/blob/1.8/Docs/Urho3D.dox#L134">
<header class="source">
<a  rel="noopener nofollow ugc" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a  rel="noopener nofollow ugc" target="_blank">urho3d/Urho3D/blob/1.8/Docs/Urho3D.dox#L134</a></h4>
<pre class="onebox">      <code class="lang-dox">
        <ol class="start lines" start="124" style="counter-reset: li-counter 123 ;">
            <li>
            </li>
<li>Copyright (c) 2008-2022 the Urho3D project.</li>
            <li>
            </li>
<li>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</li>
            <li>
            </li>
<li>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</li>
            <li>
            </li>
<li>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</li>
            <li>
            </li>
<li>
            </li>
<li class="selected">\page History History</li>
            <li>
            </li>
<li>V1.7</li>
            <li>
            </li>
<li>- Inverse kinematics support.</li>
            <li>- Bullet %RaycastVehicle support.</li>
            <li>- AppleTV platform support.</li>
            <li>- WebAssembly support on the Web platform.</li>
            <li>- IME support on Linux platform.</li>
            <li>- Several font rendering improvements and TypoGraphy sample.</li>
            <li>- WebP image loading support.</li>
        </ol>
      </code>
    </pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I’m lazy for this</p>
<p>==== 20 chars</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>Some of you people really need to get back on the medication. Because you’ve been given some privileges to this project that you really shouldn’t have in the first place. And I’m saying this in the most serious and genuinely concerned way possible.</p>
<p>Like whole mother of !&gt;#@??? The level of communication with the community has gone to absolute nonsense.</p>
<p>I’ve tried to not say this for quite some time. But someone has to say it. Jeezus <img alt=":grimacing:" class="emoji" src="../../../images2/62f6292cf5afb94ad68658da27c5b32b.png" title=":grimacing:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Do you think this is the single problem?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="56" data-topic="7149" data-username="S.L.C">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/aa1895aba5007d63790c391fb6bef3db.png" width="20"/> S.L.C:</div>
<blockquote>
<p>Because you’ve been given some privileges to this project that you really shouldn’t have in the first place.</p>
</blockquote>
</aside>
<p>You probably think that I got them just like that? Maybe because I invested my time in the project?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">adhoc99</div>
          <div class="post_content">
<p>So what, does that mean this is your engine now?</p>
<p>Might as well rename the engine too.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>No, I don’t think so.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>And you probably consider yourself a white master who has slaves who should be happy that they follow your orders?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/96_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">JTippetts1</div>
          <div class="post_content">
<p>Holy shit. Is this what we’ve come to?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>I see no valid reason for account suspension, so I have unsuspended those that have been affected. Please read the forum rules and be nice.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>