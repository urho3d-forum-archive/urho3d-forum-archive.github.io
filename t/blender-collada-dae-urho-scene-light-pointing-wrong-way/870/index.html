<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Blender &gt; collada dae-&gt; urho scene light pointing wrong way?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Blender &gt; collada dae-&gt; urho scene light pointing wrong way?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TikariSakari</div>
          <div class="post_content">
<p>I noticed that when I import the scene from dae file to urho, the lights seem to point exactly the wrong way. When I opened the xml-file in the editor view, it adds Light which has rotation of 180 degrees on Y-axis. When I turn it to 0, the light points the same way as in blender. I was mostly wondering if this will remain same way in the future, so that I should do the change in blender/exporting dae to urho, or might this be changed in urhos scene loader?</p>
<p>Edit: I guess easiest temp fix would be just to search all the lightnodes from the scene and change their rotation to 0.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">thebluefish</div>
          <div class="post_content">
<p>AFAIK there is no set roadmap, so who knows what each dev is working on. Urho3D is based on support from contributors, such as yourself, providing this kind of information. If possible, please submit a <a>bug report</a> to ensure that this issue gets the attention it needs.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TikariSakari</div>
          <div class="post_content">
<p>hmm I think its something with the collada to blender thing. Seems that the rotation attribute is always same regardless what direction the light is pointing. The node the light is attached to, seems to point correct way though.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/168_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">gwald</div>
          <div class="post_content">
<p>I thought collada was outdated, and a legacy format?<br/>
Why not just use the .blend file?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Unfortunately Assimp’s Blender loading code is in worse shape than its Collada loading code, at least what it comes to lights. This specific issue regarding the direction was fixed (by modifying the Assimp copy in Urho’s repo); I used a test scene with a couple of boxes and a spot light and the results were following:</p>
<ul>
<li>Collada: light type &amp; direction imported correctly (after the fixes)</li>
<li>Blender: Assimp misinterprets the light as a point light</li>
<li>FBX: Assimp gets the light direction and range wrong</li>
</ul>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">TikariSakari</div>
          <div class="post_content">
<p>Thanks for the quick fix, now the collada seems to be working perfectly for importing scenes.</p>
<p>As for the why I use collada, I tried using the blender exporter and but I liked more the structure of the xml that the collada to urho has. In the xml, I actually can see the position and rotation of each object in the scene, unlike if I used the blender exporter inside blender. It just poofs that data completely from the xml-file. It might actually have that data in the mdl-files but I prefer having structure where the node and model location is set on the scene. Also for lights, there is no positional information at all where the lights are set.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>