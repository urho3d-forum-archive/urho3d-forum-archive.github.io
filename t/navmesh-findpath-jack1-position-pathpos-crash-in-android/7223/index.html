<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>navMesh.FindPath(jack1.Position, pathPos); crash in android</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">navMesh.FindPath(jack1.Position, pathPos); crash in android</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p>NavigationMesh navMesh = scene.GetComponent();<br/>
Vector3 pathPos = navMesh.FindNearestPoint(hitPos, new Vector3(1.0f, 1.0f, 1.0f));<br/>
Node jack1 = scene.GetChild(“jack”, false);<br/>
var result = navMesh.FindPath(jack1.Position, pathPos);</p>
<p>note:navMesh.FindPath(jack1.Position, pathPos);//this will crash every running this</p>
<p>android crash.<br/>
i use xamarin android and nuget.<br/>
I have no test it by <a href="http://urho.net" rel="noopener nofollow ugc">urho.net</a>. I guess it will crashed too.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p><a href="http://urho.net" rel="noopener nofollow ugc">urho.net</a> is ok…seem<br/>
var result = navMesh.FindPath(jackGroup.Position, pathPos);</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p>so nuget is problem?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1437_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">elix22</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="2" data-topic="7223" data-username="tianlv777">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/1cd99cb20dd4e057758cd92a99627fbd.png" width="20"/> tianlv777:</div>
<blockquote>
<p><a href="http://urho.net" rel="noopener nofollow ugc">urho.net</a> is ok…seem<br/>
var result = navMesh.FindPath(jackGroup.Position, pathPos);</p>
</blockquote>
</aside>
<p>Yep , in <a href="http://Urho.net" rel="noopener nofollow ugc">Urho.net</a> was fixed by <span class="mention">@dertom</span><br/>
<a class="inline-onebox" href="https://github.com/elix22/Urho3D/pull/71" rel="noopener nofollow ugc">fixing NavigationMesh.FindPath using parameter-ref in binding-call by dertom95 · Pull Request #71 · elix22/Urho3D · GitHub</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Nerrik</div>
          <div class="post_content">
<p>In my project i updated the complete old recast nav. thats used by urho3d with <a class="inline-onebox" href="https://github.com/recastnavigation/recastnavigation" rel="noopener nofollow ugc">GitHub - recastnavigation/recastnavigation: Navigation-mesh Toolset for Games</a> because of many crashes (segfaults) with complicated large navmeshes (large terrain with objects). There are many bugs that causes crashes fixed in this further developed version and a crash never happend again after the update.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p><a>Uploading: QQ图片20220325155932.png…</a><br/>
<img alt="QQ图片20220325160118" data-base62-sha1="9pbXElSGVPMlFNKybyQUpVdFPq" height="258" src="../../../images2/b206d70856a3156d2e5c055d1fe04155.png" width="640"/><br/>
why plane has different color.<br/>
Node planeNode = scene.CreateChild(“Plane”);<br/>
planeNode.Scale = new Vector3(100.0f, 1.0f, 100.0f);<br/>
StaticModel planeObject = planeNode.CreateComponent();<br/>
planeObject.Model = (ResourceCache.GetModel(“Models/Plane.mdl”));<br/>
planeObject.SetMaterial(ResourceCache.GetMaterial(“Materials/StoneTiled.xml”));</p>
<pre><code>&lt;technique name="Techniques/DiffNormal.xml" quality="1" /&gt;

&lt;technique name="Techniques/Diff.xml" quality="0" /&gt;

&lt;texture unit="diffuse" name="Textures/StoneDiffuse.dds" /&gt;

&lt;texture unit="normal" name="Textures/StoneNormal.dds" /&gt;

&lt;shader psdefines="PACKEDNORMAL" /&gt;

&lt;parameter name="MatSpecColor" value="0.3 0.3 0.3 16" /&gt;

&lt;parameter name="UOffset" value="4 0 0 0" /&gt;

&lt;parameter name="VOffset" value="0 4 0 0" /&gt;
</code></pre>
<p>the  TerrainDetail2.dds how to add?or how to edit dds?<br/>
I remove resource Textures/StoneDiffuse.dds from asset folder.But <a href="http://urho.net" rel="noopener nofollow ugc">urho.net</a> run As usual.<br/>
I can’t get the right logic to edit TerrainDetail or how to add it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="QQ图片20220325160905"><img alt="QQ图片20220325160905" data-base62-sha1="lgnSXLdU7kSYSIHMiBtSIyKlZQJ"  height="443" src="../../../images2/1b07c4f0eb7c7c6162719c08224533e0.jpeg" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">QQ图片20220325160905</span><span class="informations">713×458 73.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1437_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">elix22</div>
          <div class="post_content">
<aside class="quote no-group" data-post="6" data-topic="7223" data-username="tianlv777">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/1cd99cb20dd4e057758cd92a99627fbd.png" width="20"/> tianlv777:</div>
<blockquote>
<p>I remove resource Textures/StoneDiffuse.dds from asset folder.But <a href="http://urho.net" rel="noopener nofollow ugc">urho.net</a> run As usual.</p>
</blockquote>
</aside>
<p>During first run , the Assets folder is copied into the <strong>Bin</strong> folder (i.e. <strong>bin/Debug/netcoreapp3.1</strong>)<br/>
Every time you <strong>modify</strong> the content of some files in the Assets folder , before the next run only the modified files are copied to the <strong>Bin</strong> folder.</p>
<p>During the runtime , the application is reading from the generated <strong>Bin</strong> folder not the Assets folder.</p>
<p>If you <strong>delete</strong> a file in the Assets folder the file is <strong>not</strong> deleted from the Bin folder (I guess it might be considered a bug , but I didn’t find an optimized solution for that)</p>
<p>Currently you have 2 options</p>
<ul>
<li>Delete the file manually from the Bin folder</li>
<li>make a clean build</li>
</ul>
<p>Regarding DDS  , you can read more about it in</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://fileinfo.com/extension/dds">
<header class="source">
<img class="site-icon" height="48" src="../../../images2/2807dd54857538a2e6971b2762a45b6b.svg" width="48"/>
<a href="https://fileinfo.com/extension/dds" rel="noopener nofollow ugc" target="_blank">fileinfo.com</a>
</header>
<article class="onebox-body">
<h3><a href="https://fileinfo.com/extension/dds" rel="noopener nofollow ugc" target="_blank">DDS File Extension - What is a .dds file and how do I open it?</a></h3>
<p>Learn about .DDS files and view a list of programs that open them.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p>THANKS very much！！！THANKS very much！！！</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p>My main game target platform is Android, so I can’t accept Urho Net cannot debug Android programs in real time<br/>
So there’s any way to make Urho Net can debug Android programs in real time.<br/>
I have two choices now.<br/>
1、 Using Urho net that it could debug android program real time. And I find way to migrate V8 and Android WebView to Urho net. Because my android game is using v8 engine and webview.<br/>
2、find a way to let urho. net could be packed nuget. So I can use the latest <a href="http://Urho.Net" rel="noopener nofollow ugc">Urho.Net</a> function in xamarin.android at visual sutdio 2022.the findpath function is ok.The Jint is cool to create many maps.</p>
<p>What about your suggestion?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1437_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">elix22</div>
          <div class="post_content">
<aside class="quote no-group" data-post="12" data-topic="7223" data-username="tianlv777">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/1cd99cb20dd4e057758cd92a99627fbd.png" width="20"/> tianlv777:</div>
<blockquote>
<p>So there’s any way to make Urho Net can debug Android programs in real time.</p>
</blockquote>
</aside>
<p>Currently the Android mono debugger is not supported  , it might be supported in 2022/Q4 once my Net.6 Game Editor Will be released.<br/>
You can use <strong>Urho.IO.Log.Info , Urho.IO.Log.Debug , Urho.IO.Log.Error</strong> , (supported on all platforms)</p>
<aside class="quote no-group" data-post="12" data-topic="7223" data-username="tianlv777">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/1cd99cb20dd4e057758cd92a99627fbd.png" width="20"/> tianlv777:</div>
<blockquote>
<p>So I can use the latest <a href="http://urho.net/" rel="noopener nofollow ugc">Urho.Net</a> function in xamarin.android</p>
</blockquote>
</aside>
<p><a href="http://Urho.net" rel="noopener nofollow ugc">Urho.net</a> can not  run with Xamarin.Android , I don’t plan to support it .<br/>
On mobile devices <a href="http://Urho.Net" rel="noopener nofollow ugc">Urho.Net</a>  interacts directly with the Mono runtime (not using Xamarin) , this is one of the reasons it’s so blazing fast (fast as C++)</p>
<p>Javascript interacts/runs nicely with <a href="http://Urho.net" rel="noopener nofollow ugc">Urho.net</a> on all platforms , I guess you played with the Javascript Sample , It’s not my cup of tea but I understand people that are using it.<br/>
<a class="inline-onebox" href="https://github.com/Urho-Net/Samples/tree/main/JavaScriptSample" rel="noopener nofollow ugc">Samples/JavaScriptSample at main · Urho-Net/Samples · GitHub</a></p>
<p>I have written a small Wiki page for Android</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://github.com/Urho-Net/Urho.Net/wiki/Android">
<header class="source">
<img class="site-icon" height="32" src="../../../images2/0973ea8ce7121c320f68413e2a2f23ab.svg" width="32"/>
<a href="https://github.com/Urho-Net/Urho.Net/wiki/Android" rel="noopener nofollow ugc" target="_blank">GitHub</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/345;"><img class="thumbnail" height="345" src="../../../images2/c17c53439950fc4092ceb3dacf73199a" width="690"/></div>
<h3><a href="https://github.com/Urho-Net/Urho.Net/wiki/Android" rel="noopener nofollow ugc" target="_blank">Android · Urho-Net/Urho.Net Wiki</a></h3>
<p>Multiplatform C# Game development framework . Contribute to Urho-Net/Urho.Net development by creating an account on GitHub.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<aside class="onebox allowlistedgeneric" data-onebox-src="https://github.com/1vanK/Urho3DOutline">
<header class="source">
<img class="site-icon" height="32" src="../../../images2/0973ea8ce7121c320f68413e2a2f23ab.svg" width="32"/>
<a href="https://github.com/1vanK/Urho3DOutline" rel="noopener nofollow ugc" target="_blank">GitHub</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/345;"><img class="thumbnail" height="345" src="../../../images2/bbcbc5c632c18ba9acb792e67744fab0" width="690"/></div>
<h3><a href="https://github.com/1vanK/Urho3DOutline" rel="noopener nofollow ugc" target="_blank">GitHub - 1vanK/Urho3DOutline</a></h3>
<p>Contribute to 1vanK/Urho3DOutline development by creating an account on GitHub.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>
outline is not ok at android.but ok at pc.<br/>
void SetupViewport()<br/>
{<br/>
var cache = ResourceCache;</p>
<pre><code>        var g = Graphics;
        var renderer = Renderer;

        var viewport = new Viewport(Context, scene, CameraNode.GetComponent&lt;Camera&gt;());
        renderer.SetViewport(0, viewport);
        RenderPath effectRenderPath = viewport.RenderPath.Clone();
        effectRenderPath.Append(cache.GetXmlFile("PostProcess/Outline.xml"));
        effectRenderPath.Append(cache.GetXmlFile("PostProcess/FXAA3.xml"));
        viewport.RenderPath = effectRenderPath;

        int w = g.Width;
        int h = g.Height;
        var renderTexture = new Urho.Urho2D.Texture2D(Context);
        renderTexture.SetSize(w, h, Graphics.RGBFormat, TextureUsage.Rendertarget);
        renderTexture.FilterMode = TextureFilterMode.Nearest;
        renderTexture.Name = "OutlineMask";
        cache.AddManualResource(renderTexture);

        var surface = renderTexture.RenderSurface;
        surface.UpdateMode = RenderSurfaceUpdateMode.Updatealways;
        var outlineViewport = new Viewport(Context, outlineScene, outlineCameraNode.GetComponent&lt;Camera&gt;());
        surface.SetViewport(0, outlineViewport);


    }
</code></pre>
<p>I guess Outline.glsl can’t use at android…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="QQ图片20220330144545"><img alt="QQ图片20220330144545" data-base62-sha1="3YbzG9foivdhHyekXH1igSvrYeE"  height="500" src="../../../images2/0e7f9986c550662606af1f8c8d2a8ef4.jpeg"  width="375"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">QQ图片20220330144545</span><span class="informations">1440×1920 209 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tianlv777</div>
          <div class="post_content">
<aside class="onebox githubblob" data-onebox-src="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs">
<header class="source">
<a href="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs" rel="noopener nofollow ugc" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a href="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs" rel="noopener nofollow ugc" target="_blank">tianlv777/urho.net-test/blob/main/outline.cs</a></h4>
<pre><code class="lang-cs">// Copyright (c) 2020-2021 Eli Aloni (a.k.a  elix22)
// Copyright (c) 2008-2015 the Urho3D project.
// Copyright (c) 2015 Xamarin Inc
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
</code></pre>



  This file has been truncated. <a href="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs" rel="noopener nofollow ugc" target="_blank">show original</a>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1437_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">elix22</div>
          <div class="post_content">
<p>Remove this line , will show outline on mobile iOS/Android.</p>
<aside class="onebox githubblob" data-onebox-src="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs#L197">
<header class="source">
<a href="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs#L197" rel="noopener nofollow ugc" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a href="https://github.com/tianlv777/urho.net-test/blob/main/outline.cs#L197" rel="noopener nofollow ugc" target="_blank">tianlv777/urho.net-test/blob/main/outline.cs#L197</a></h4>
<pre class="onebox">      <code class="lang-cs">
        <ol class="start lines" start="187" style="counter-reset: li-counter 186 ;">
            <li>{</li>
            <li>    var cache = ResourceCache;</li>
            <li>
            </li>
<li>    var g = Graphics;</li>
            <li>    var renderer = Renderer;</li>
            <li>
            </li>
<li>    var viewport = new Viewport(Context, scene, CameraNode.GetComponent&lt;Camera&gt;());</li>
            <li>    renderer.SetViewport(0, viewport);</li>
            <li>    RenderPath effectRenderPath = viewport.RenderPath.Clone();</li>
            <li>    effectRenderPath.Append(cache.GetXmlFile("PostProcess/Outline.xml"));</li>
            <li class="selected">    effectRenderPath.Append(cache.GetXmlFile("PostProcess/FXAA3.xml"));</li>
            <li>    viewport.RenderPath = effectRenderPath;</li>
            <li>
            </li>
<li>    int w = g.Width;</li>
            <li>    int h = g.Height;</li>
            <li>    var renderTexture = new Urho.Urho2D.Texture2D(Context);</li>
            <li>    renderTexture.SetSize(w, h, Graphics.RGBFormat, TextureUsage.Rendertarget);</li>
            <li>    renderTexture.FilterMode = TextureFilterMode.Nearest;</li>
            <li>    renderTexture.Name = "OutlineMask";</li>
            <li>    cache.AddManualResource(renderTexture);</li>
            <li>
        </li>
</ol>
      </code>
    </pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>


    </div>
  </body>
</html>