<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>SHLighting testing</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">SHLighting testing</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Reading this document, <a data-bbcode="true" href="http://www.research.scea.com/gdc2003/spherical-harmonic-lighting.pdf">http://www.research.scea.com/gdc2003/spherical-harmonic-lighting.pdf</a>, for the 1st time was confusing, but once I started coding what was in the doc it made more sense.<br/>
I’m also using <a data-bbcode="true" href="https://code.google.com/archive/p/understanding-the-efficiency-of-ray-traversal-on-gpus/">https://code.google.com/archive/p/understanding-the-efficiency-of-ray-traversal-on-gpus/</a> for a little bit of speed up.</p>
<p>I’ve been working on this for a less than a week and still got a lot of work remaining, but would like to show my progress anyway.</p>
<p>My sample scene - normal lighting<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/EstJMaC.png?1" title=""><img alt="" height="387" src="../../../images2/15f5b8f413e1654e5f002d5c4083b7ec.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×505</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Sample scene - SH lighting tech: diffused unshadowed transfer<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/3RXYHNp.png?1" title=""><img alt="" height="387" src="../../../images2/d7f1465d5db919f41d202d63fe9863cf.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×505</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Close up, normal lighting<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/UWBrdNs.png?1" title=""><img alt="" height="387" src="../../../images2/c73d2baa08587f281f2e683bf46829f1.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×505</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>Close up, SH lighting: diffused unshadowed transfer<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/j8QV3zh.png?1" title=""><img alt="" height="387" src="../../../images2/034ca698d3656236d97658b09546d2cf.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×505</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>I hope you can see the shading on the SH lighting images.</p>
<p>To do next:<br/>
-shadowed diffuse transfer<br/>
-interreflective transfer</p>
<p>Edit: added SH lighting technique for images.</p>
<ul>
<li>
</li></ul>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>This is awesome! I have tried something similar before. Have you captured the shadows in addition to the diffuse lighting? It is also possible to capture Ambient Occlusion and Color Bleeding.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/db4c02596e658dc9102b66ceb5fb9d80.png" width="20"/> sabotage3d:</div>
<blockquote>
<p>This is awesome! I have tried something similar before. Have you captured the shadows in addition to the diffuse lighting? It is also possible to capture Ambient Occlusion and Color Bleeding.</p>
</blockquote>
</aside>
<p>I have completed the “shadowed diffuse transfer” which is essentially AO and currently working on “diffuse interreflected transfer” which does color bleeding.</p>
<p>I might have some more images in a day or two.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>Nice. How is the FPS?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/db4c02596e658dc9102b66ceb5fb9d80.png" width="20"/> sabotage3d:</div>
<blockquote>
<p>Nice. How is the FPS?</p>
</blockquote>
</aside>
<p>No change in the frame rate. SH is written to vertex color and rendered using DiffVCol technique.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Update - all images using 100 SH samples and rendered using diffVCol<br/>
Huge limitation using vertex color, especially if the mesh are not high quality.</p>
<p>normal lighting<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/ktM4da5.png?1" title=""><img alt="" height="385" src="../../../images2/99ce1790f9ac2c07029c5510dad3ad32.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×503</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>diffused unshadowed transfer<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/9PbX4Kj.png?1" title=""><img alt="" height="385" src="../../../images2/afd51829863cfbf0c18fceea5ed3ed5c.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×503</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>shadowed diffuse transfer<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/H2UCO6t.png?1" title=""><img alt="" height="385" src="../../../images2/5e058e068088040e74006939fb566d51.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×503</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>diffuse interreflect transfer<br/>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/8B9iWNl.png?1" title=""><img alt="" height="385" src="../../../images2/3d6d9101f71eb261eff5e12de1a27ae0.png" width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">900×503</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Created a repository - <a data-bbcode="true" href="https://github.com/Lumak/Urho3D-1.4-SphericalHarmonicLighting/">https://github.com/Lumak/Urho3D-1.4-SphericalHarmonicLighting/</a> if anyone is also interested in this topic.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/87_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">sabotage3d</div>
          <div class="post_content">
<p>Thanks a lot Lumak. Using SH as vertex color is quite limited, it looks a lot better if used as multiple light probes: <a data-bbcode="true" href="http://blogs.unity3d.com/2011/03/09/light-probes/" rel="nofollow noopener">http://blogs.unity3d.com/2011/03/09/light-probes/</a></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>