<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>[SOLVED]sdl android build error on windows</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">[SOLVED]sdl android build error on windows</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli</div>
          <div class="post_content">
<p>Seems like the newly merged sdl has some config issues:</p>
<p>[  4%] Building C object Source/ThirdParty/SDL/CMakeFiles/SDL.dir/src/core/android/SDL_android.c.o<br/>
D:/software/Urho3D_dev/Source/ThirdParty/SDL/src/core/android/SDL_android.c: In function ‘SDL_Android_Init’:<br/>
D:/software/Urho3D_dev/Source/ThirdParty/SDL/src/core/android/SDL_android.c:135:5: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]<br/>
const char *str;<br/>
^<br/>
D:/software/Urho3D_dev/Source/ThirdParty/SDL/src/core/android/SDL_android.c:142:9: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]<br/>
size_t length = strlen(str) + 1;</p>
<p>Windows 8 64bit, Android NDK r12b, latest master branch.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>This is a known GCC issue and has been reported in our issue tracker. Our build system has been adapted to work with Clang compiler for Android build for sometime now and it builds the latest master branch just fine.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli</div>
          <div class="post_content">
<p>How can I use Clang instead of GCC? Does Urho3D have a tutorial on that?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>My apology, I thought it was obvious so I didn’t mention how to do it. It can be configured by using CMake build option as always with our build system. See “ANDROID_TOOLCHAIN_NAME” in the <a href="https://urho3d.github.io/documentation/HEAD/_building.html#Build_Options">urho3d.github.io/documentation/ … ld_Options</a>. If you need more concrete examples, check out how it is used in the Android-CI here.<br/>
<a >github.com/urho3d/Urho3D/blob/f … #L210-L224</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli</div>
          <div class="post_content">
<p>Thank you for the information. You ARE the master on the Urho3D build system. I will try it out.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>