<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Help remaking Lips of Suna engine with Urho3D</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Help remaking Lips of Suna engine with Urho3D</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1404_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">LiamM32</div>
          <div class="post_content">
<p>For awhile now, I have been interested in Lips of Suna, which is a game project abandoned by it’s original developer (known as “Amuzen” on <a href="https://forum.freegamedev.net/viewforum.php?f=25&amp;sid=5ef6f3855ca4c639e201cc617f7a6958" rel="nofollow noopener">the forum</a>).  I first discovered it on FreeGameDev forums in summer 2014, about a month before Amuzen left and never returned.  It has a custom game engine using OGRE for graphics, and scripts are in LuaJIT.  Although I have wanted to develop it further, I have been limited in what I can do due to my very limited coding skills.  Worse; being an abandoned project with a custom game engine, I get very little support.</p>
<p>However, I have recently managed to update the engine to make it work with OGRE 1.10 and Bullet 2.86.1, which I uploaded to <a href="https://gitlab.com/electric-gecko/lipsofsuna" rel="nofollow noopener">this repository</a>.  The forum has become more active since I started doing this, although I’m still the only person who has been touching the code.</p>
<p>Originally suggested <a href="https://forum.freegamedev.net/viewtopic.php?f=65&amp;t=7487&amp;p=73576&amp;hilit=+Update+to+support+OGRE#p73576" rel="nofollow noopener">by a moderator on the forum</a>, I would now like to have Lips of Suna remade with Urho3D.  Here are the main reasons:</p>
<ul>
<li>The current version has performance issues which would likely be fixed with this.</li>
<li>The current codebase of Lips of Suna is too messy, making it hard to develop further and scaring off potential contributors.</li>
<li>Can’t get any support for the Lips of Suna game engine, as it’s exclusive to this project and the developer has left.</li>
</ul>
<p>Scripts can be written in Angelscript.  This should give better performance, as the Lua garbage collector seems to cause big frame-rate drops when it activates.</p>
<p>I have tried to create an Urho3D program, using the tutorials and the HelloGUI sample for reference.  But I haven’t figured out how to get it working, as my programming skills are very limited.  I have taken online tutorials for the syntax of C++, but I have never written a main loop before.</p>
<p>It would be very nice if someone else to were to start writing the new game engine.  As I have struggled to do this first part myself, I’ll likely have to join-in after this first step is done (or started).</p>
<p>In the current Lips of Suna, the main funtion is in “src/lipsofsuna/main/main.c”.  But in Urho3D, doesn’t the main function have to be in C++?</p>
<p>A good first milestone would be to replicate the game’s main menu.</p>
<p>My vision of what Lips of Suna should become is something in-between version 0.5.0 &amp; 0.8.0 (latest stable version).  I never got to play 0.5.0, only watched a video of it. It was made for an old Ubuntu version pre-12.04, so I couldn’t compile it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Victor</div>
          <div class="post_content">
<p>Urho kinda hides the main function. It’s defined through a macro.<br/>
<aside class="onebox githubblob">
<header class="source">
<a  rel="nofollow noopener" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a  rel="nofollow noopener" target="_blank">urho3d/Urho3D/blob/master/Source/Samples/01_HelloWorld/HelloWorld.cpp#L35</a></h4>
<pre class="onebox"><code class="lang-cpp"><ol class="start lines" start="25" style="counter-reset: li-counter 24 ;">
<li>#include &lt;Urho3D/Input/Input.h&gt;</li>
<li>#include &lt;Urho3D/UI/Font.h&gt;</li>
<li>#include &lt;Urho3D/UI/Text.h&gt;</li>
<li>#include &lt;Urho3D/UI/UI.h&gt;</li>
<li>
</li>
<li>#include "HelloWorld.h"</li>
<li>
</li>
<li>#include &lt;Urho3D/DebugNew.h&gt;</li>
<li>
</li>
<li>// Expands to this example's entry-point</li>
<li class="selected">URHO3D_DEFINE_APPLICATION_MAIN(HelloWorld)</li>
<li>
</li>
<li>HelloWorld::HelloWorld(Context* context) :</li>
<li>Sample(context)</li>
<li>{</li>
<li>}</li>
<li>
</li>
<li>void HelloWorld::Start()</li>
<li>{</li>
<li>// Execute base class startup</li>
<li>Sample::Start();</li>
</ol></code></pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</p>
<p>From there you can manage updates through the event system as shown in that example (update event).<br/>
<aside class="onebox whitelistedgeneric">
<header class="source">
<a href="https://urho3d.github.io/documentation/1.6/_events.html" rel="nofollow noopener" target="_blank">Urho3D</a>
</header>
<article class="onebox-body">
<h3><a href="https://urho3d.github.io/documentation/1.6/_events.html" rel="nofollow noopener" target="_blank">Events</a></h3>
<p>Urho3D is a free lightweight, cross-platform 2D and 3D game engine implemented in C++ and released under the MIT license. Greatly inspired by OGRE and Horde3D.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</p>
<p>I hope that helps you get started, and good luck!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>Extending <span class="mention">@Victor</span> 's answer, the macro comes from here <a  rel="nofollow noopener">https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Core/Main.h</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1404_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">LiamM32</div>
          <div class="post_content">
<p>I used the inline refactoring in Netbeans, so now I can somewhat tell what’s happening.  Do the member functions of the class that I entered all need to be named a certain way.</p>
<p>I notice that the example on <a  rel="nofollow noopener">this page</a> is written very differently from the included Urho3D samples.  No header, just one file.  Is this example outdated?<br/>
Just for test purposes, I tried to compile that example in Code::Blocks, but it complains that it could not find <em>&lt;SDL/SDL_gamecontroller.h&gt;</em> which is included from <em>Urho3D/Input/InputEvents.h</em>.  I only have the SDL2 version of that header on my system.<br/>
EDIT: It appears that Urho comes with SDL_gamecontroller.h, which the samples are linking to.  Maybe I need to recompile Urho to have them installed on my system.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/92_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">DrAlta</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="17" data-topic="3373" data-username="LiamM32">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/cba11803c55b3ed4fd8f5e91a9a28ba9.png" width="20"/><a href="https://discourse.urho3d.io/t/being-inexperienced-what-should-i-do-to-get-ready-to-use-urho3d/3373/17">Being inexperienced, what should I do to get ready to use Urho3D</a>
</div>
<blockquote>
<p><span class="mention">@DrAlta</span> So, do you think that you will help out with the engine remake?<br/>
You can talk about it on the thread that I linked to.</p>
</blockquote>
</aside>
<p>Sure I’ll help but I’m new to c++, I’m a Perl5 man myself.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1404_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">LiamM32</div>
          <div class="post_content">
<p>So I guess that you haven’t started you’re own project in Urho yet, have you?<br/>
Do you understand Urho and C/C++ enough to write the main file?  Since this is what the rest of the project is built on-top of, it would be nice if there’s someone that can do it right.</p>
<p>I’m struggling to get a simple project working.  But remaking the engine for Lips of Suna appears to be too much for me.  Even if I went through the ridiculous amount of effort it would take, I’ll probably end-up doing it badly.  That’s why I’m hoping that someone else volunteers to do the beginning part, which includes the main file.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/92_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">DrAlta</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="6" data-topic="3396" data-username="LiamM32">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/cba11803c55b3ed4fd8f5e91a9a28ba9.png" width="20"/> LiamM32:</div>
<blockquote>
<p>So I guess that you haven’t started you’re own project in Urho yet, have you?</p>
</blockquote>
</aside>
<p>No. I haven’t done much with Urho other than look at the documentation. But it’s the only Open Source game engine that has software rasterized occlusion culling built in I could find.</p>
<aside class="quote no-group" data-full="true" data-post="6" data-topic="3396" data-username="LiamM32">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/cba11803c55b3ed4fd8f5e91a9a28ba9.png" width="20"/> LiamM32:</div>
<blockquote>
<p>Do you understand Urho and C/C++ enough to write the main file?</p>
</blockquote>
</aside>
<p>No I don’t know how to write a main file for Urho.<br/>
Since this is what the rest of the project is built on-top of, it would be nice if there’s someone that can do it right.</p>
<aside class="quote no-group" data-full="true" data-post="6" data-topic="3396" data-username="LiamM32">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/cba11803c55b3ed4fd8f5e91a9a28ba9.png" width="20"/> LiamM32:</div>
<blockquote>
<p>But remaking the engine for Lips of Suna appears to be too much for me.  Even if I went through the ridiculous amount of effort it would take, I’ll probably end-up doing it badly.</p>
</blockquote>
</aside>
<p>“good decisions come from experience, and experience comes from bad decisions”<br/>
Don’t expect to get it all right at first, Plan on rewriting it as you learn what you are doing.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/788_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">johnnycable</div>
          <div class="post_content">
<p>Yes, that example is for urho 1.5. Anyway it works ok on 1.6 on my os X; you probably had some library build problem…<br/>
I’ve tried to waf compile etc, but it stops asking for bullet. I did a git clone  --recursive, so I was expecting it to download the external libraries too, and compile directly…<br/>
?</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>