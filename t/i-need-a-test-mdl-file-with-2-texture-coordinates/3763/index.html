<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>I need a test .mdl file with 2 Texture Coordinates</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">I need a test .mdl file with 2 Texture Coordinates</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I have not been able to get my lightmapping material to work I suspect that AssetImporter may be destroying the 2nd uv set would someone mind uploading a .mdl file that they know has 2 texture coordinates.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2369_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Dave82</div>
          <div class="post_content">
<p>Just tell me what you exactly need and i will create it for you,A plane floor with few boxes on it is enough ?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>That’s fine or just a plane, that’s what I’m doing now. The lightmap should show but nothing. So I need to test if Asset Importer is messing up the mesh.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/55_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">rasteron</div>
          <div class="post_content">
<p>For lightmaps or 2nd UV, you should try Blender exporter. Here’s a sample blender file link ready for export:</p>
<aside class="onebox whitelistedgeneric">
<header class="source">
<img class="site-icon" height="32" src="../../../images2/23d10de12650f96afe14b3b2bc894bfc.ico" width="32"/>
<a href="https://discourse.urho3d.io/t/blender-simple-lightmap-export/3065" rel="nofollow noopener" target="_blank">Urho3D</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/356;"><img class="thumbnail" src="//discourse.urho3d.io/uploads/urho3d/optimized/1X/f43f02b094c5c3c075ceda567bc0a79d7d559674_1_690x356.png"/></div>
<h3><a href="https://discourse.urho3d.io/t/blender-simple-lightmap-export/3065" rel="nofollow noopener" target="_blank">Blender Simple Lightmap Export</a></h3>
<p>This is a simple and basic lightmapped object and blender file that I gathered up quickly for export using reattiva's exporter. I have used 2 materials and textures from the Data/Textures folder and generated a single lightmap. You can just ignore...</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>People telling users to use Blender makes no sense to me. 3ds max and Maya are much better and more well known. I have many years experience with 3ds max I’m not switching to blender just to export a mesh. Even Irrlicht supported common formats. This is what happens when you insist on using a custom model format and reinvent the wheel.</p>
<p>I’m just trying to make sure Asset Importer is not causing the issue here. So far I ran into some animation issues and fixed them when using Asset Importer I will be posting a tutorial for 3ds max users soon.</p>
<p>I just need a .mdl file that has both UV coordinates for me to test with it does not matter what you guys exported it with.<br/>
Maybe a  lightmap material file also so I can make sure my material file is correct as I did not see any examples on the forums with any material files.</p>
<p>Thanks</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/998_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">stark7</div>
          <div class="post_content">
<aside class="quote no-group" data-post="5" data-topic="3763" data-username="GodMan">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ec6d74ff2472bced6f12da93c20c296f.png" width="20"/> GodMan:</div>
<blockquote>
<p>3ds max and Maya are much better and more well known. I have many years experience with 3ds max I’m not switching to blender just to export a mesh.</p>
</blockquote>
</aside>
<p>It will be worth it if you added blender under your belt.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2369_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Dave82</div>
          <div class="post_content">
<p>Well i have some bad news…It seems that AssetImporter just doesn’t like meshes with 2 uv’s… I tried .x , 3ds , fbx and even ogre mesh format but Assimp just ignores the 2nd uv set.l.I’m affraid i can’t help you until i write a direct mdl exporter for 3ds max.</p>
<p>The weird thing i was able to export x with 2 uv sets and convert it to mdl.The lightmapped model in the post below is a panda .x file converted to mdl using Assimp and it worked perfectly before (3ds max 9 with Urho 1.4)</p><aside class="quote quote-modified" data-post="9" data-topic="1073">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/39fd1aeff01d89e7279fa956666af00e.png" width="20"/>
<a href="https://discourse.urho3d.io/t/problems-with-lightmaps-dynamic-lights/1073/9">Problems with Lightmaps + dynamic lights</a> <a class="badge-wrapper bullet" href="/c/discussions/general-discussion/9"><span class="badge-category-parent-bg" style="background-color: #25AAE2;"></span><span class="badge-category-bg" style="background-color: #652D90;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="General discussion around Urho3D.">General Discussion</span></a>
</div>
<blockquote>
    no that’s my custom format (i wrote a whole scene exporter long ago for irrlicht) and i wrote an importer for Urho. Its in .mod format so Urho can’t load them by default 
[quote]I did a quick test with a junk lightmap I threw together in 30 seconds, it looks like everything is fine in the shaders out of the box. 
Have you tried adjusting the “Brightness Multiplier” of the light. Something like 0.1.[/quote] 
Hm i just did a test too in the urho editor.I imported a lightmapped mesh added a cube a…
  </blockquote>
</aside>
<p>EDIT :<br/>
I can confirm that even if i use my lightmapped models (my own format) and export them to *obj the second UV map is lost.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I’ve downloaded 1.4 and built everything. I might try to convert my static models to .mdl format using 1.4 and see if this works.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p><span class="mention">@Dave82</span>, I’m using 1.7 release and have 2nd uv working. I’d like to get others to also verify that works.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="7" data-topic="3763" data-username="Dave82">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/39fd1aeff01d89e7279fa956666af00e.png" width="20"/> Dave82:</div>
<blockquote>
<p>I tried .x , 3ds , fbx and even ogre mesh format but Assimp just ignores the 2nd uv set</p>
</blockquote>
</aside>
<p>Please report an issue on GitHub tracker and attach model to test.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p><span class="mention">@Lumak</span> Are you exporting with 3ds max. If so I’ve exported the static mesh from 3ds max 2015 and convert it with Asset Importer to .mdl and everything is okay except when I try to use a lightmap on UV channel 2 the lightmap never shows so I assume that the conversion process in Asset Importer is messing with the 2nd UV channel. I reimported my original fbx file in max to double check it and everything was okay with the model.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>I’m using Maya LT 2016, and because of that I rely solely on assetimporter.</p>
<p>edit: I should mention that I work with .fbx files.<br/>
edit2: This might be more critical: choose export option to <strong>FBX 2013</strong></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I’ll try what you suggest.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I’d like to report that everything is working fine now. I tried what <span class="mention">@Lumak</span> said and changed my .fbx exporter in 3ds max to 2013 instead of 2014 and everything worked fine my lightmap showed up this time so thanks great suggestion.</p>
<p>Oddly though I got no errors in the output from AssetImporter when using the 2014 exporter.</p>
<p>Now I can go and try to add my directionl lightmap shader to urho3d that I made for Irrlicht 2 years ago.</p>
<p>Thanks for all the suggestions guys.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lumak</div>
          <div class="post_content">
<p>Glad it’s solved. I’m curious, did you use 1.7 release or 1.4?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2369_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Dave82</div>
          <div class="post_content">
<p><span class="mention">@Eugene</span> It won’t be necessary since i’m still using 1.5</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I’m using 1.7 but not the github master source I could not build the download from github so I downloaded the 1.7 zip from the website and everything built fine.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>