<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Blender 2.8-Exporter with additonal features(e.g. urho3d-materialnodes and components)</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Blender 2.8-Exporter with additonal features(e.g. urho3d-materialnodes and components)</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Hi there,<br/>
I’m working on and off on the blender exporter, also it is uptodate to work on latest blender 2.8.</p>
<p>The new features are:</p>
<ul>
<li>live preview as blender render engine</li>
<li>userdata/tag-creation</li>
<li>lod-creation more comfortable using its own panel</li>
<li>exporting collection and using them as instance (also linking is possible if doing it the right way)</li>
<li>parenting to empties</li>
<li>starting a runtime from within blender</li>
<li>using a special runtime, which will create a json-file representing all exported components (e.g. all logiccomponents) and all materials/techniques/textures to be used in component- and material-trees.</li>
<li>using multiple logicnodes per object</li>
</ul>
<p>Download: <a href="https://github.com/dertom95/Urho3D-Blender/releases" rel="noopener nofollow ugc">https://github.com/dertom95/Urho3D-Blender/releases</a></p>
<p><strong>Info:</strong> For some features to work you need to have some minor components registered in your project. (Those are included in the urho3d-minimal-new-project): <a href="https://github.com/dertom95/urho3d-minimal-new-project/tree/master/src/Components" rel="noopener nofollow ugc">GroupInstance and RotationFix</a></p>
<p>Links:</p>
<ul>
<li><a href="https://discourse.urho3d.io/t/dev-workflow-urho3d-blender-used-in-ggj2020/5883">How I used the exporter in my GGJ’20-Game</a></li>
</ul>
<p>Videos:</p>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=o-1RMIwQZMY" rel="noopener nofollow ugc">Installation / Getting Started (Updated 2020/07/10)</a> (from tag 0.2 onwards you can install the releases like any other blender addon)</li>
<li><a href="https://www.youtube.com/watch?v=VtZk6FipkdU" rel="noopener nofollow ugc">Exporter Options</a></li>
<li><a href="https://www.youtube.com/watch?v=utLNqfxZ_KE" rel="noopener nofollow ugc">runtime and material-nodes</a></li>
<li><a href="https://www.youtube.com/watch?v=13jslwWhUSk" rel="noopener nofollow ugc">materialnodes and textures</a></li>
<li><a href="https://www.youtube.com/watch?v=Ni3nD5687aQ" rel="noopener nofollow ugc">component nodes </a></li>
<li><a href="https://www.youtube.com/watch?v=B37ZTa7mbpE" rel="noopener nofollow ugc">custom component workflow</a></li>
<li><a href="https://www.youtube.com/watch?v=Ut0HJYpvuFc" rel="noopener nofollow ugc">Collection Instances</a></li>
<li><a href="https://www.youtube.com/watch?v=h2NS348L8X0" rel="noopener nofollow ugc">Armature Animation</a></li>
</ul>
<p>Repos:<br/>
Blender-Urho3D-Addon: <a href="https://github.com/dertom95/Urho3D-Blender.git" rel="noopener nofollow ugc">https://github.com/dertom95/Urho3D-Blender.git</a><br/>
Blender-JSON-Nodes: <a href="https://github.com/dertom95/addon_jsonnodetree" rel="noopener nofollow ugc">https://github.com/dertom95/addon_jsonnodetree</a><br/>
Urho3D-Blender-Runtime: <a href="https://github.com/dertom95/urho3d-blender-runtime" rel="noopener nofollow ugc">https://github.com/dertom95/urho3d-blender-runtime</a></p>
<p>urho3d-minimal-new-project: <a href="https://github.com/dertom95/urho3d-minimal-new-project" rel="noopener nofollow ugc">https://github.com/dertom95/urho3d-minimal-new-project</a></p>
<p>Changelog:<br/>
v0.8.1:</p>
<ul>
<li>blender-python: if pip is not installed, do so before installing pyzmq ( installation might take some time )</li>
<li>stability, not so much crashes anymore</li>
<li>material’s texture-category entries are fixed now. Before adding new folders in could lead to problems with reassigning the right image</li>
<li>choose kind of export on save-types (scene with geometry,scene without geometry,material only)</li>
<li>pack whole export path into one urho3d-pak-file</li>
<li>export urho3d builtin components (none,lite(some subset),all). Those can be assigned via the ‘urho3d-components’-nodetree (not all attributes are exposed,yet)</li>
<li>added urho3d-tab in 3d-view with components:
<ul>
<li>urho3d-scene:
<ul>
<li>select RenderPath ( those are all renderpaths available in the resource-cache of the exportPath)</li>
<li>create default zone with optional cubemap.</li>
<li>create SkyBox (For this the urho3d Sphere.mdl is integrated into the runtime’s data-folder. So you need to be sure to copy the Sphere.mdl as SkyboxSphere.mdl into your resourcepath)</li>
</ul>
</li>
<li>urho3d-materials,components and userdata-assignment (nothing new here, just reused for this panel)</li>
</ul>
</li>
<li>lights now have a “Use Physical Values”-Option ( for more custom behaviour you can create a component-nodetree with a lightnode and assign this to the light)</li>
</ul>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/646_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">QBkGames</div>
          <div class="post_content">
<p>Using Blender as a level editor combined with an appropriate exporter could be a good alternative to creating a level editor from ground up.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/788_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">johnnycable</div>
          <div class="post_content">
<aside class="quote no-group" data-post="1" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4066e49439adaebc8e20a6a1b2981136.png" width="20"/> dertom:</div>
<blockquote>
<p>using a special runtime, which will create a json-file representing all exported components (e.g. all logiccomponents) and all materials/techniques/textures to be used in component- and material-trees.</p>
</blockquote>
</aside>
<p>Absolute best thing would be to mantain an instance of Blender open for level editing, and an instance or Urho running in parallel to see changes, both exchanging data, sort of networking-like but in place, by simply reading project data…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1929_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">guk_alex</div>
          <div class="post_content">
<p>If Blender plugin could have Urho3D instance inside - it can send corresponding updates like in client-server example, also that networking component could be removed if we already have Urho’s viewport inside blender - but both of that features require major integration work to be done.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Interesting work! You may want add a link to your repo in the top post.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="2" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/f09ee0d63f52dbe9771442275c7e6c15.png" width="20"/> QBkGames:</div>
<blockquote>
<p>Using Blender as a level editor combined with an appropriate exporter could be a good alternative to creating a level editor from ground up.</p>
</blockquote>
</aside>
<p>Yes, I’m a blender guy and always liked its handling and always wanted it to be my scene-editor. At the very beginning I added a shortcut for opening the Urho3d-Editor from within the runtime, which worked but crashed, once you select a component <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> (Didn’t know it wasn’t my fault and I kicked it out again).<br/>
Still I think both approaches(using an editor or a ‘fat’-exporter) have its advantages…</p>
<aside class="quote no-group" data-post="3" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/b172fc48f4b6208a4519e86c27afb791.png" width="20"/> johnnycable:</div>
<blockquote>
<p>Absolute best thing would be to mantain an instance of Blender open for level editing, and an instance or Urho running in parallel to see changes, both exchanging data, sort of networking-like but in place, by simply reading project data…</p>
</blockquote>
</aside>
<p>Yes, this is actually the plan. Having the runtime open to send the blender-instance component/materials/node-changes and the current render and blender sending its viewport position.</p>
<p>Something like this: <a href="https://github.com/Kupoman/BlenderRealtimeEngineAddon" rel="nofollow noopener">https://github.com/Kupoman/BlenderRealtimeEngineAddon</a><br/>
Never really could make it run…</p>
<aside class="quote no-group" data-full="true" data-post="4" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/16e1b50d8de20a70b46956f4d20fb0fa.png" width="20"/> guk_alex:</div>
<blockquote>
<p>If Blender plugin could have Urho3D instance inside - it can send corresponding updates like in client-server example, also that networking component could be removed if we already have Urho’s viewport inside blender - but both of that features require major integration work to be done.</p>
</blockquote>
</aside>
<p>Yeah,…I actually thought so as well at the beginning. Blender 2.8 seems to have a better api for implementing custom render-engines, but I guess this would be overkill, and since I want my own components to be part of the engine, I would have to compile all of it everytime I change my components. (Well ok, you could think of shared-libs and hot-reloading, but I’m not skilled enough for fancy stuff like that <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> )</p>
<aside class="quote no-group" data-full="true" data-post="5" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/cc02e9a74eb373846c1bf6c3d6390d75.png" width="20"/> Modanung:</div>
<blockquote>
<p>Interesting work! You may want add a link to your repo in the top post.</p>
</blockquote>
</aside>
<p>Indeed <img alt=":+1:" class="emoji" src="../../../images2/44789f9390639d4847fd0de0a6ae5879.png" title=":+1:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Additionally a name change for this project may provide more clarity concerning it’s features. It would also set it apart from the exporter [sec]. It seems more like an <em>integration</em> instead of just an <em>exporter</em>?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/788_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">johnnycable</div>
          <div class="post_content">
<aside class="quote no-group" data-post="6" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4066e49439adaebc8e20a6a1b2981136.png" width="20"/> dertom:</div>
<blockquote>
<p>Yeah,…I actually thought so as well at the beginning. Blender 2.8 seems to have a better api for implementing custom render-engines, but I guess this would be overkill, and since I want my own components to be part of the engine, I would have to compile all of it everytime I change my components.</p>
</blockquote>
</aside>
<p>Agree. It’s complicated and overkill. Moreover, it’s not the way you would use Urho in a real setup, so no need.<br/>
And in the end you’ll end up with something like <a href="https://armory3d.org/" rel="nofollow noopener">armory</a> for Blender…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Ok, party people. I created some new videos (see first post). Still a bit confused ones but you will get used to it <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/></p>
<aside class="quote no-group" data-full="true" data-post="7" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/cc02e9a74eb373846c1bf6c3d6390d75.png" width="20"/> Modanung:</div>
<blockquote>
<p>Additionally a name change for this project may provide more clarity concerning it’s features. It would also set it apart from the exporter [sec]. It seems more like an <em>integration</em> instead of just an <em>exporter</em> ?</p>
</blockquote>
</aside>
<p>Hmm,…I actually always had in mind to do a pull request once the bugs are found and resolved…making it a project of my own, would feel like a ripoff, not?</p>
<aside class="quote no-group" data-post="8" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/b172fc48f4b6208a4519e86c27afb791.png" width="20"/> johnnycable:</div>
<blockquote>
<p>Agree. It’s complicated and overkill. Moreover, it’s not the way you would use Urho in a real setup, so no need.<br/>
And in the end you’ll end up with something like <a href="https://armory3d.org/" rel="nofollow noopener">armory </a> for Blender…</p>
</blockquote>
</aside>
<p>Yeah, we will see where it ends. But if it turns out to be like amory but with urho3d as background, would be nice as well. <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-post="9" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4066e49439adaebc8e20a6a1b2981136.png" width="20"/> dertom:</div>
<blockquote>
<p>Hmm,…I actually always had in mind to do a pull request once the bugs are found and resolved…making it a project of my own, would feel like a ripoff, not?</p>
</blockquote>
</aside>
<p>The license allows for it, and there’s nothing stopping you from thanking the main repo man. I don’t mean to chase you away from <span class="mention">@reattiva</span>’s project, at first glance it just seemed to me like you were going your own way somewhat with all the extra features. But maybe it’s all welcome, I have only briefly looked into your efforts.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/821_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">WangKai</div>
          <div class="post_content">
<p>Very interesting projects. I’m still watching the videos, however, documents and pictures explaining the ideas behind the projects would be better for us to know.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/821_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">WangKai</div>
          <div class="post_content">
<p>Hi <span class="mention">@dertom</span></p>
<p>I’ve watched all the videos on YouTube. I can see that you have spend a lot of time recording the videos. However, it is better if you could introduce your idea as words and images so people can get some of it better before digging into the videos.</p>
<p>The projects are impressive. We used to have similar plugins for 3ds max but call the “runtime” as “previewer”. e.g. We used to extend 3ds max’s particle system and use it as the particle editor for the game which has a similar logic for particles. In order to see the effect of the editing, we developed the previewer and export the config every time and spawn the particle in it.</p>
<p>I think it would be better if your Blender addon can live update/hot reload the changes so that the iteration can be much faster though there are challenges to design and implement to achieve this.</p>
<p>Additionally, I wonder if there is some way to map Urho’s shader and material to Blender’s so that we can see the image in Blender even before the previewer’s. (There is no default Blinn-Phong in Blender and Urho’s PBR is not complete.) Other aspects of the scene would be also the same if they have according representations in the Blender.</p>
<p>Generally, there are two ways of editing scenes. One of use the DCC tools (Maya/3ds max/Blender), the other is use scene editor (Unity/Unreal Engine/CryEngine…). I’m also very interested in this topic and have been thinking about the workflow of combining Blender and Urho3D a lot. There is also very good GDC session - <a href="https://www.youtube.com/watch?v=KRJkBxKv1VM&amp;t=168s" rel="nofollow noopener">https://www.youtube.com/watch?v=KRJkBxKv1VM&amp;t=168s</a></p>
<p>Again, nice topic and work.<img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<aside class="quote no-group" data-post="12" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8d788b223c509beebfc362364798c6b3.png" width="20"/> WangKai:</div>
<blockquote>
<p>I’ve watched all the videos on YouTube. I can see that you have spend a lot of time recording the videos. However, it is better if you could introduce your idea as words and images so people can get some of it better before digging into the videos.</p>
</blockquote>
</aside>
<p>Well,…I understand that. But writing this down would have taken too much time, As a matter of fact lots of things will be changes sooner or later and I guess I’m not writing down anything until it the final workflow gets obvious…</p>
<aside class="quote no-group" data-post="12" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8d788b223c509beebfc362364798c6b3.png" width="20"/> WangKai:</div>
<blockquote>
<p>I think it would be better if your Blender addon can live update/hot reload the changes so that the iteration can be much faster though there are challenges to design and implement to achieve this.</p>
</blockquote>
</aside>
<p>It acutally does every time to export the scene, it gets hot reloaded</p>
<aside class="quote no-group" data-post="12" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8d788b223c509beebfc362364798c6b3.png" width="20"/> WangKai:</div>
<blockquote>
<p>Additionally, I wonder if there is some way to map Urho’s shader and material to Blender’s so that we can see the image in Blender even before the previewer’s. (There is no default Blinn-Phong in Blender and Urho’s PBR is not complete.) Other aspects of the scene would be also the same if they have according representations in the Blender.</p>
</blockquote>
</aside>
<p>I actually gave it a try this weekend to create the corresponding urho-render of the blender’s viewport and map it via blender’s custom renderengine as a background. Actually it mostly works, <strong>BUT</strong> I don’t get the blender right-handed viewport matrix properly converted to urho3d’s lefthand one. I’m not so much in this kind of low level matrix calculation <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> It works at certain angles with my “naive” approach <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> This will be work in progress but I want this to happen. Atm it looks like this when the view-maps more or less:<br/>
<div class="lightbox-wrapper"><a class="lightbox"  rel="nofollow noopener" title="image.jpg"><img alt="image" data-base62-sha1="tBK4QyPJhESlKdIHVbyu6dpWyFO"  height="411" src="../../../images2/e3704bfda287c6c7ca846356659447d7.jpeg"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">image.jpg</span><span class="informations">1920×1144 487 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Not sure when I find time to work on it again…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>That’s really cool that you got Urho Render into Blender! And simply awesome work in general - albeit not production ready - I wonder how long until the Blender Game Engine gets replaced by Urho3D entirely. <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/><br/>
I don’t know if any of you have experience with the BGE, but in my opinion it could use a replacement.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Well I guess as of blender 2.8 BGE is offically out of business. There is a fork of it. <a href="https://upbge.org/" rel="nofollow noopener">UPBGE</a>. I was never really interested into BGE due to its gpl-licenses but was part of the <a href="https://github.com/gamekit-developers/gamekit/wiki/Blender-Addon" rel="nofollow noopener">gamekit-project</a> some years ago, which had a tight blender integration. It was actually a cool project but died…I always thought to put it on top of urho3d as it was designed as a middleware…but urho3d is so good in itself, it would be a waste to put some abstraction on top of it…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Ah, I was unaware they dropped it… but license aside, I think the logic node system was bad enough to help beginning game developers over their fear of coding but then the scripting API was equally uninviting. Whenever I saw anything made with BGE that looked like an actual game I was amazed at the patience of their creators and not so much the creations themselves. With BGE gone you might be able to inspire members of the Blender community to assist in your add-on’s development.<br/>
My earlier notion has been confirmed after watching some more of your videos that what you are working on is more than (what I would call) an exporter. Rather this looks like the <em>Urho3D-Runtime Add-on</em> to me.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Ok,…I took some work (motivated by <span class="mention">@jmiller</span> )  to revive multi-material meshes…first tests seem(!) to work:<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="nofollow noopener" title="image.jpg"><img alt="image" data-base62-sha1="xr1L4eBIPjbfPAe0s3xyG9ayGxx"  height="431" src="../../../images2/9881718206cd6c08362f1cd62069eca8.jpeg"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">image.jpg</span><span class="informations">1920×1200 509 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Just for info, all that is exported is vanilla urho3d-scenes (only if using collection-instances or bone-parenting you need two helper components) and materials<br/>
Have fun and nice weekend, Tom</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p><span class="mention">@reattiva</span> Have you seen this?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Still working on this on and off.<br/>
One new feature is ‘filters for textures and techniques’ and now I finally have a very very first draft of the urho3d-blender-renderer. I connected it via network to blender which tells the runtime/renderer that the viewport has changed, which will send the image via network to blender which will render it. Took me some time for the blender’s view-matrix to work. I burnt lots of hours just because the texture on the blender-side was flipped <img alt=":smiley:" class="emoji" src="../../../images2/94dd27e9c6c243335d29229e02e34e9d.png" title=":smiley:"/> Nontheless the result is a good first start. <s>There is still some offset between the blender-world and the urho3d-render…</s>(EDIT: Got it right now. I calculate the fov on the blender side and send it along with screensize-changes)<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="nofollow noopener" title="firstdraft_urho3d-blender-renderer.jpg"><img alt="firstdraft_urho3d-blender-renderer" data-base62-sha1="rWoRYGBjS7IpfZEXnL9uyDTMBah"  height="411" src="../../../images2/e20b4fcf987e266921217668ee3590a1.jpeg"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">firstdraft_urho3d-blender-renderer.jpg</span><span class="informations">1920×1144 946 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>And here a little <a href="https://www.youtube.com/watch?v=N307c6mmKJo&amp;feature=youtu.be" rel="nofollow noopener">screen-cast</a> to see it in action.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2396_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">suppagam</div>
          <div class="post_content">
<p>The JSON thing is awesome! You made my workflow so much better. Thank you! Do you have a donation page somewhere?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Oh thx, <span class="mention">@suppagam</span>. I have no donation-page. The knowledge someone is actually using it at all is payment enough. <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/>  Everything is still very manual. But now with the my network-layer setup, I can automate much more</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/646_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">QBkGames</div>
          <div class="post_content">
<p>I’m having a problem exporting meshes that have multiple (similar) materials from Blender 2.8 (official release version), they come in Urho as a single combined material.</p>
<p>I don’t think it’s a problem specific to the exporter, as I get the same issue if I export FBX and use Asset Importer tool. I think it might be a new way Blender manages materials for a mesh!?</p>
<p>Does anyone else have this problem? Is there a work around?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p><span class="mention">@QBkGames</span>:  If you give me a sample-blend that I can use a template for this problem I will have a look…(obviously I only test for my exporter)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/646_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">QBkGames</div>
          <div class="post_content">
<p>Check out this sample blender file:<br/>
<a class="onebox" href="http://www.qbkgames.com/Dev/Issues/ShrineTest.zip" rel="nofollow noopener" target="_blank">www.qbkgames.com/Dev/Issues/ShrineTest.zip</a></p>
<p>The “Shrine” mesh has 2 materials in Blender but when exported to Urho it comes over as a single combined material (in the past versions it used to come over as 2 separate materials, which is what I need). The materials are both based on vertex color painted over the mesh and there are no texture. When you export the mesh use these flags for the Geometry options: Position, Normal and Color (no UVs or anything else).</p>
<p>Thanks for your assistance.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Hmm,…ok. I guess you are using the normal exporter(2.8 branch). Just looked into that code and I doubt that you should expect materials export to work properly. Still I’m unsure why only one material is created, I would have expected both to be generated but looking the same, as I don’t think that the emission value is detected as it is “hidden” in a cycles node which is not processed by this exporter…what is the filename of the material that is created and what is the content?</p>
<p>sry. can’t do more.</p>
<p>Btw, what technique would you have expected for your glow-material? Can’t find any NoTextureVCol<strong>Emissive</strong> alike-techique.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-post="25" data-topic="5240">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4066e49439adaebc8e20a6a1b2981136.png" width="20"/> dertom:</div>
<blockquote>
<p>Can’t find any NoTextureVCol <strong>Emissive</strong> alike-techique.</p>
</blockquote>
</aside>
<p>There <em>is</em> <code>NoTexture</code><strong><code>Unlit</code></strong><code>VCol</code>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/646_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">QBkGames</div>
          <div class="post_content">
<p>Just to clarify, I’m not interested in exporting the materials from Blender, I just need the mesh to have the correct number and order of materials, so I can assign them in code in Urho. In the case of the Shrine, I should have 2 materials to assign, but I only get 1.</p>
<p>The material created by exporter is, just a combined material:</p>
<blockquote>
<pre><code>&lt;component id="16777216" type="StaticModel"&gt;
    &lt;attribute name="Model" value="Model;Shrine.mdl"/&gt;
	&lt;attribute name="Material" value="Material;"/&gt;
&lt;/component&gt;
</code></pre>
</blockquote>
<p>And from FBX-&gt;AssetImporter is just get something called JoinedMaterial_<span class="hashtag">#1</span>.xml.</p>
<p>After playing around a bit more, I found that I can get the FBX exporter to work if I replace the materials with newly created Principled BSDF based materials, but the Urho exporter still only outputs a single material. I guess I can just use the FBX exporter for meshes with multiple materials, and the Urho exporter for meshes with single material, for now.<br/>
Thanks anyway for taking a look, maybe you can fix it later on when you have more time (if that day ever comes <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/> ).</p>
<p>BTY, I created a couple of custom techniques which are not part of Urho assets, to better suit the graphics style of my game, just a small variation of existing techniques, nothing fancy, but they do the job.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Update:<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="nofollow noopener" title="Screenshot at 2019-09-13 17-02-33.jpg"><img alt="Screenshot%20at%202019-09-13%2017-02-33" data-base62-sha1="umCQON1Y49Dhd1LeZkhL9815orG"  height="411" src="../../../images2/8064a8a61a76017b6ca614ed27634051.jpeg"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot at 2019-09-13 17-02-33.jpg</span><span class="informations">1920×1144 574 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Outline mapping to Urho3d-Render matches (that was a hard fight)<br/>
Multiple renderviews possible, multiple splits, textures hot reloaded to use in materials, mesh with multiplematerials (Obvisouly everything wip,experimental,proof of concept,you name it <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> )</p>
<p>Communication between blender and the runtime is done with pyzmq(zeromq), which needs to be installed via pip in blender’s python.</p>
<p>For people wanting to test the current state I created a <a href="https://github.com/dertom95/Urho3D-Blender/releases/download/custom-renderer-preview/urho3d-blender.zip" rel="nofollow noopener">zip</a> with everything needed inside and wrote an <a href="https://github.com/dertom95/Urho3D-Blender/wiki" rel="nofollow noopener">wiki-page how to install and use it.</a> Maybe later I will create a small video…no time left.</p>
<p>Here are the instructions. Questions welcome! <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Ok, I just created a new video how to setup this exporter with the live-previewing the urho3d-scene inside blender. Have a look here:</p>
<div class="onebox lazyYT lazyYT-container" data-parameters="feature=oembed&amp;wmode=opaque" data-youtube-id="vyP0dXvh9Aw" data-youtube-title="01 - Urho3D-Blender-Addon (UPDATED) Getting-Started(with live-preview and urho3d...">
<a href="https://www.youtube.com/watch?v=vyP0dXvh9Aw" rel="nofollow noopener" target="_blank">
<img class="ytp-thumbnail-image" height="360" src="../../../images2/8f611f824e1e14f40d33b8c61600c7d3.jpg" title="01 - Urho3D-Blender-Addon (UPDATED) Getting-Started(with live-preview and urho3d..." width="480"/>
</a>
</div>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">joe</div>
          <div class="post_content">
<p>So with your addon, is it like Armory where it treats Blender like a GUI game editor?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Yes, kind of. See it like a scene-editior. The game itself still needs to be created in c++ in which you can load the created scene. But I warn you, the workflow is not super-smooth and I don’t develop on it constantly.</p>
<p>But what you can do:</p>
<ol>
<li>Create Scenes, Create Urho3D-Materials(via nodetrees) and preview them in Viewport</li>
<li>If your application exports logic-components you can also export logic-components, load them and assign them to your blender-nodes. (If you know how to do this, some videos are (afaik) a bit outdated, because this is now a separate process. for a sample how to do this you can have a look at my <a href="https://github.com/dertom95/urho3d-minimal-new-project" rel="nofollow noopener">minimal-project</a> that already exposes some, every time you start you game): <a href="https://github.com/dertom95/urho3d-minimal-new-project/blob/master/src/StartupApplication.cpp#L111" rel="nofollow noopener">https://github.com/dertom95/urho3d-minimal-new-project/blob/master/src/StartupApplication.cpp#L111</a>
</li>
</ol>
<p>if using my startup-application every time you execute it, it generates a file ‘…-urho3d_components.json’ in the execution-folder. If you load this file as json-nodetree you can assign all exported(and registered) components)<br/>
<img alt="image" data-base62-sha1="iAX048tMbxEeYUixGSzEFAz0hFJ" height="387" src="../../../images2/07c690cc15a7fa090fee8fb3544d343e.jpeg" width="578"/><br/>
After loading you have this new blender-nodetree-type:<br/>
<img alt="image" data-base62-sha1="rse4sxxDEswrc31mtJ0fq6FsPVy" height="212" src="../../../images2/6c692a6ce01e41ee90f5e99402c1c8d4.png" width="422"/><br/>
(The blender runtime also exports some components. You can find the corresponding json-file along the runtime-executable)</p>
<p>if using my startup-application you can also toggle an ingame editor in/out. And if developing under linux you can also have some kind of (docker-based) one-click deployment (in theory <img alt=":wink:" class="emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/> ) by just writing:</p>
<pre><code class="lang-auto"># build: native(linux),mingw(win),android,arm,rpi and web
./tools/build_all.sh

# build windows/linux
./tools/build_win_lin.sh

# package them in zips. (you need to specify a name that will be used for the zip-files resulting in: [gamename]-[os].zip):
./tools/export_game.sh [gamename]
</code></pre>
<p>I have also automatic apk-signing for android…(follow the following link for more details about this)</p>
<p>(For more information also have a look here. Just saw that I was quite detailed about how I used this exporter in my GGJ20-Game: <a class="inline-onebox" href="https://discourse.urho3d.io/t/dev-workflow-urho3d-blender-used-in-ggj2020/5883">Dev-Workflow ( Urho3D &lt;-&gt; blender ) used in GGJ2020</a> )</p>
<p>ok, hope that helps a bit. cheers</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Just for info, I worked on the installation process. Before you had to install 3 addons (incl urho3d-blender) plus install pyzmq in blender’s and select the urho3d runtime (win / linux). Ok,…everything was available in the release-package but still…</p>
<p>Now I packed everything into one (the dependency-addons are included as submodules, the runtimes are installed with the plugin and the runtime-path is set automatically, pyzmq is installed automatically if not present).</p>
<p>So using the current <a href="https://github.com/dertom95/Urho3D-Blender/releases/tag/0.2" rel="noopener nofollow ugc">release</a> should(!) work out of the box… (runtime only for linux and windows)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">throwawayerino</div>
          <div class="post_content">
<p>The exporter is really finicky and confusing, but has saved me countless hours of manual work once I wrote down the steps. Thanks a lot!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/788_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">johnnycable</div>
          <div class="post_content">
<p>Thank you so much for this!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1669_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GoldenThumbs</div>
          <div class="post_content">
<p>What issues do you have with it?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Why bother throwing shade if you can’t back it up?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Idk who ‘gagged’ you, however it seems a bit hypocritical since you exercise your moderator gagging power quite a bit. The point is just saying blender 2.8 sucks adds nothing. Who cares if <em>you</em> don’t like it? Maybe someone else does. Very unconstructive &gt;_&lt;</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="grafik"><img alt="grafik" data-base62-sha1="lrNwoc5Fa3gMvcF1Vcqfc3afv2R"  height="377" src="../../../images2/207266a8799fbcc4462f9b9fe7280f1b.jpeg"  width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1050 239 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p><img alt=":wink:" class="emoji only-emoji" src="../../../images2/537e3e653d641df5b9858e75faf3862a.png" title=":wink:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">throwawayerino</div>
          <div class="post_content">
<p>Just figured out how to make the thing detect my textures, and realised how simple the workflow is. Woooooooooo!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Ok, I worked a bit more on the <a href="https://github.com/dertom95/Urho3D-Blender" rel="noopener nofollow ugc">urho3d-blender-addon</a>:<br/>
<a href="https://github.com/dertom95/Urho3D-Blender/releases/tag/v0.8.1" rel="noopener nofollow ugc">v0.8.1:</a></p>
<ul>
<li>blender-python: if pip is not installed, do so before installing pyzmq ( installation might take some time )</li>
<li>stability, not so much crashes anymore</li>
<li>material’s texture-category entries are fixed now. Before adding new folders in Textures could lead to problems with reassigning the right image</li>
<li>choose kind of export on save-types (scene with geometry,scene without geometry,material only)</li>
<li>autoexport (scene without geometry) on movement (super slow updating at the moment)</li>
<li>pack whole export path into one urho3d-pak-file</li>
<li>export urho3d builtin components (none,lite(some subset),all). Those can be assigned via the ‘urho3d-components’-nodetree (not all attributes are exposed,yet)</li>
<li>added urho3d-tab in 3d-view with components:
<ul>
<li>urho3d-scene:
<ul>
<li>select RenderPath ( those are all renderpaths available in the resource-cache of the exportPath)</li>
<li>create default zone with optional cubemap.</li>
<li>create SkyBox (For this the urho3d Sphere.mdl is integrated into the runtime’s data-folder. So you need to be sure to copy the Sphere.mdl as SkyboxSphere.mdl into your resourcepath)</li>
</ul>
</li>
<li>urho3d-materials,components and userdata-assignment (nothing new here, just reused for this panel)</li>
</ul>
</li>
<li>lights now have a “Use Physical Values”-Option ( for more custom behaviour you can create a component-nodetree with a lightnode and assign this to the light)</li>
</ul>
<p>Played a bit with PBR, still not sure about how everything works together and how to use the effects. I tried to integrate some too, but that does not work that well, yet.<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="1Ktu00NSyPWlSs98sGafcen20kC"  height="371" src="../../../images2/1c1be77e10dbaaf61ceafe1be361ba32.jpeg"  width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1920×1033 430 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">throwawayerino</div>
          <div class="post_content">
<p>I think I found a bug in the exporter. I’m on blender 2.91.0 and enabling morphs in the export panel doesn’t export shape keys with the mdl file (<code>AnimatedModel::GetNumMorphs()</code> gives out a zero). Going to the Object Data Properties panel and enabling morphs there give this error:</p>
<pre><code>\AppData\Roaming\Blender Foundation\Blender\2.91\scripts\addons\urho3d_blender\decompose.py", line 2297, in DecomposeMesh
    if len(shapeMesh.vertices) != len(mesh.vertices):
ReferenceError: StructRNA of type Mesh has been removed
</code></pre>
<p>An ugly workaround (for those searching) is downloading Blender 2.80.0 rc3 and throwing reattiva’s exporter on it. It does give an error about a newer version, but clicking export and exiting without saving shouldn’t do anything bad</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Yes, that might be right. I never really used morphs and I’m not sure if I converted it to 2.8 at all…I reattiva’s exported did the job <img alt=":+1:" class="emoji" src="../../../images2/44789f9390639d4847fd0de0a6ae5879.png" title=":+1:"/><br/>
Btw, for errors the issue-tracker on github in more suitable.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3181_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mcmordie</div>
          <div class="post_content">
<p>Thank you for this important work-- this tool promises to make amazing things possible!</p>
<p>Have been having some issues trying to get up and running with 0.82b on Blender 2.90.1. The addon seems to install fine (thanks for the tip about running as admin the first time).  Export delivers models, but materials / textures missing under the geometries checkbox?</p>
<p><img alt="image" data-base62-sha1="mgKqOhhF8kdoWisIs3mj6JrvwhR" height="362" src="../../../images2/2ce48b0bfde1c7bf52d08b358ed92996.png" width="640"/></p>
<p>Aso the runtime previewer comes up black every time and stays that way, despite the scene being viewable in the editor in that path (under AppData …)</p>
<p><img alt="image" data-base62-sha1="57dft7cRso43OOsUsJAEVlIEAfv" height="270" src="../../../images2/2fce164bee501bdb0854c42249ada779.png" width="443"/></p>
<p>Any tips for these issues?  Am I just using the wrong version of Blender for example, or am I doing something wrong?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3181_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mcmordie</div>
          <div class="post_content">
<p>Okay just to say I think I figured out why the runtime previewer is black-- it appears that the preview is now in the viewport under material preview.  Still not getting the materials export working, will go back over the tutorial videos.</p>
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="eXydCUKfB1R2z22gEvjPiTde6Tc"  height="409" src="../../../images2/64c10fed72c6efbb5c4f82651e314988.jpeg"  width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">image</span><span class="informations">945×561 50.5 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Are you creating urho3d materials?<br/>
If you have an Eevee material you can try (!) to use the experimental blender-&gt;urho3d-conversion.</p>
<ul>
<li>Check ‘unstable features’ bottom render-properties</li>
<li>go to urho3d-material-view</li>
<li>create new nodetree</li>
<li>select blender-material -&gt; convert-button</li>
<li>important: choose appropriate technique</li>
</ul>
<p>…but I guess it is best to create the urho-material from scratch…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3181_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">mcmordie</div>
          <div class="post_content">
<p>Being new to both Blender and Urho3D I was not sure what level of sorcery was included with this plugin <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/>.</p>
<p>I am using cycles Principled BDSF for most materials in Blender and on the Urho3D side I am using PBR shaders (I guess these will need to be with textures to capture at least the normals).  The confusing question mark for me is what the workflow is to go from one to the other-- I assume I need to bake textures in Blender first, but then how to export these textures so that they will work with the PBR materials Urho’s shaders support?  As this is a complex scene I will certainly try the experimental eevee -&gt; urho support if I can get from cycles to eevee (looks like material definition is the same for both?).</p>
<p>[edit] Just tried this experimental material conversion.  Looks amazing-- seems to capture textures as well.  Question: do I need to create a separate node tree for each material and if so, how to ensure that the association between each material and the meshes that it is applied to is maintained during export?  Also, is there a way to batch convert all Eevee materials?  It looks like it is working and will save considerable effort, but there are about 100 materials in this scene.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Yes,you need to create a material-nodetree for every blender-material. Then you need to assign the urho-material(s) to the object, which will ensure the material-assignment.</p>
<p>There is no batch-convertion at the moment…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2367_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jmiller</div>
          <div class="post_content">
<p>There is an incredibly useful addon included with Blender (but not enabled by default) that can copy almost any editable attribute like Materials or transform to all selected objects. May it save time somewhere.<br/>
<a href="https://docs.blender.org/manual/en/latest/addons/interface/copy_attributes.html">https://docs.blender.org/manual/en/latest/addons/interface/copy_attributes.html</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/450_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ChunFengTsin</div>
          <div class="post_content">
<p>When I install the add-on, blender show this error:</p>
<pre><code class="lang-auto">Traceback (most recent call last):
  File "/home/tsin/.config/blender/2.91/scripts/addons/urho3d_blender/__init__.py", line 46, in &lt;module&gt;
    from PIL import Image,ImageDraw
ModuleNotFoundError: No module named 'PIL'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/snap/blender/65/2.91/scripts/modules/addon_utils.py", line 351, in enable
    mod = __import__(module_name)
  File "/home/tsin/.config/blender/2.91/scripts/addons/urho3d_blender/__init__.py", line 50, in &lt;module&gt;
    subprocess.check_call([pybin, '-m', 'ensurepip'])
  File "/snap/blender/65/2.91/python/lib/python3.7/subprocess.py", line 363, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['/snap/blender/65/2.91/python/bin/python3.7m', '-m', 'ensurepip']' returned non-zero exit status 1.


</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>Seems that the automatic pip installation doesn’t work in this case. Not sure if that is connected to the snap-installation. You might need to install pip and PIL and pyzmq manually then.<br/>
You need to locate blender’s python-executable (the script thinks it is at ’ /snap/blender/65/2.91/python/bin/python3.7m’ can you check ) and run:</p>
<pre><code class="lang-auto">./python3.7m -m ensurepip 
./python3.7m -m pip install --upgrade pip
./python3.7m -m pip install pyzmq
./python3.7m -m pip install Pillow
</code></pre>
<p>EDIT: If you some reason ensure pip doesn’t work, have a look here: <a class="inline-onebox" href="https://pip.pypa.io/en/stable/installing/" rel="noopener nofollow ugc">Installation - pip documentation v21.0</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/450_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ChunFengTsin</div>
          <div class="post_content">
<p>thanks for reply！<br/>
I install the blender by snap under ubuntu, the folder “/snap” seems read-only.<br/>
Now I reinstall blender by download at the website, it now works well!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/450_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ChunFengTsin</div>
          <div class="post_content">
<p>Hi, a new error when I click “Start Runtime”, it say:  runtime exited anormally.<br/>
And a black window will launched. Some Ideas?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>This is actually not an error (I guess blender don’t like the way I start the runtime from within blender). This is just the engine that will render the Urho3d-stuff if in urho3d-renderengine using ‘Viewport Shading’.</p>
<p>ps: <em>I’m afk now. Maybe the videos can help you (not sure how outdated they are)</em></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/450_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ChunFengTsin</div>
          <div class="post_content">
<p>Thanks For The Great Job!</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>