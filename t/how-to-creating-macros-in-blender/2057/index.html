<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>How to: Creating macros in Blender</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">How to: Creating macros in Blender</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>I just found out how easy it is to create macros in Blender. Here’s how:</p>
<iframe allowfullscreen="" frameborder="0" height="360" sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation" seamless="seamless" src="https://player.vimeo.com/video/168983330" title="Blender macros, concise" width="640"></iframe>
<p>The python script below sorts the elements of all selected objects by material. This makes geometry indexes in Urho3D correspond with the object’s list of materials in Blender. Without macros this would be quite tedious and time-consuming work if you need to do it for many objects.</p>
<details>
<summary>
Python script for sorting elements of all selected objects by material</summary>
<pre><code class="lang-auto">import bpy
    
for ob in bpy.context.selected_objects:
    bpy.context.scene.objects.active = ob
    
    bpy.ops.object.mode_set(mode = 'EDIT')
    bpy.ops.mesh.select_all(action='SELECT')
    bpy.ops.mesh.sort_elements(type='MATERIAL', elements={'FACE'})
    bpy.ops.object.mode_set(mode = 'OBJECT')
</code></pre>
</details>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>