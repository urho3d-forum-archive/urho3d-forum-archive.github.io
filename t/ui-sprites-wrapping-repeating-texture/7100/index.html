<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>UI Sprites - Wrapping/Repeating Texture</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">UI Sprites - Wrapping/Repeating Texture</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lys0gen</div>
          <div class="post_content">
<p>Hello,</p>
<p>I am trying to symbolize the relationships between UI elements with some lines.</p>
<p>These lines might be rotated, which necessitates using Urho3D::Sprite elements. I create a Sprite element with the required line width and stretch the texture onto that.<br/>
For a “simple” (uniformly colored) line this works perfectly fine.</p>
<p>Now I want to display a different kind of relationship where there is transparency dividing the line continously.</p>
<p>But I just can’t get it to wrap the texture properly, instead it always stretches it. I have tried playing around with Sprite-&gt;GetTexture()-&gt;SetAddressMode(…) and setting U (and V) to Urho3D::TextureAddressMode::ADDRESS_WRAP but it is still stretched.</p>
<p>Here is a visualisation, the horizontal “line” is the problem:</p>
<p><div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="texwrap"><img alt="texwrap" data-base62-sha1="dlStmUSQpkIB1I5OepwxyR5KxVs"  height="500" src="../../../images2/33c20714a25443607a44dd7ca44b5544.png" width="266"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">texwrap</span><span class="informations">422×793 5.09 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>It was strange that the texture is just cut off without BLEND_ALPHA mode. Just like how the colors are somehow different from the actual texture, but both those things are not much of an issue.</p>
<p>But now I am kind of stuck with the stretched texture, and it should somehow be possible to get it to wrap properly?</p>
<p>The only relevant topic I had found is <a href="https://discourse.urho3d.io/t/how-to-make-the-texture-image-of-a-2d-sprite-repeat-to-fill-a-rectangle/3980">this</a> but that does refer to “regular” sprites, not UI sprites I guess.</p>
<p>Anyone know what the problem might be?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>I don’t do much with Urho’s UI, so this is just a guess, but I think the issue is that you need to get the UI to use UV coordinates larger than 0-1 for your repeating-line sprite. I think, though I’m not sure, that you might be able to get it to do that using <code>SetImageRect</code> with a rectangle larger than the size of the texture.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Lys0gen</div>
          <div class="post_content">
<p>Ah yes of course! That fixed it, thanks a ton.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>