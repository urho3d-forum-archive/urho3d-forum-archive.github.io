<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Editor questions</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Editor questions</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Serge</div>
          <div class="post_content">
<p>Hello everyone!</p>
<p>Editor eat 100% CPU, is it ok? How to avoid that?</p>
<p>PS Ubuntu 14.04, Blender 2.71</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jorbuedo</div>
          <div class="post_content">
<p>I think it’s normal.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Serge</div>
          <div class="post_content">
<aside class="quote no-group" data-username="jorbuedo">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/01b8c8e910434673e4ad4d1258dc475a.png" width="20"/> jorbuedo:</div>
<blockquote>
<p>I think it’s normal.</p>
</blockquote>
</aside>
<p>Disagree… Blender working with 3d model too and does not use CPU on 100%. It should be option something like maxCpu or something.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jorbuedo</div>
          <div class="post_content">
<p>I don’t think it’s ok, because it could use less. But I think it’s normal, because not only happens to you.</p>
<p>I was just clarifying that it’s not just you. Try to modify the code and limit it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Serge</div>
          <div class="post_content">
<p>[quote=“jorbuedo”]I don’t think it’s ok, because it could use less. But I think it’s normal, because not only happens to you.</p>
<p>I was just clarifying that it’s not just you. Try to modify the code and limit it.[/quote]</p>
<p>Thank you for your answer. Will know that I’m not along <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/> About modifying code - I’m noobie in C++ but will try.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jorbuedo</div>
          <div class="post_content">
<p>The code is in AngelScript, it’s a bit easier.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Serge</div>
          <div class="post_content">
<p>Thank you for answer, can you give me advice how to do it? And why not to make it default?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">lexx</div>
          <div class="post_content">
<p>As it uses Urho3DPlayer, check its parameters how it works.<br/>
Ie, enable vsync is  -v (add it in <a href="http://Editor.sh" rel="nofollow noopener">Editor.sh</a>), maybe it helps?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Serge</div>
          <div class="post_content">
<p>[quote=“lexx”]As it uses Urho3DPlayer, check its parameters how it works.<br/>
Ie, enable vsync is  -v (add it in <a href="http://Editor.sh" rel="nofollow noopener">Editor.sh</a>), maybe it helps?[/quote]</p>
<p>Just tried - no effect <img alt=":frowning:" class="emoji" src="../../../images2/2506cac83464f3f86e257fa414340d4c.png" title=":frowning:"/> 100% CPU used.<br/>
In Engine.cpp, in constructor, I set  SetMaxInactiveFps(10) and SetMaxFps(60), recompile library and now  Urho3DPlayer eat 95% CPU. Not much. If engine will be so hungry it will eat battery on IOS and Android and users will not play in my game <img alt=":frowning:" class="emoji" src="../../../images2/2506cac83464f3f86e257fa414340d4c.png" title=":frowning:"/> What else I can do? Any ideas?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/827_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">friesencr</div>
          <div class="post_content">
<p>Urho has a hierarchtical cpu profiler.  See what is eating the cpu.  The samples bind it to F2</p>
<p>GetSubsystem()-&gt;ToggleAll();</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Serge</div>
          <div class="post_content">
<p>Please open this image in new tab.</p>
<div class="spoiler">
<p><img alt="" height="" src="../../../images2/18692c6211019cf249784530bb7fdda0.png" width=""/></p>
</div>
<pre><code class="lang-auto">Engine::Engine(Context* context) :
    Object(context),
    timeStep_(0.0f),
    timeStepSmoothing_(2),
    minFps_(10),
    #if defined(ANDROID) || defined(IOS) || defined(RASPI)
    maxFps_(60),
    maxInactiveFps_(10),
    pauseMinimized_(true),
    #else
    maxFps_(30),
    maxInactiveFps_(10),
    pauseMinimized_(false),
    #endif
#ifdef URHO3D_TESTING
    timeOut_(0),
#endif
    autoExit_(true),
    initialized_(false),
    exiting_(false),
    headless_(false),
    audioPaused_(false)</code></pre>
<p>maxFps_(30) but as you can see it completely ignored by the Urho library <img alt=":frowning:" class="emoji" src="../../../images2/c383444e3b50f1554d2f21c7c206ca52.png" title=":frowning:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Check the following line in the editor script (<a href="http://Editor.as">Editor.as</a> line 193); it will override the maxFps setting set earlier during Engine’s construction.</p>
<pre><code class="lang-auto">if (renderingElem.HasAttribute("framelimiter")) engine.maxFps = renderingElem.GetBool("framelimiter") ? 200 : 0;</code></pre>
<p>You can naturally change those values if you want.</p>
<p>Regarding mobiles, if you don’t need 60fps screen update, you should be able to set lower maxFps for lower power consumption. Depending on the graphics drivers &amp; API used, using vsync may not reduce CPU usage, as it may be busy-polling for the vertical sync.</p>
<p>Also, the reason why something like Blender and Urho’s editor can’t be compared CPU usage-wise is that the Urho editor is running a constant screen redraw (just like a game), while GUI applications that use the native OS windowing (like Blender) typically redraw only when the user does something.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>