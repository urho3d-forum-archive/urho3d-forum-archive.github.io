<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Sticky Camera view in Editor</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Sticky Camera view in Editor</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">april_si</div>
          <div class="post_content">
<p>Hello, I am artist and trying out Urho <a href="http://Editor.sh" rel="nofollow noopener">Editor.sh</a></p>
<p>Whenever I select the camera in Editor, a nice view pop in lower right corner and when detected it disappears.<br/>
How to do so that it always stays there?</p>
<p>Anyway to pop out the camera view and resize it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">setzer22</div>
          <div class="post_content">
<p>Welcome to Urho3D!  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
<p>I’m not able to reproduce that issue as I’m able to see the small camera view, even when manipulating the camera node (moving the camera) the viewport is still there and I’m able to see through the camera. Could you please clarify a bit more what are you doing when the problem occurs, and what exactly do you mean by “when detected”?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">amit</div>
          <div class="post_content">
<p>I think when camera is deselected the said view disappears. It happens.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">april_si</div>
          <div class="post_content">
<p>Thanks setzer22, <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
<p>Oops, I meant when I <span class="bbcode-u">deselected</span> camera, not detected <img alt=":blush:" class="emoji" src="../../../images2/f5e2a5ef6206a15962e2ec428f87e9a2.png" title=":blush:"/><br/>
Whenever I select some other node, the camera view disappears. Just want to keep it up while I set the scene.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">setzer22</div>
          <div class="post_content">
<p>I’m afraid that’s the intended behaviour of the Editor. Bear in mind that the editor is still far from production-ready, and you might not find all the desired features in it. Even though it’s a great tool for most use cases IMO.</p>
<p>That being said, It wouldn’t be difficult to come up with a quick hack in order to display a camera on the screen as a separate viewport without even touching the editor code, just by adding a component to the camera node. I’m also interested and I was working on something very similar just the other day, so I’m going to give it a try and post it here if I manage to do it.</p>
<p>Also, if you want, you can open a new thread in the Feature Request section, and ask for this feature to be included in the editor!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>I agree with what setzer22 has said. But I want to add that currently the provided Editor is already capable to display multiple viewports. At the moment, the camera’s properties have to be manually adjusted. It should not be difficult to script that the viewport can be ‘stick’ to or associate to another camera component and therefore render from its point of view.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">april_si</div>
          <div class="post_content">
<aside class="quote no-group" data-username="setzer22">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8aa64c25e7b9f05b26c2a5eec08babe0.png" width="20"/> setzer22:</div>
<blockquote>
<p>just by adding a component to the camera node</p>
</blockquote>
</aside>
<p>What component is to be added to it and how.<br/>
But on the same thought train I was able to achieve some success. I just selected the camera and not the parent node, this displayed the viewport.<br/>
Then I “ctrl” selected the node of the mesh to be moved/rotate/scale, now node transformation only applies to selected nodes not the selected camera  <img alt=":sunglasses:" class="emoji" src="../../../images2/0fcbaa8d5111b4a589d84dc7c9f0e796.png" title=":sunglasses:"/> .<br/>
(Is that what you were saying setzer…)<br/>
… Thanks</p>
<p>I am able to do what i want but, would want some more non-hackish way.</p>
<p>I do not know much of coding, but can understand and do some changes  <img alt=":neutral_face:" class="emoji" src="../../../images2/52754f1473e2af3b80afe8d2948c4746.png" title=":neutral_face:"/>  if I know where to do so. Ill try take some help.</p>
<p>The Editor a great tool, and my work tool in urho sphere, few stuff like applying standard materials could be more intuitive and of course sticky camera, but still given urho’s team size it still well thought of, like pick light|geometries|… and fill point|wire|geometries options.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">april_si</div>
          <div class="post_content">
<p>Ok …<br/>
in file <a href="http://EditorView.as" rel="nofollow noopener">EditorView.as</a> added slashes at line 663<br/>
//if (renderer.numViewports &gt; viewports.length)<br/>
//    renderer.numViewports = viewports.length;<br/>
it work for now<br/>
Hope this has no errors,<br/>
Any more would require more work i suppose.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">setzer22</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
 april si:</div>
<blockquote>
<p>[quote=“setzer22”]just by adding a component to the camera node</p>
</blockquote>
</aside>
<p>What component is to be added to it and how.[/quote]</p>
<p>The component I was talking about is not done. I was talking about doing it myself. It’s still a bit hackish but way more functional than Ctrl-Clicking that way. The workflow would basically be adding a component to the camera node which then would display said camera in a region of the screen (and you’d be able to define that region through the Component’s attributes). It’s really quick to do, and in fact I was working on a very similar thing just yesterday, but somehow the editor was preventing me to add more viewports to the renderer.</p>
<p>[quote]<br/>
Ok …<br/>
in file <a href="http://EditorView.as" rel="nofollow noopener">EditorView.as</a> added slashes at line 663<br/>
//if (renderer.numViewports &gt; viewports.length)<br/>
// renderer.numViewports = viewports.length;<br/>
it work for now<br/>
Hope this has no errors,<br/>
Any more would require more work i suppose.[/quote]</p>
<p>And it seems you just have found the line responsible for that! I’m going to have a look now and see if I can code something quick, brb.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">setzer22</div>
          <div class="post_content">
<p>Just as I thought, the lines you commented out were responsible for hiding the camera once un-selected. By removing those, the viewport is never removed and you’ll always see the last camera you clicked.</p>
<p>That’s a workaround and it works, but it’s not a proper fix, because each time you select the camera (or a different one), a new viewport is created on top of the other one, so you’ll end up with lots of viewports and that would eventually slow up the editor.</p>
<p>Without removing those lines, the problem is the editor removes all the viewports the user might have created so my component won’t work until this is fixed.</p>
<p>For now having those lines removed allows for the functionality you needed so until there’s a fix it should be ok to do that. It would take a while until you notice a substantial slowdown anyway, but bear in mind that performance might degrade.</p>
<p>Anyway, I’ve made a small script that draws a viewport with the camera it’s attached to anywhere on the screen. That would allow for more functionality like dislpaying the contents of multiple cameras if needed, and allow the user to customize the size of the viewport as well. Once I find a fix for this I’ll post it on the Code Exchange section of the forum! For now I guess the workaround is good enough?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">april_si</div>
          <div class="post_content">
<p>Thanks for all the help …<br/>
I would not be able do anything more even if I want to.<br/>
This was lucky too … I saw <a href="http://EditorView.as" rel="nofollow noopener">EditorView.as</a> in <a href="http://editor.as" rel="nofollow noopener">editor.as</a>, looked in to file, luckily found the function and removed the ones which were hiding the viewport.<br/>
I was thinking to change “selectedComponents” with allComponents, but did not know where allcomponents are … I even don’t know what language it is  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/><br/>
I think I should focus on art.</p>
<p>Should i request this feature from Urho team?</p>
<p>Thanks again for helping me out, this really helped my workflow.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">setzer22</div>
          <div class="post_content">
<p>The problem with changing selectedComponents with all the components in the scene would be that if more than a camera is present in the scene, only the first would ever get drawn.</p>
<p>The editor is written in AngelScript, it’s a scripting language with a C+±like syntax that’s used in Urho.</p>
<p>You can make a feature request for this. Having a way to keep the last selected camera shouldn’t be difficult to fix. Maybe a better (but also more difficult) way of implementing the feature could be something like:<br/>
right click on camera -&gt; View in window -&gt; A UI window pops up with the camera view and you can move it and resize it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">april_si</div>
          <div class="post_content">
<aside class="quote no-group" data-username="setzer22">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8aa64c25e7b9f05b26c2a5eec08babe0.png" width="20"/> setzer22:</div>
<blockquote>
<p>right click on camera → View in window → A UI window pops up with the camera view and you can move it and resize it.</p>
</blockquote>
</aside>
<p>sounds nice.</p>
<p>Ill request a feature sometime soon, for the same. This is feature that would help a lot.</p>
<p>Thanks</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>