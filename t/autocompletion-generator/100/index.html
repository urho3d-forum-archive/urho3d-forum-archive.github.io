<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Autocompletion generator</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Autocompletion generator</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Hi,</p>
<p>Inspired by the “ToDoxHook.lua” file, I’ve prepared generator for an auto-completion list of Lua functions/properties for the MIT licensed Zerobrane IDE and maybe eventually other IDEs.</p>
<p>Before sending/committing to you, I had few question about the logic and possibilities:</p>
<p>[ul][li]Should I exclude the 1st level of auto-completion for classes available in the Global Properties? (ex.: “audio” only would be available in the list and “Audio” would not be visible but will be used as reference for this class auto-completion)[/li]<br/>
[li]Does the Lua function reflect new object creations via Object:new() or only Object() directly?[/li]<br/>
[li]Along with the constructors, is there destruction functions in Lua? (does ~Object() is possible in Lua? If not, does Object:destroy() exists? Else-wise, returning an object as “nil” will be garbage collected?)[/li][/ul]</p>
<p>I also plan later to give a try (unless aster goes ahead  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/> ) to fetch description comments (///) from the C++ equivalent functions using the header includes from the packages and match them with the Lua function for the tool-tip description from the auto-completion in Zerobrane.</p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Welcome aboard!</p>
<p>The construction / destruction mechanisms in Lua scripting are documented here: (look at the end of the page) <a href="http://urho3d.github.io/documentation/a00017.html">urho3d.github.io/documentation/a00017.html</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Pull request sent!</p>
<p>I’ve discussed with the author from Zerobrane Studio for helping me fix/confirm some issues and he seemed to find Urho3D project quite interesting, so it might help for publicity.  <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/></p>
<p>I also suggested to send him a pre-generated Lua API once the next release from Urho3D will be launched.</p>
<p>Let me know if you see something wrong, thanks!</p>
<p>[size=85][color=#FF0000]*[/color] Please note that Zerobrane Studio 0.40 doesn’t work properly with Object() constructor but will be fixed in next release (“master” worked properly)[/size]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Mike</div>
          <div class="post_content">
<p>Great job silverkorn  <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/></p>
<p>Do we need to setup a Zerobrane config file to be able to launch lua files with Urho3DPlayer from within the IDE?<br/>
Thanks</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Yes, we currently need to setup an interpreter in Zerobrane.</p>
<p>Here’s how it could be done (Based on Zerobrane Studio in “master” branch [size=85][<a data-bbcode="true" href="https://github.com/pkulchenko/ZeroBraneStudio/tree/master" rel="nofollow noopener">https://github.com/pkulchenko/ZeroBraneStudio/tree/master</a>][/size]):<br/>
[ul]<br/>
[li]For the moment since it’s not directly implemented yet, copy the “love2d.lua” within the “interpreter” folder;[/li]<br/>
[li]Rename this file to “urho3d.lua”;[/li]<br/>
[li]In the file, rename all “love2d” to “urho3d”, “Love2d” to “Urho3D” and finally “love” to “urho3d” (some case-sensitivity may vary);[/li]<br/>
[li]On line <span class="hashtag">#26</span>, replace the 2 last executable names to “Urho3DPlayer.exe” and “Urho3DPlayer”;[/li]<br/>
[li]Add where your Urho3DPlayer resides in the default variables on lines <span class="hashtag">#16</span> to <span class="hashtag">#19</span> (or simply add this path in your PATH environment if you’re familiar with it);[/li]<br/>
[li]Remove/Comment the condition from line <span class="hashtag">#36</span> to <span class="hashtag">#39</span>;[/li]<br/>
[li]Change line <span class="hashtag">#46</span> and <span class="hashtag">#47</span> to <span class="bbcode-i">local cmd = (’"%s" “%s” %s’):format(urho3d, wfilename:GetFullName(), params and " "…params or “”)</span>;[/li]<br/>
[li]Open Zerobrane Studio and setup a project directory by clicking on the “…” button on the left panel (Urho3D’s “./Bin/Data/LuaScripts” for exemple);[/li]<br/>
[li]Change the the interpreter to Urho3D in “Project” -&gt; “Lua Interpreter” -&gt; “Urho3D”;[/li]<br/>
[li]Open a Lua file then launch it “Project” -&gt; “Run” (or F6) or with Scratchpad (*not tried yet, should run directly modifications without restarting the player) “Project” -&gt; “Run as Scratchpad” (or Ctrl-F6).[/li][/ul]</p>
<p>These steps are not final neither 100% guaranteed to work so keep in mind that I’m planning to send an API and interpreter setup to Zerobrane Studio’s repository once the next Urho3D release will be out. You will be able after to replace the API file with one generated manually from a future version and/or the master branch.</p>
<p>Until the next release, I’ll work on a better interpreter configuration setup and probably setting a reflection of the C++ Doxygen description into the “ToZerobraneStudioHook.lua” generator. <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Mike</div>
          <div class="post_content">
<p>Many thanks silverkorn <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
<p>For now it seems that Scratchpad doesn’t work as is.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Thanks for sharing this, silverkorn. Just try it with the ToZerobraneStudioHook.lua and I am loving it already. BTW, while reviewing the hook, I notice the printFunction() does not include any constructors. Is that intentional? Otherwise, the ToDox hook and ToZero hook could share a large chunk of codes and only differs in outputting logic in the end. Probably could use ‘require’ statement to include the shared chunk to avoid code repetition? Also, saw your TODO comment. Do you plan to put those doxygen comment to ToDox hook as well when it happens?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<aside class="quote">
<blockquote>
<p>BTW, while reviewing the hook, I notice the printFunction() does not include any constructors. Is that intentional? </p>
</blockquote>
</aside>
<p>Yes, Zerobrane Studio doesn’t support it properly and, as I understood from the document sent by cadaver, we should not call “Object:Object()” in Lua for construction, so the latest Zerobrane Studio (currently on “master” branch) supports “Object()” as an object/class reference.<br/>
Otherwise, “new” and “delete” methods are used as alternative, but these needs to be managed manually, they will not be garbage collected by Lua, only the “Object()” constrcutor will be.</p>
<aside class="quote">
<blockquote>
<p>Otherwise, the ToDox hook and ToZero hook could share a large chunk of codes and only differs in outputting logic in the end. Probably could use ‘require’ statement to include the shared chunk to avoid code repetition?</p>
</blockquote>
</aside>
<p>Why not? To be honest, I’ve copied the 1st “ToDoxHook.lua” that was created to have the freedom to modify it without feeling restricted… Was it by you or Aster?<br/>
Feel free to edit it if needed.</p>
<aside class="quote">
<blockquote>
<p>Also, saw your TODO comment. Do you plan to put those doxygen comment to ToDox hook as well when it happens?</p>
</blockquote>
</aside>
<p>Sure. I’ll start with the Zerobrane hook then I could fit and adjust it in the ToDox hook.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/828_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">aster2013</div>
          <div class="post_content">
<p>Good job!</p>
<p>You can require ToDoxHook in your lua, then rewrite  classPackage:print and these writeXXX funtions,  I think it will work well.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Ok, I’ve applied it. I just needed to set first variables as global in “ToDoxHook.lua” and it seems to work.<br/>
I guess I’ll create the description’s fetch/map in the “ToDoxHook.lua” to consider it as the default/master script.</p>
<p>Btw, I’ve noticed that I was added in the credits list, thanks for that!<br/>
You can change it to my full name, I realized that you took the one from my profile and I just updated it! <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/><br/>
Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Nice! Your PR has been merged now.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Hi guys, little update.</p>
<p>I had time to play with the description extractor recently.</p>
<p>The general results seems good but it’s a bit clunky since it’s like I had to rewrite the Classes/Functions/Properties generator (ie, many regular expressions and cross-platform (to test) currently working directory workaround).</p>
<p>It needs some adjustments to fit in both “Dox” and “Zerobrane” output but I guess the hardest part is now behind.  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
<p>I’ll probably need a confirmation when done on it’s operation on Unix/BSD platforms.</p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">gotusso</div>
          <div class="post_content">
<p>Hi!<br/>
I started a similar project a few weeks ago to provide autocompletion in Eclipse LDT (<a href="http://github.com/Gotusso/UrhoLDT" rel="nofollow noopener">github.com/Gotusso/UrhoLDT</a>)<br/>
Too bad I didn’t saw this before, I wouldn’t have started that project <img alt=":stuck_out_tongue:" class="emoji" src="../../../images2/31a2303e479834609bf5befdf8c3501a.png" title=":stuck_out_tongue:"/> I should check your code and try to merge as much code as possible.<br/>
On the other hand, I would like to debug the Lua code on the IDE, so I’m modifing the player to accept an ‘-e’ parameter, as Eclipse LDT and Zerobrane uses it to wire-up some code for debugging. Have you looked something about that?<br/>
Cheers</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Sorry gotusso <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/></p>
<p>No, I didn’t have time to look at this, this month is unfortunately quite charged on my side and I’m having headaches with the description fetching. (The funny thing is, in the end if it works well, it could maybe replace the entire parsing mechanism from “tolua++” on package and header files with a standalone script) <img alt=":confused:" class="emoji" src="../../../images2/5fc0af8f196734b5bf5c1aacdc718a17.png" title=":confused:"/></p>
<p>Otherwise, got on with it! I guess this is the missing piece to inject code for live coding (scratchpad) and debugging with Zerobrane Studio.<br/>
I would maybe suggest to make it possible by default on the debug build (with Lua/LuaJIT) to avoid code injection on a final product for security purpose.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Hey guys,</p>
<p>I’m in running some questionable situations.</p>
<p>I want to map the description depending on the <span class="bbcode-b">Class -&gt; Function/Property name -&gt; Parameters</span> for splitting overloading function.<br/>
Here’s some example of what my debug print returns:</p>
<p>[code]Current Params: const String&amp; name, unsigned char layer, bool looped, float fadeInTime = 0.0f<br/>
Name: Play<br/>
ok (name = “Play”, type = “functions”, className = “AnimationController”)<br/>
Class: AnimationController = AnimationController<br/>
Element: Play = Play<br/>
Func1 Param: “const String”, “&amp;”, “name”, ""<br/>
Func1 Param: “unsigned”, “”, “char”, ""<br/>
Func1 Param: “bool”, “”, “looped”, ""<br/>
Func1 Param: “float”, “”, “fadeInTime”, "0.0f"<br/>
Func2 Param: “const String”, “”, “name”, ""<br/>
Func2 Param: “char”, “”, “layer”, ""<br/>
Func2 Param: “bool”, “”, “looped”, ""<br/>
Func2 Param: “float”, “”, “fadeInTime”, "0.0f"<br/>
Is same element? False</p>
<p>Current Params: const String&amp; fileName = String::EMPTY<br/>
Name: ApplyMaterialList<br/>
ok (name = “ApplyMaterialList”, type = “functions”, className = “StaticModel”)<br/>
Class: StaticModel = StaticModel<br/>
Element: ApplyMaterialList = ApplyMaterialList<br/>
Func1 Param: “const String”, “&amp;”, “fileName”, "String::EMPTY"<br/>
Func2 Param: “const String”, “”, “fileName”, "String::EMPTY"<br/>
Is same element? False[/code]<br/>
[size=85](Func1 Param = Header function’s parameter, Func2 = Package function’s parameter)[/size]</p>
<p>It says that the function is not the same due to the pointer/reference and it definitively is the case from what’s I’ve seen in the package file VS the header file.</p>
<p>Similarly, I have a missing but “defaulted” argument like this:</p>
<p><code>Current Params: Model* model, bool createBones = true
Name: SetModel
ok (name = "SetModel", type = "functions", className = "AnimatedModel")
Class: AnimatedModel = AnimatedModel
Element: SetModel = SetModel
Func1 Param: "Model", "*", "model", ""
Func1 Param: "bool", "", "createBones", "true"
Func2 Param: "Model", "*", "model", ""
Is same element? False</code></p>
<p>Is it intentional?<br/>
Should I ignore those cases as they are quite specific or make an additional possibility if it’s a “const String” against “const String&amp;”?</p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Both of these are intentional. Passing strings as const String instead of const String&amp; is an artifact of the Lua bindings mechanism. Aster will know this better. And sometimes “advanced” default-valued parameters that only make sense in internal engine use are left out from the script bindings, like the createBones parameter. In that case it’s also to allow turning the SetModel function into a property setter.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/828_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">aster2013</div>
          <div class="post_content">
<p>Hi,</p>
<p>Because String is a custom class, if we binding it to Lua, all string operate are very difficult. Lua’s string functions are very strength. So we directly mapping String to Lua string. These are same mapping between Vector and Lua table.</p>
<p>I think you can ignore constant, reference and default value, just compare argument types.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Noted!</p>
<p>What about this?<br/>
StringHash == const String? [size=85]<br/>
(I’ve changed the “Func” printing name to be more relevant)[/size]</p>
<p><code>Current Params: StringHash eventType, VariantMap&amp; eventData
Name: SendEvent
ok (name = "SendEvent", type = "functions", className = "Object")
Class: Object = Object
Element: SendEvent = SendEvent
FuncHeader  Param: "StringHash", "", "eventType", ""
FuncHeader  Param: "VariantMap", "&amp;", "eventData", ""
FuncPackage Param: "const String", "", "eventName", ""
FuncPackage Param: "VariantMap", "*", "eventData", "0"
Is same element? False</code></p>
<p>Also, shall I embed “unsigned” with next word as a type (or simply ignore it) and guess that “unsigned char” == “char”?</p>
<p><code>Current Params: const String&amp; name, unsigned char layer, bool looped, float fadeTime = 0.0f
Name: PlayExclusive
ok (name = "PlayExclusive", type = "functions", className = "AnimationController")
Class: AnimationController = AnimationController
Element: PlayExclusive = PlayExclusive
FuncHeader  Param: "const String", "&amp;", "name", ""
FuncHeader  Param: "unsigned", "", "char", ""
FuncHeader  Param: "bool", "", "looped", ""
FuncHeader  Param: "float", "", "fadeTime", "0.0f"
FuncPackage Param: "const String", "", "name", ""
FuncPackage Param: "char", "", "layer", ""
FuncPackage Param: "bool", "", "looped", ""
FuncPackage Param: "float", "", "fadeTime", "0.0f"
Is same element? False</code></p>
<p>Sorry for those questions, unfortunately I’m not an usual C/C++ programmer  <img alt=":confused:" class="emoji" src="../../../images2/5fc0af8f196734b5bf5c1aacdc718a17.png" title=":confused:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/827_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">friesencr</div>
          <div class="post_content">
<p>signed vs unsigned denotes whether there is a bit reserved for the negative or positiveness of a number.  Unsigned has no negative value so it can use that extra bit for getting bigger numbers or limiting the domain of a number to only positive ones.  I am guessing we are using an unsigned char for cheesing an 8 bit number.  Integers are 32bit.  I can’t get much further into detail since alas I am no c++ programmer myself.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/828_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">aster2013</div>
          <div class="post_content">
<p><span class="mention">@silverkorn</span> If you like, you can put your project to github. So other people can contribute to it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Thanks!</p>
<p>Indeed, I’ll wrap up what I’ve done and clean up a little bit as this doesn’t affect anything important at all, there might just be few “undescripted” functions to the output.</p>
<p>But before, I guess it would be great to prepare a table for equivalent types, so for special issues, we could map them there.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Ok, I’ve sent the Pull Request.</p>
<p>Feel free to adjust missing/wrong stuff (or bad coding convection, sorry if so <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/>).<br/>
I’ve commented the previously shown debug prints, so you can reactivate them and output it in files to compare with a “Diff” application.<br/>
Please, try it if possible on a Unix OS to confirm that the current working directory workaround is running properly.</p>
<p>BTW, I haven’t touched the Doxygen output because I’m not exactly sure how to print it, but everything should be there to implement it. (<span class="bbcode-u">classes[i].functions/properties[j].descriptions[k]</span>) <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
<p>Let me know if there’s anything,<br/>
Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>I have tested the PR in my Linux system. The get current working directory seems to work. It returns something like this for my case: <span class="bbcode-i">/path/to/urho3d/root</span>/Source/Engine/LuaScript/pkgs and the separator character is ‘/’. However, I have encountered an issue further down the road. It hits an error on the printDescriptionsFromPackageFile recursive function. Here is the error and stack trace.</p>
<p>[code]<br/>
***curr code for error is tolua_property__get_set float dampingRatio;</p>
<p>stack traceback:<br/>
[string “tolua embedded: lua/basic.lua”]:57: in function ‘tolua_error’<br/>
[string “tolua: embedded Lua code 23”]:5: in main chunk</p>
<p>: No such file or directory).ing “ToDoxHook.lua”]:293: bad argument <span class="hashtag">#1</span> to ‘lines’ (/path/to/urho3d/root/Source/Engine/LuaScript/pkgs/Audio/Audio.pkg[/code]</p>
<p>I have not spent much time to figure out why it happens.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Hmm… I’ll try it on my VirtualBox Linux, it seems to work properly on my Windows 7 (with LuaJIT).<br/>
Did you used Lua or LuaJIT building?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>with LuaJIT.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">gotusso</div>
          <div class="post_content">
<p>[quote=“silverkorn”]Sorry gotusso <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/></p>
<p>No, I didn’t have time to look at this, this month is unfortunately quite charged on my side and I’m having headaches with the description fetching. (The funny thing is, in the end if it works well, it could maybe replace the entire parsing mechanism from “tolua++” on package and header files with a standalone script) <img alt=":confused:" class="emoji" src="../../../images2/5fc0af8f196734b5bf5c1aacdc718a17.png" title=":confused:"/></p>
<p>Otherwise, got on with it! I guess this is the missing piece to inject code for live coding (scratchpad) and debugging with Zerobrane Studio.<br/>
I would maybe suggest to make it possible by default on the debug build (with Lua/LuaJIT) to avoid code injection on a final product for security purpose.[/quote]</p>
<p>Hi Silverkorn, sorry I’m also quite busy.</p>
<p>I’ve made a fork to recive the ‘-e’ parameter in the player and now I can debug lua scripts in Eclipse LDT. I think I will make a guide in the next days. It would be great if you can try it and check if it’s also useful for you at zerobrane. The code is at (<a href="https://github.com/Gotusso/Urho3D/tree/lua-debug" rel="nofollow noopener">github.com/Gotusso/Urho3D/tree/lua-debug</a>). Please, note I needed to change the order of the player parameters from “Urho3DPlayer  [options]” to "Urho3DPlayer [options] " to be able to launch it from eclipse.</p>
<p>Cheers</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<aside class="quote no-group" data-username="gotusso">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/22322272822ee5502368d2fd3866a59c.png" width="20"/> gotusso:</div>
<blockquote>
<p>Hi Silverkorn, sorry I’m also quite busy.</p>
</blockquote>
</aside>
<p>Don’t worry, me too! <img alt=":stuck_out_tongue:" class="emoji" src="../../../images2/c5116a39efc7053bcd157c18c682fb79.png" title=":stuck_out_tongue:"/></p>
<p>I’ll check it out soon, I’ll try to fix the previous issue identified by weitjong, it seems to happen because of the “directory” variable in some functions.<br/>
At least it motivated me to install a Linux distro on my system, which I shall have done way earlier.  <img alt=":smiley:" class="emoji" src="../../../images2/7014497b1c97c810791a011290bda7f5.png" title=":smiley:"/></p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Well, that’s cryptic!<br/>
It is able to load files from the directory of the executable and the current working directory but once we’re out of this scope, Lua(JIT) seems to not see the file…</p>
<p>With the full path using the file handling “io.open” (end of output example):</p>
<p><code>filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/Scene/Serializable.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/Scene/Component.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/Scene/Node.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/Scene/Scene.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/Scene/SplinePath.pkg
filename done :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/SceneLuaAPI.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/UIElement.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/BorderImage.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Button.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/CheckBox.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Cursor.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/FileSelector.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Font.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/LineEdit.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Menu.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/MessageBox.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/DropDownList.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Slider.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/ScrollBar.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/ScrollView.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/ListView.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Sprite.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Text.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Text3D.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/ToolTip.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/UI.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/Window.pkg
filename MISSED :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UI/View3D.pkg
filename done :/path/to/Urho3D/Source/Engine/LuaScript/pkgs/UILuaAPI.pkg
filename done :/path/to/Urho3D/Bin/LuaPkgToDox.txt</code></p>
<p>With current working directory scope using the file handling io.open (end of output exemple):</p>
<p><code>filename MISSED :Scene/Serializable.pkg
filename MISSED :Scene/Component.pkg
filename MISSED :Scene/Node.pkg
filename MISSED :Scene/Scene.pkg
filename MISSED :Scene/SplinePath.pkg
filename done :SceneLuaAPI.pkg
filename MISSED :UI/UIElement.pkg
filename MISSED :UI/BorderImage.pkg
filename MISSED :UI/Button.pkg
filename MISSED :UI/CheckBox.pkg
filename MISSED :UI/Cursor.pkg
filename MISSED :UI/FileSelector.pkg
filename MISSED :UI/Font.pkg
filename MISSED :UI/LineEdit.pkg
filename MISSED :UI/Menu.pkg
filename MISSED :UI/MessageBox.pkg
filename MISSED :UI/DropDownList.pkg
filename MISSED :UI/Slider.pkg
filename MISSED :UI/ScrollBar.pkg
filename MISSED :UI/ScrollView.pkg
filename MISSED :UI/ListView.pkg
filename MISSED :UI/Sprite.pkg
filename MISSED :UI/Text.pkg
filename MISSED :UI/Text3D.pkg
filename MISSED :UI/ToolTip.pkg
filename MISSED :UI/UI.pkg
filename MISSED :UI/Window.pkg
filename MISSED :UI/View3D.pkg
filename done :UILuaAPI.pkg
filename done :/path/to/Urho3D/Bin/LuaPkgToDox.txt</code></p>
<p>Anyone has a clue?</p>
<p>It worked with Windows MinGW compiled as :<br/>
“cmake_mingw.bat -DENABLE_64BIT=1 -DENABLE_LUAJIT=1 -DENABLE_DOCS=1” (Windows 7 64-bits).</p>
<p>This problematic one is built as :<br/>
"./cmake_gcc.sh -DENABLE_LUAJIT=1 -DENABLE_DOCS=1" (Linux Mint 14 32-bit).</p>
<p>Could it be a missing building flag to permit out of those scopes?</p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>I think I found it… Well I hope so, otherwise this thread will become my personal diary!  <img alt=":laughing:" class="emoji" src="../../../images2/f1b3f4dd9f845d1069864c322071dffe.png" title=":laughing:"/></p>
<p>I’ll need to adjust my code to add some ‘:gsub("%c", “”)’ because line breaks seemed to cause this problem, which make sense because of Linux and Windows different line breaks philosophies (CR vs CRLF vs LF).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>You can test it out!</p>
<p>I haven’t created a pull request for now to avoid a potential error and creating one every time…<br/>
(<a data-bbcode="true" href="https://github.com/silverkorn/Urho3D" rel="nofollow noopener">https://github.com/silverkorn/Urho3D</a>)</p>
<p>Does it matter if I send a pull request containing a “Merge remote-tracking branch ‘upstream/master’”?</p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>You may have nailed down the problem. The ToDoxHook.lua now works as expected in *nix build environment. I have also just fixed a small issue with LuaJIT search path which was broken since LuaJIT v2.0.3 upgrade. With that fix, I could also confirm that ToZerobraneStudioHook.lua produces output without throwing out any error. I have no time yet to compare the new output with the old output from previous hook though.</p>
<p>If I know Lasse better, I don’t think he would mind the “Merge…” commit message in the history.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>I’ve remade the fork, it should be good.<br/>
The PR has been resent with the fix.</p>
<p>If everything is good, I’ll start to prepare the ZerobraneStudio’s configuration file + generating and sending an Urho3D API file for the latest “stable” version.<br/>
I’ll probably look with gotusso (and you if you wish) to permit live coding for IDEs at least with the debug version.<br/>
Otherwise, it’s possible for ZerobraneStudio that “Mobdebug” can do all the trick… To see…</p>
<p>Thanks!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Occasional merge commits are fine; there are already several in the history anyway.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Sorry for the delay…  <img alt=":unamused:" class="emoji" src="../../../images2/21382c100a852239caa7667da5bafe68.png" title=":unamused:"/><br/>
I’ve sent a Pull Request on their side for a simple “ready to go” support for Urho3D 1.31+.<br/>
I’ve included the process in the commit to generate a new API file, so you can make one on your own with the current “Master” branch.</p>
<p>So you can give it a try! <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
<p>[size=85]Edit: Link to their repository (<a data-bbcode="true" href="https://github.com/pkulchenko/ZeroBraneStudio" rel="nofollow noopener">https://github.com/pkulchenko/ZeroBraneStudio</a>)[/size]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Just for info, I’ve updated the API in the ZeroBranePackage repository to auto-complete Urho3D 1.32 Lua functions.<br/>
<a href="https://github.com/pkulchenko/ZeroBranePackage" rel="nofollow noopener">github.com/pkulchenko/ZeroBranePackage</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">silverkorn</div>
          <div class="post_content">
<p>Now updated to Urho3D 1.4</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1815_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">dertom</div>
          <div class="post_content">
<p>I know this thread is quite old, but I just wanted to share that I updated the LUA Eclipse LDT-Autocompletion, Debugging-Version from <span class="mention">@gotusso</span> to work with the current urho3d-version.<br/>
I actually don’t use it actively but thought it would be nice to share and might help someone… <img alt=":smiley:" class="emoji" src="../../../images2/7014497b1c97c810791a011290bda7f5.png" title=":smiley:"/></p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://github.com/dertom95/UrhoLDT">
<header class="source">
<img class="site-icon" height="32" src="../../../images2/0973ea8ce7121c320f68413e2a2f23ab.svg" width="32"/>
<a href="https://github.com/dertom95/UrhoLDT" rel="noopener nofollow ugc" target="_blank">GitHub</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/345;"><img class="thumbnail" height="345" src="../../../images2/b6f9b0aeaef529602b35f274ff6fd18b" width="690"/></div>
<h3><a href="https://github.com/dertom95/UrhoLDT" rel="noopener nofollow ugc" target="_blank">GitHub - dertom95/UrhoLDT: Autocomplete for Urho3D API in Eclipse LDT</a></h3>
<p>Autocomplete for Urho3D API in Eclipse LDT. Contribute to dertom95/UrhoLDT development by creating an account on GitHub.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>95ole,Tom</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>