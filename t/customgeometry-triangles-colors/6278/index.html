<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>CustomGeometry Triangles Colors</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">CustomGeometry Triangles Colors</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">lama2005</div>
          <div class="post_content">
<p>When I add two triangles into one CustomGeometry only one of them has the specified color, the other one is black.</p>
<pre><code>        float y = 0.01f;

        var geom = Node.CreateComponent&lt;CustomGeometry&gt;();
        geom.BeginGeometry(0, PrimitiveType.TriangleList);

        geom.DefineVertex(new Vector3(X1, y, Z1));
        geom.DefineVertex(new Vector3(X1, y, Z2));
        geom.DefineVertex(new Vector3(X2, y, Z2));

        geom.DefineVertex(new Vector3(X1, y, Z1));
        geom.DefineVertex(new Vector3(X2, y, Z2));
        geom.DefineVertex(new Vector3(X2, y, Z1));

        geom.SetMaterial(Material.FromColor(Color));
        geom.Commit();
        return geom;
</code></pre>
<p>How can I set the color for the 2nd triangle?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>Use vertex colors and a material that uses them rather than creative a material with 1 color. It’s odd that one of the triangles is black, though. I’d have expected they’d be the same color. I’m not certain custom geometry supports vertex colors - it probably does, but if it doesn’t I’d suggest looking at some of the other posts about how to create a geometry for a model.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">lama2005</div>
          <div class="post_content">
<p>Thank you for your hint. Using the material VColUnlit.xml and setting Color by calling geometry.DefineColor before defining vertices solved the problem.<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="nofollow noopener" title="rect_color"><img alt="rect_color" data-base62-sha1="ijWsXvJG5X7GJq9Q94qMkOz3rtQ"  height="393" src="../../../images2/7d5dbce5b24a3ff0ed0a2ce13b53f264.png"  width="690"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">rect_color</span><span class="informations">851×485 20 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>