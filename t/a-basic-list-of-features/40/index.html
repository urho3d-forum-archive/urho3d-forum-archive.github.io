<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>A basic list of features</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">A basic list of features</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>Hi all.<br/>
Here i give a list of features that might be good to implement…<br/>
I made this for participate in a good project (best engine open source i see) and give ideas, not for give work to make.</p>
<p>–Needed, -Normal,-* Extras.</p>
<p><span class="bbcode-b">Examples:</span></p>
<pre><code>- Inverse Kinematics example.
- Upgrade the vehicle example ?
- Graphics example with some thinks.
-- Glass example.
-- FPS with camera hands(Basic).
-- Light types example and projectors.
-- Trigger examples move objects or enable others.
-* Breakable examples.
-* Flag physics example.
-* Day - Night cycle example.
-* Water with physics example.
</code></pre>
<p><span class="bbcode-b">AI/Physics/Animation:</span></p>
<pre><code>- Add Inverse Kinematics with ground alignment.
-- Zone of animation or action for AI.
-* Add Flag/Cloth physics from Bullet.
-* Add Basic water sim (basic waves and var for physic objects(float or not, mass)).
- Breakable objects 4 types:
	-- 	1- Jointed breakable object (jointed parts in 3d editor, in game have individual physics and start static).
	--	2- Same as 1 but the model change in other models and at the end part select have to breakable object or not).
	-- 	3- Pre-Backed physics object (Animation + physics).
	-*     4- Deformable objects (the object 3d model vertex change procedural).
	-** 	5- Procedural physics object (Physics procedural calculation).
-* Environment controlled objects (Clouds, Vegetation wind, Water...)(For vegetation use for example some animations cycle or procedural but is hard).
    -- Material types and class, (metal,wood, others) give different properties.
</code></pre>
<p><span class="bbcode-b">Render/Light/Shaders:</span></p>
<pre><code>-- Add Glow.
    -- God Rays.
-- Add HDR and Global Ilumination.
-* Add SSAO.
-* Add Projected Decals. (Box in editor)
- Add Light with texture projected.
-* Add different types of Antialising. (SMAA, MSAA...)
-- Add Glass.
</code></pre>
<p><span class="bbcode-b">Tools:</span></p>
<pre><code>- Enviorment, Skybox, Fog, HDR configurator.
- Terrain editor(heightmap)
-* Build editor(editor like id tech3 or 4 with views) BSP/GSC.

Sorry for my english.
</code></pre>
<p>Thanks all.</p>
<p>[size=85]<span class="bbcode-i">edited for best reading by moderator.</span>[/size]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>A couple of quick notes:</p>
<ul>
<li>Animation blending already exists and is based on layer priority. You’ll see multiple animations blended in eg. NinjaSnowWar.</li>
<li>The 17_SceneReplication example is a controllable physics ball, but it’s networked only (you can run a client and server on same machine)</li>
<li>HDR rendering is being implemented in the Shaders branch.</li>
</ul>
<p>It’s fine to write these kinds of “wishlists” to inspire/stimulate development, and to keep record so that good ideas aren’t forgotten. Progress usually happens when developers are also interested in the same things. However the basic risk in an open source project is that when you make a request, you have the risk of it never completing. So if you want to be certain that it’s done, you start doing it yourself <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/5_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cin</div>
          <div class="post_content">
<aside class="quote">
<blockquote>
<p> Day - Night cycle example.</p>
</blockquote>
</aside>
<p>Simple rotate directional light and disable light if sun under horizont. For sky box you can use three textures (night, morning and day) and interpolate it over time in shader. Also change Zone parameters ad ambient light and fog parameters. It easy. In my game it maked as component. May be later I share it.</p>
<aside class="quote">
<blockquote>
<p>Global Ilumination</p>
</blockquote>
</aside>
<p>Some like this? <a href="http://sdrv.ms/1cb8N99" rel="nofollow noopener">sdrv.ms/1cb8N99</a>?</p>
<p>[flash=640,480]<a href="http://www.youtube.com/v/1pjupG1YPgE?version=3&amp;hl=ru_RU&amp;rel=0%5B/flash%5D" rel="nofollow noopener">http://www.youtube.com/v/1pjupG1YPgE?version=3&amp;hl=ru_RU&amp;rel=0[/flash]</a><br/>
I think this is very complex.</p>
<p>I think what we all must learn engine and make some things by self and help for <span class="bbcode-b">[color=#800000]Lasse[/color]</span>, he make great engine <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/> which only on begin of path to peoples.</p>
<p>But some things may be realized. Later.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>[quote=“cadaver”]A couple of quick notes:</p>
<ul>
<li>Animation blending already exists and is based on layer priority. You’ll see multiple animations blended in eg. NinjaSnowWar.</li>
<li>The 17_SceneReplication example is a controllable physics ball, but it’s networked only (you can run a client and server on same machine)</li>
<li>HDR rendering is being implemented in the Shaders branch.</li>
</ul>
<p>It’s fine to write these kinds of “wishlists” to inspire/stimulate development, and to keep record so that good ideas aren’t forgotten. Progress usually happens when developers are also interested in the same things. However the basic risk in an open source project is that when you make a request, you have the risk of it never completing. So if you want to be certain that it’s done, you start doing it yourself <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/>[/quote]</p>
<p>Thanks for fast reply.<br/>
Ok sorry i remove the animation blending.(me fail)<br/>
Oh wow i dont see the “17_SceneReplication” ball  <img alt=":astonished:" class="emoji" src="../../../images2/d210df802a5d9b4bc3a55c75eca07db3.png" title=":astonished:"/>  thanks.<br/>
I’m now making a launcher for Urho3D for the lua, as and asc scripts… in QT, C++. (Launcher MIT, QT Lgpl)</p>
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/6ea24fdd035654167d3d54051abd76a8.png" width="20"/> cin:</div>
<blockquote>
<p>[quote] Day - Night cycle example.</p>
</blockquote>
</aside>
<p>Simple rotate directional light and disable light if sun under horizont. For sky box you can use three textures (night, morning and day) and interpolate it over time in shader. Also change Zone parameters ad ambient light and fog parameters. It easy. In my game it maked as component. May be later I share it.</p>
<aside class="quote">
<blockquote>
<p>Global Ilumination</p>
</blockquote>
</aside>
<p>Some like this? <a href="http://sdrv.ms/1cb8N99" rel="nofollow noopener">sdrv.ms/1cb8N99</a>?</p>
<p>I think this is very complex.</p>
<p>I think what we all must learn engine and make some things by self and help for <span class="bbcode-b">[color=#800000]Lasse[/color]</span>, he make great engine <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/> which only on begin of path to peoples.</p>
<p>But some things may be realized. Later.[/quote]</p>
<p>Oh thanks for the interest but that look too advanced(i only say GI without Voxel Cone Tracing, that is only DX11 and OpenGL 4.x?), i say more like this, look at this. <a href="http://tesseract.gg/" rel="nofollow noopener">tesseract.gg/</a><br/>
This have global ilumination, GSC, camera view hands, antialiasing smaa… and shaders is the Tesseract Engine <a href="http://tesseract.gg/" rel="nofollow noopener">tesseract.gg/</a> and is Zlib license with all source code,<br/>
for view the GI and other thinks in.</p>
<p>Oh the app you upload dont run for me, use DX11 ? i only support to Dx10. (9800GTX+)  <img alt=":frowning:" class="emoji" src="../../../images2/2506cac83464f3f86e257fa414340d4c.png" title=":frowning:"/></p>
<p>Thanks all.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Thanks for the Tesseract link, their description of their rendering pipeline is very interesting. Being that they implement a specific game instead of a general-purpose engine they have greater freedom to implement the rendering pipeline just as they want (and what fits best for that scenario) but I’d believe at least some of those techniques (such as the GI) could be generally usable.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/17ea6233fe86521c2e3179bd3849d219.png" width="20"/> cadaver:</div>
<blockquote>
<p>Thanks for the Tesseract link, their description of their rendering pipeline is very interesting. Being that they implement a specific game instead of a general-purpose engine they have greater freedom to implement the rendering pipeline just as they want (and what fits best for that scenario) but I’d believe at least some of those techniques (such as the GI) could be generally usable.</p>
</blockquote>
</aside>
<p>Ok nice thanks.<br/>
But the GI have a problem with indoors, need create a zone to disable the GI in some zones of map. (No dark zones).</p>
<p>Ty.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Jace</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/17ea6233fe86521c2e3179bd3849d219.png" width="20"/> cadaver:</div>
<blockquote>
<p>Thanks for the Tesseract link, their description of their rendering pipeline is very interesting. Being that they implement a specific game instead of a general-purpose engine they have greater freedom to implement the rendering pipeline just as they want (and what fits best for that scenario) but I’d believe at least some of those techniques (such as the GI) could be generally usable.</p>
</blockquote>
</aside>
<p>It’s funny you mention that becauseI had actually thought of combining the features of Tesseract with Urho3D to create an ‘ultimate game engine’ of sorts. Yes, corny I know but what’s wrong with taking the best parts of both and putting them together?  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
<p>On a serious note, both projects are SDL2 and octree based with very similar, permissive licenses. I see no reason why they shouldn’t/couldn’t benefit one an other. That’s part of what open source is all about isn’t it?</p>
<p>Also, here is a very nice Game engine based on the Tessurect source I’ve been following for some time known as <a data-bbcode="true" href="https://github.com/OctaForge/OF-Engine" rel="nofollow noopener">“octaforge”</a> that the Urho3D community and devs may find very intersting. The developer quaker66 has made some very noteworthy improvements to the original source of Tesseract.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<aside class="quote no-group" data-username="Jace">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/4fed3533bad6675bd7a53ed6493c252a.png" width="20"/> Jace:</div>
<blockquote>
<p>[quote=“cadaver”]Thanks for the Tesseract link, their description of their rendering pipeline is very interesting. Being that they implement a specific game instead of a general-purpose engine they have greater freedom to implement the rendering pipeline just as they want (and what fits best for that scenario) but I’d believe at least some of those techniques (such as the GI) could be generally usable.</p>
</blockquote>
</aside>
<p>It’s funny you mention that becauseI had actually thought of combining the features of Tesseract with Urho3D to create an ‘ultimate game engine’ of sorts. Yes, corny I know but what’s wrong with taking the best parts of both and putting them together?  <img alt=":smiley:" class="emoji" src="../../../images2/7014497b1c97c810791a011290bda7f5.png" title=":smiley:"/></p>
<p>On a serious note, both projects are SDL2 and octree based with very similar, permissive licenses. I see no reason why they shouldn’t/couldn’t benefit one an other. That’s part of what open source is all about isn’t it?</p>
<p>Also, here is a very nice Game engine based on the Tessurect source I’ve been following for some time known as <a data-bbcode="true" href="https://github.com/OctaForge/OF-Engine" rel="noopener nofollow ugc">“octaforge”</a> that the Urho3D community and devs may find very intersting. The developer quaker66 has made some very noteworthy improvements to the original source of Tesseract.[/quote]</p>
<p>The Tesseract engine is very basic engine and limited. (Bad optimization of 3d external models) but good graphics(medium-high).<br/>
The OctaForge look like a clone of Tesseract with lua and some changes with bad optimization… ?<br/>
Here have other engines to view:</p>
<p>*- <a data-bbcode="true" href="https://github.com/ivansafrin/Polycode" rel="noopener nofollow ugc">https://github.com/ivansafrin/Polycode</a> (2D and 3D engine with editors look good, (work in progress))<br/>
*- <a data-bbcode="true" href="http://www.ogre3d.org/" rel="noopener nofollow ugc">http://www.ogre3d.org/</a> (Nice render engine)(Need updates).<br/>
*- <a data-bbcode="true" href="https://github.com/TTimo/doom3.gpl" rel="noopener nofollow ugc">https://github.com/TTimo/doom3.gpl</a> // <a data-bbcode="true" href="https://github.com/id-Software/DOOM-3-BFG" rel="noopener nofollow ugc">https://github.com/id-Software/DOOM-3-BFG</a> (ID Tech4 nice)(Old, but realtime and editors).</p>
<ul>
<li>
<a data-bbcode="true" href="https://github.com/GarageGames/Torque3D" rel="noopener nofollow ugc">https://github.com/GarageGames/Torque3D</a> (Mega bad optimization).</li>
<li>
<a data-bbcode="true" href="http://irrlicht.sourceforge.net/" rel="noopener nofollow ugc">http://irrlicht.sourceforge.net/</a> (Good basic engine).</li>
</ul>
<p>Ty.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/827_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">friesencr</div>
          <div class="post_content">
<p>I have no idea how i missed this game engine.<br/>
<a href="https://github.com/mosra/magnum" rel="nofollow noopener">github.com/mosra/magnum</a></p>
<p>Here is a rendering engine:<br/>
<a href="https://github.com/bkaradzic/bgfx" rel="nofollow noopener">github.com/bkaradzic/bgfx</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>[quote=“friesencr”]I have no idea how i missed this game engine.<br/>
<a href="https://github.com/mosra/magnum" rel="nofollow noopener">github.com/mosra/magnum</a></p>
<p>Here is a rendering engine:<br/>
<a href="https://github.com/bkaradzic/bgfx" rel="nofollow noopener">github.com/bkaradzic/bgfx</a>[/quote]</p>
<p>Oh wow thats is nice, advanced examples/codes (metaballs,hdr…)</p>
<p>I have this others:<br/>
<a data-bbcode="true" href="http://www.spinxengine.com/" rel="nofollow noopener">http://www.spinxengine.com/</a><br/>
<a data-bbcode="true" href="http://pixellight.sourceforge.net/website/" rel="nofollow noopener">http://pixellight.sourceforge.net/website/</a> (Looks good)<br/>
Features: <a data-bbcode="true" href="http://pixellight.sourceforge.net/docs/PixelLightFeatures.pdf" rel="nofollow noopener">http://pixellight.sourceforge.net/docs/PixelLightFeatures.pdf</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/994_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">magic.lixin</div>
          <div class="post_content">
<p>Renderering is not the only part of a game engine.<br/>
To me, what I like urho3d engine most is that:<br/>
1.  a c++ reflection system with generic variant attribute<br/>
so you can do a lot of things with it,  your custom component can be edited quickly in editor, you can tweak values just like Unity3d without hard code anything.<br/>
you can make your tools not only in c++, you can make it in c# or html, check the editor script code.</p>
<pre><code>  2. a well designed resource system and resource hot-load system (plus !)
      so you can edit your resource in DCC tools with your engine running, you can event edit your game play script without close the engine and reopen it!
      
  3. variant event system
      you can send event with any typed parameter, the sender never needs to know each other with event handler.
      engine update is never called by function, just send event to the registered event handlers, that make subsystems decoupled with each other.
      
      plus: later delayed event handler support ?

4. a good script intergration 
    angel script and even lua support !! (I`m using angel script cause I like the c++ like syntax)
    you can handle any event in your script code,  engine code is always engine code, script code will do the logic and game event handling.
    register your custom function is very easy.

5. data driven render path.
    customize your render style but not modify the source code.

   All the features makes easy prototype and quick iteration. 

   Things I don`t like?
       too much memory allocation and deallocation every frame.

       every time construct and destruct a variantmap will do system malloc and free like: 

       VariantMap eventData;
       //.....
      SendEvent(xx, eventData);  
      
      in this case eventData`s lifetime is every short, I ended up with a walk around that, make eventData static like this
      static VariantMap eventData;
      //......
      SendEvent(xx, eventData);

     maybe a frame allocator or statck allocator is the best in this case.

     Too much string used( this also makes memory allocation too much), most cases string hash is good enough for for addressing or compare.
     But it`s not friendly for editor or debugging, so in my case, I add a global HashMap&lt;StringHash, const char*&gt; to store this information, if editor
     want to get the string just look up this table.</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>[quote=“Hgdavidy”]<br/>
<a data-bbcode="true" href="http://pixellight.sourceforge.net/website/">http://pixellight.sourceforge.net/website/</a> (Looks good)<br/>
Features: <a data-bbcode="true" href="http://pixellight.sourceforge.net/docs/PixelLightFeatures.pdf">http://pixellight.sourceforge.net/docs/PixelLightFeatures.pdf</a>[/quote]<br/>
I used to follow PixelLight for some time, unfortunately it seems they have ceased development.<br/>
<a data-bbcode="true" href="http://www.game-coder.de/page/pixellight?lang=en">http://www.game-coder.de/page/pixellight?lang=en</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/41548dab6531ccfff7f489bd1c60ca10.png" width="20"/> magic.lixin:</div>
<blockquote>
<p>too much memory allocation and deallocation every frame.</p>
</blockquote>
</aside>
<p>Hi,<br/>
if you can supply non-destructive patches (ie. ones that don’t change the API radically) for better memory allocation they are very welcome. Also if your profiling has revealed some specific hotspots due to allocation or string use you could file issues. I’m thinking that Context could handle handing out preallocated VariantMaps for each SendEvent nesting level.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>Cadaver the engine is multi-threaded ?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>There’s the WorkQueue subsystem, which is used for certain tasks, like splitting up animation/particle updates and culling between worker threads. You can also submit your own background tasks into that system but you basically have to be operating on your own isolated data, as the engine API itself is not safe to call from other than the main thread.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>More docs of render gi and others from crytek:<br/>
<a href="http://www.crytek.com/cryengine/cryengine3/presentations/cascaded-light-propagation-volumes-for-real-time-indirect-illumination" rel="nofollow noopener">crytek.com/cryengine/cryengi … lumination</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2367_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jmiller</div>
          <div class="post_content">
<p>Re. VariantMap, there is now Context::GetEventDataMap() used by much of the code, and working well in my own.<br/>
/// Return a preallocated map for event data. Used for optimization to avoid constant re-allocation of event data maps.<br/>
also available as Object::GetEventDataMap()</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>In the previous code the VariantMap object itself would be allocated on stack, but it would start to make heap allocations when you insert keyvalue pairs into it. Now that we reuse a single eventdata map most of the time, it also reuses its already allocated keyvalue elements without making new heap allocations.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/994_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">magic.lixin</div>
          <div class="post_content">
<p>[quote=“Sinoid”][quote]Things I don`t like?<br/>
too much memory allocation and deallocation every frame.</p>
<p>every time construct and destruct a variantmap will do system malloc and free like:</p>
<p>VariantMap eventData;<br/>
//…<br/>
SendEvent(xx, eventData);</p>
<p>in this case eventData`s lifetime is every short, I ended up with a walk around that, make eventData static like this<br/>
static VariantMap eventData;<br/>
//…<br/>
SendEvent(xx, eventData);</p>
<p>maybe a frame allocator or statck allocator is the best in this case.<br/>
[/quote]</p>
<p>Have you profiled? Could you maybe tell us a bit about your background?</p>
<p>I see a stack allocation. It’s also static as far as the compiler is concerned. You are definitely not a better optimizer than the compiler is. Yes, there’s construction effort and destruction effort - assuming the compiler didn’t write all of that off, but this smells like something someone from Java or C# would say.</p>
<p>You called it a “malloc and free,” you definitely don’t have a C++ or even a C background beyond theoretical. It’s a stack allocation, not a heap allocation. In theory that could be costly, but in practice, the compiler dumped everything that didn’t matter.[/quote]</p>
<p>??) please check the constructor function of HashMap,  you will know what I mean.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Hevedy</div>
          <div class="post_content">
<p>Check the Panda3D update:</p>
<p><a href="https://www.panda3d.org/blog/" rel="nofollow noopener">panda3d.org/blog/</a><br/>
<a href="https://github.com/tobspr/RenderPipeline" rel="nofollow noopener">github.com/tobspr/RenderPipeline</a><br/>
<a href="https://www.dropbox.com/sh/dq4wu3g9jwjqnht/AAABSOPnglDHZYsG5HXR-mhWa?dl=0#/" rel="nofollow noopener">dropbox.com/sh/dq4wu3g9jwjq … hWa?dl=0#/</a></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>