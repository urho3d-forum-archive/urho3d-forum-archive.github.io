<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Moving a texture across a model surface</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Moving a texture across a model surface</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">claudeHasler</div>
          <div class="post_content">
<p>Hi, im using urhosharp ( the c# bindings of Urho3d) and im trying to get a material to move acros the surface of the model im applying it to. I’ve tried to use an animation of the uvoffset but it hasnt worked, all that happened is that my texture was stretched, no animation occurs.</p>
<p>Does anyone have a c++ code example for this? I can translate it to c# by myself.</p>
<p>This is what ive tried:</p>
<pre><code class="lang-auto">Material mushroomMat = ResourceCache.GetMaterial("Materials/StoneTiled.xml");

ValueAnimation uvShiftAnimation = new ValueAnimation();
uvShiftAnimation.SetKeyFrame(0.0f, new Vector2(0.0f, 0.0f));
uvShiftAnimation.SetKeyFrame(1.0f, new Vector2(0.0f, 1.0f));

mushroomMat.Scene=scene;
mushroomMat.SetShaderParameterAnimation("VOffset", uvShiftAnimation/*, WrapMode.Loop, 1.0f*/);</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p><a class="inline-onebox" href="https://discourse.urho3d.io/t/basic-material-effects-for-rendering/2953">Basic material effects for rendering</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">claudeHasler</div>
          <div class="post_content">
<p>Thanks alot!</p>
<p>This worked for me (adapted from the UvSequencer class in the link)</p>
<pre><code class="lang-auto">ValueAnimation uvShiftAnimation = new ValueAnimation();
uvShiftAnimation.SetKeyFrame(0.0f, new Vector4(1.0f,0.0f, 0.0f,0.0f));  
uvShiftAnimation.SetKeyFrame(1.0f, new Vector4(1.0f, 0.0f, 0.0f, 1.0f));

material.SetShaderParameterAnimation("UOffset", uvShiftAnimation, WrapMode.Loop, 1.0f);</code></pre>
<p>Is there any documentation as to what i can control with SetShaderParameter? For example what paramer names exist, and what parameters can be passed to them? I passed float, Vector2, and Vector4 objects all with varying results, but without errors.</p>
<aside class="onebox whitelistedgeneric">
<header class="source">
<a href="https://urho3d.github.io/documentation/1.6/_shaders.html" rel="nofollow noopener" target="_blank">Urho3D</a>
</header>
<article class="onebox-body">
<img class="thumbnail" height="" src="" width=""/>
<h3><a href="https://urho3d.github.io/documentation/1.6/_shaders.html" rel="nofollow noopener" target="_blank">Shaders</a></h3>
<p>Urho3D is a free lightweight, cross-platform 2D and 3D game engine implemented in C++ and released under the MIT license. Greatly inspired by OGRE and Horde3D.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>I’ve read this page but couldnt find any other information</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>