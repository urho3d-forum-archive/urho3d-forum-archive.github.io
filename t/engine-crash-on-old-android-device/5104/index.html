<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Engine crash on old android device</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Engine crash on old android device</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">att</div>
          <div class="post_content">
<p>I build my game for nexus 4(android version 5.1.1), debug version or release with debug info can run success, but release without debug info crash every time, the crash log is following,</p>
<p>--------- beginning of crash<br/>
F/google-breakpad(30269): Microdump skipped (uninteresting)<br/>
W/google-breakpad(30094): ### ### ### ### ### ### ### ### ### ### ### ### ###<br/>
W/google-breakpad(30094): Chrome build fingerprint:<br/>
W/google-breakpad(30094): 68.0.3440.91<br/>
W/google-breakpad(30094): 344009100<br/>
W/google-breakpad(30094): ### ### ### ### ### ### ### ### ### ### ### ### ###<br/>
F/libc    (30094): Fatal signal 7 (SIGBUS), code 1, fault addr 0xb90f5de5 in tid 30239 (SDLThread)<br/>
I/DEBUG   (  194): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***<br/>
I/DEBUG   (  194): Build fingerprint: ‘google/occam/mako:5.1.1/LMY48T/2237560:user/release-keys’<br/>
I/DEBUG   (  194): Revision: ‘11’<br/>
I/DEBUG   (  194): ABI: ‘arm’<br/>
I/DEBUG   (  194): pid: 30094, tid: 30239, name: SDLThread  &gt;&gt;&gt; ********************** &lt;&lt;&lt;<br/>
I/DEBUG   (  194): signal 7 (SIGBUS), code 1 (BUS_ADRALN), fault addr 0xb90f5de5<br/>
I/DEBUG   (  194):     r0 b90f5df5  r1 b90f5de5  r2 00000010  r3 b90f7a08<br/>
I/DEBUG   (  194):     r4 0000000c  r5 00000010  r6 3f800000  r7 93ef46b8<br/>
I/DEBUG   (  194):     r8 b90f7a04  r9 00000000  sl b90f07d0  fp b90f0788<br/>
I/DEBUG   (  194):     ip b6dea64c  sp 93ef46a8  lr b6da6259  pc a349b3c2  cpsr 200f0030<br/>
I/DEBUG   (  194):<br/>
I/DEBUG   (  194): backtrace:<br/>
I/DEBUG   (  194):     <span class="hashtag">#00</span> pc 002f63c2  /data/app/<em><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>-1/lib/arm/libgame.so (Urho3D::VectorBuffer::Write(void const</em>, unsigned int)+79)<br/>
I/DEBUG   (  194):     <span class="hashtag">#01</span> pc 002f6ca1  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></em><em>-1/lib/arm/libgame.so (Urho3D::Serializer::WriteVariantData(Urho3D::Variant const&amp;)+72)<br/>
I/DEBUG   (  194):     <span class="hashtag">#02</span> pc 002f6c4b  /data/app/</em><em><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>-1/lib/arm/libgame.so (Urho3D::Serializer::WriteVariant(Urho3D::Variant const&amp;)+24)<br/>
I/DEBUG   (  194):     <span class="hashtag">#03</span> pc 00329a2f  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></em><em>-1/lib/arm/libgame.so (Urho3D::Material::RefreshShaderParameterHash()+58)<br/>
I/DEBUG   (  194):     <span class="hashtag">#04</span> pc 00327335  /data/app/</em><em><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>-1/lib/arm/libgame.so (Urho3D::Material::ResetToDefaults()+584)<br/>
I/DEBUG   (  194):     <span class="hashtag">#05</span> pc 0032700b  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></em><em>-1/lib/arm/libgame.so (Urho3D::Material::Material(Urho3D::Context</em>)+138)<br/>
I/DEBUG   (  194):     <span class="hashtag">#06</span> pc 0030b9b5  /data/app/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>-1/lib/arm/libgame.so (Urho3D::Renderer::Initialize()+200)<br/>
I/DEBUG   (  194):     <span class="hashtag">#07</span> pc 003540a7  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>-1/lib/arm/libgame.so (Urho3D::Object::OnEvent(Urho3D::Object*, Urho3D::StringHash, Urho3D::HashMap&lt;Urho3D::StringHash, Urho3D::Variant&gt;&amp;)+88)<br/>
I/DEBUG   (  194):     <span class="hashtag">#08</span> pc 003547ff  /data/app/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>-1/lib/arm/libgame.so (Urho3D::Object::SendEvent(Urho3D::StringHash, Urho3D::HashMap&lt;Urho3D::StringHash, Urho3D::Variant&gt;&amp;)+382)<br/>
I/DEBUG   (  194):     <span class="hashtag">#09</span> pc 00318f87  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>-1/lib/arm/libgame.so (Urho3D::Graphics::SetMode(int, int, bool, bool, bool, bool, bool, bool, int, int, int)+1106)<br/>
I/DEBUG   (  194):     <span class="hashtag">#10</span> pc 0034a4eb  /data/app/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>-1/lib/arm/libgame.so (Urho3D::Engine::Initialize(Urho3D::HashMap&lt;Urho3D::StringHash, Urho3D::Variant&gt; const&amp;)+1794)<br/>
I/DEBUG   (  194):     <span class="hashtag">#11</span> pc 0034f3e5  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>-1/lib/arm/libgame.so (Urho3D::Application::Run()+40)<br/>
I/DEBUG   (  194):     <span class="hashtag">#12</span> pc 00227115  /data/app/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>-1/lib/arm/libgame.so<br/>
I/DEBUG   (  194):     <span class="hashtag">#13</span> pc 002763e5  /data/app/</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>-1/lib/arm/libgame.so (Java_org_libsdl_app_SDLActivity_nativeRunMain+456)<br/>
I/DEBUG   (  194):     <span class="hashtag">#14</span> pc 002484dd  /data/dalvik-cache/arm/data@app@**********************-1@base.apk@classes.dex</p>
<p>I think the engine failed to initialized, but can not fixed why,<br/>
has somebody encountered this problem?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>Does it happen on your app only or also on the samples provided by Urho3D project?</p>
<p>It’s a long shot but if I were you then I would try to modify the compiler flags for the Release build config to override the effective optimization level from O3 to O2, then O2 to O1, to see if makes any difference.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1164_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">orefkov</div>
          <div class="post_content">
<p>I report early about it - <a  rel="nofollow noopener">https://github.com/urho3d/Urho3D/issues/2386</a><br/>
I don’t know, is it was fixed in main sources.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">att</div>
          <div class="post_content">
<p>I haven’t test on samples, for now just found on myself game, later I will make test as you said.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>