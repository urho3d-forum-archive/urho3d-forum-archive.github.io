<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Render order issue?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Render order issue?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">BananaIguana</div>
          <div class="post_content">
<p>Hello all,</p>
<p>So I’m fairly new to Urho3D and I’m in the process of porting a game across to this engine. My game is 2D and doesn’t use the depth buffer, the order I add the sprites is the order they are drawn. I’m trying to fix this bit in the Urho3D version but I’m getting some strange behaviour. I’ve no doubt this is a simple misunderstanding on my part but any advice would be appreciated.</p>
<p>So, I add a bottom layer of sprites and they render fine. I then add a second upper layer of sprites and they seem to draw sporadically. Some are visible, some are not (different with each run). At this point it’s obvious they are using the same Z space and the render order is just different each time I run as it shows a different mix of visible sprites. From this point, I draw the bottom layer with Z values fixed behind the upper layer. Confusingly, this doesn’t seem to solve this issue. If I turn off the bottom layer completely, I can see the upper layer rendering perfectly but as soon as I add both layers, they suffer form Z order issues, even though I specify different Z values.</p>
<p>Obviously I’m missing something, do doubt fairly trivial but if anyone could suggest things to check, I would be grateful.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/68_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">gawag</div>
          <div class="post_content">
<p>I’m not really familiar with 2D in Urho but UIElement (like Sprite) has a SetPriority function: <a href="http://urho3d.github.io/documentation/1.5/class_urho3_d_1_1_u_i_element.html#a5a2f548ac25ff0b8dbcd51513726de7c" rel="nofollow noopener">urho3d.github.io/documentation/1 … 513726de7c</a><br/>
And Drawable2D (base class of all 2D things I suppose) has a SetLayer function: <a href="http://urho3d.github.io/documentation/1.5/class_urho3_d_1_1_drawable2_d.html#ac9f626566fe697b52a9a480124a9d17b" rel="nofollow noopener">urho3d.github.io/documentation/1 … 0124a9d17b</a><br/>
Drawable2D has also a SetOrderInLayer(int orderInLayer).</p>
<p>Does setting the priority/layer/order work as expected?<br/>
Or did you already try that and mean that by setting Z values?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">BananaIguana</div>
          <div class="post_content">
<p>Thank-you gawag. You’re suggestions worked perfectly!  <img alt=":smiley:" class="emoji" src="../../../images2/c16ddadcbd525aa6d219a1df596d362f.png" title=":smiley:"/></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>