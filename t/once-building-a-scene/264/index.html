<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Once building a scene</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Once building a scene</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>Hi,</p>
<p>By the way, Thanks for everyone help.</p>
<p>So, I’m almost done with one building so I have to play with the texture. Now, what is the best way to create a executable.</p>
<p>I have Ubuntu 12.04 with C/C++ codeblocks. I’m familiar with C++ so if I can link Urho3D as a library then it should be straight forward. Are there any examples? Additionally, what do I need to build to make it work. (I just have to do the coding part).</p>
<p>Vivienne</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/827_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">friesencr</div>
          <div class="post_content">
<p>There are a ludicris amount of cpp samples generously provided.</p>
<p><a  rel="nofollow noopener">github.com/urho3d/Urho3D/tree/m … ce/Samples</a></p>
<p>There is a DEFINE_APPLICATION macro which require a class with a small amount of implementation.  Setting up a cmake project would be the fastest way to get all the includes/linker sorted out.  It has the added benefit of making your project easier to work on many platforms.  I am on windows/mac/linux depending on my blood sugar, locality of nearest computer, and the whims of astral forces.</p>
<p>I am personally using a slightly modified copy/paste of the samples code and am using an the ‘external library’ feature as described here: <a href="http://urho3d.github.io/documentation/a00004.html" rel="nofollow noopener">urho3d.github.io/documentation/a00004.html</a>. As I take on more cpp code I will probably migrate from using the library method to maintaining a fork of urho3d.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>[quote=“friesencr”]There are a ludicris amount of cpp samples generously provided.</p>
<p><a  rel="nofollow noopener">github.com/urho3d/Urho3D/tree/m … ce/Samples</a></p>
<p>There is a DEFINE_APPLICATION macro which require a class with a small amount of implementation.  Setting up a cmake project would be the fastest way to get all the includes/linker sorted out.  It has the added benefit of making your project easier to work on many platforms.  I am on windows/mac/linux depending on my blood sugar, locality of nearest computer, and the whims of astral forces.</p>
<p>I am personally using a slightly modified copy/paste of the samples code and am using an the ‘external library’ feature as described here: <a href="http://urho3d.github.io/documentation/a00004.html" rel="nofollow noopener">urho3d.github.io/documentation/a00004.html</a>. As I take on more cpp code I will probably migrate from using the library method to maintaining a fork of urho3d.[/quote]</p>
<p>I’m trying to figure it out because I usually use Codeblocks.</p>
<p>Using the cmake.  I created the .txt files and the directory structure. This is what I get when running Cmake. I know the includes are located in /usr/local/includes/Urho3d/ and core root</p>
<p>[quote]vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$ cmake CmakeLists.txt<br/>
– The C compiler identification is GNU 4.6.3<br/>
– The CXX compiler identification is GNU 4.6.3<br/>
– Check for working C compiler: /usr/bin/cc<br/>
– Check for working C compiler: /usr/bin/cc – works<br/>
– Detecting C compiler ABI info<br/>
– Detecting C compiler ABI info - done<br/>
– Check for working CXX compiler: /usr/bin/c++<br/>
– Check for working CXX compiler: /usr/bin/c++ – works<br/>
– Detecting CXX compiler ABI info<br/>
– Detecting CXX compiler ABI info - done<br/>
CMake Error at CMakeLists.txt:11 (include):<br/>
include could not find load file:</p>
<pre><code>Urho3D-CMake-common
</code></pre>
<p>CMake Error at CMakeLists.txt:13 (find_package):<br/>
By not providing “FindUrho3D.cmake” in CMAKE_MODULE_PATH this project has<br/>
asked CMake to find a package configuration file provided by “Urho3D”, but<br/>
CMake did not find one.</p>
<p>Could not find a package configuration file provided by “Urho3D” with any<br/>
of the following names:</p>
<pre><code>Urho3DConfig.cmake
urho3d-config.cmake
</code></pre>
<p>Add the installation prefix of “Urho3D” to CMAKE_PREFIX_PATH or set<br/>
"Urho3D_DIR" to a directory containing one of the above files.  If "Urho3D"<br/>
provides a separate development package or SDK, be sure it has been<br/>
installed.</p>
<p>– Configuring incomplete, errors occurred!<br/>
See also “/media/home2/vivienne/urho3dapplications/HelloGui/Source/CMakeFiles/CMakeOutput.log”.<br/>
vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$ [/quote]</p>
<p>Core Files</p>
<aside class="quote">
<blockquote>
<p>vivienne@vivienne-System-Product-Name:/usr/local/share/Urho3D$ ls -l<br/>
total 20<br/>
drwxr-xr-x 4 root root 4096 May 15 11:12 Bin<br/>
drwxr-xr-x 4 root root 4096 May 15 11:12 CMake<br/>
drwxr-xr-x 2 root root 4096 May 15 11:12 Docs<br/>
drwxr-xr-x 2 root root 4096 May 15 11:12 Scripts<br/>
drwxr-xr-x 3 root root 4096 May 15 11:12 templates</p>
<p>vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$ echo $URHO3D_HOME<br/>
/usr/local/share/Urho3D/<br/>
vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$</p>
</blockquote>
</aside>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>After I fixed the cmake file. This is the new prompt</p>
<aside class="quote">
<blockquote>
<p>vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$ cmake CmakeLists.txt<br/>
– The C compiler identification is GNU 4.6.3<br/>
– The CXX compiler identification is GNU 4.6.3<br/>
– Check for working C compiler: /usr/bin/cc<br/>
– Check for working C compiler: /usr/bin/cc – works<br/>
– Detecting C compiler ABI info<br/>
– Detecting C compiler ABI info - done<br/>
– Check for working CXX compiler: /usr/bin/c++<br/>
– Check for working CXX compiler: /usr/bin/c++ – works<br/>
– Detecting CXX compiler ABI info<br/>
– Detecting CXX compiler ABI info - done<br/>
CMake Error at /usr/local/share/Urho3D/CMake/Modules/FindUrho3D.cmake:166 (message):<br/>
Could not find Urho3D library in default SDK installation location or<br/>
Urho3D project root tree.  For searching in a non-default Urho3D SDK<br/>
installation, use ‘URHO3D_INSTALL_PREFIX’ environment variable to specify<br/>
the prefix path of the installation location.  For searching in a build<br/>
tree of Urho3D project, use ‘URHO3D_HOME’ environment variable to specify<br/>
the Urho3D project root directory.  The Urho3D library itself must already<br/>
be built successfully.<br/>
Call Stack (most recent call first):<br/>
CMakeLists.txt:13 (find_package)</p>
</blockquote>
</aside>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>So, I copied the Source, Lib, Build folders in my directory to /usr/local/share/Urho3D. It seemed to work but the latest bug I get is.<br/>
Not sure why add executable is adding wrong parameters…</p>
<p>Any clue?</p>
<p>[quote]vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$ cmake CmakeLists.txt<br/>
– The C compiler identification is GNU 4.6.3<br/>
– The CXX compiler identification is GNU 4.6.3<br/>
– Check for working C compiler: /usr/bin/cc<br/>
– Check for working C compiler: /usr/bin/cc – works<br/>
– Detecting C compiler ABI info<br/>
– Detecting C compiler ABI info - done<br/>
– Check for working CXX compiler: /usr/bin/c++<br/>
– Check for working CXX compiler: /usr/bin/c++ – works<br/>
– Detecting CXX compiler ABI info<br/>
– Detecting CXX compiler ABI info - done<br/>
CMake Error at /usr/local/share/Urho3D/CMake/Modules/Urho3D-CMake-common.cmake:481 (add_executable):<br/>
add_executable called with incorrect number of arguments<br/>
Call Stack (most recent call first):<br/>
/usr/local/share/Urho3D/CMake/Modules/Urho3D-CMake-common.cmake:579 (setup_executable)<br/>
CMakeLists.txt:20 (setup_main_executable)</p>
<p>– Configuring incomplete, errors occurred!<br/>
See also “/media/home2/vivienne/urho3dapplications/HelloGui/Source/CMakeFiles/CMakeOutput.log”.<br/>
vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$<br/>
[/quote]</p>
<p>The offending code seems to be somewhere here</p>
<p>[quote]macro (setup_executable)<br/>
# Parse extra arguments<br/>
cmake_parse_arguments (ARG “NODEPS” “” “” ${ARGN})</p>
<pre><code>add_executable (${TARGET_NAME} ${ARG_UNPARSED_ARGUMENTS} ${SOURCE_FILES})
if (ARG_NODEPS)
    define_dependency_libs (Urho3D-nodeps)
else ()
    define_dependency_libs (Urho3D)
endif ()
setup_target ()[/quote]</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/55_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">rasteron</div>
          <div class="post_content">
<p>As Chris already mentioned, you may want to try out the Sample codes to get a firm grasp on how to build it static/dynamic.</p>
<p>Given you already have all the requirements, just edit the cmake_gcc.sh and replace the first (or all) instance of “Unix Makefiles” to “CodeBlocks - Unix Makefiles” save it and run</p>
<pre><code class="lang-auto"></code></pre>
<p>This will generate the CodeBlocks .cbp file for building with the sample executables.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<aside class="quote">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/a206ef460b2be73995958e48edfb5c6d.png" width="20"/> rasteron:</div>
<blockquote>
<p>As Chris already mentioned, you may want to try out the Sample codes to get a firm grasp on how to build it static/dynamic.</p>
</blockquote>
</aside>
<p>I will just need to get it to compile firstly cmakke. So I can start doing the examples and samples.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>Hi</p>
<p>The following produces lines. Which is odd because SOURCE_FILES and ARG_UNPARSED_ARGUMENTS comes out to be blank. Maybe someone has a idea what’s going on?</p>
<p>Vivienne</p>
<aside class="quote">
<blockquote>
<pre><code># Parse extra arguments
</code></pre>
<p>cmake_parse_arguments (ARG “NODEPS” “” “” ${ARGN})</p>
<p>message (“Attempt to add_executable”)<br/>
message ("${TARGET_NAME}")<br/>
message ("${ARG_UNPARSED_ARGUMENTS}")<br/>
message ("${SOURCE_FILES}")</p>
<pre><code>add_executable (${TARGET_NAME} ${ARG_UNPARSED_ARGUMENTS} ${SOURCE_FILES})
</code></pre>
</blockquote>
</aside>
<p>Outputs this to the console</p>
<p>[b]-- Configuring incomplete, errors occurred!<br/>
See also “/media/home2/vivienne/urho3dapplications/HelloGui/Source/CMakeFiles/CMakeOutput.log”.<br/>
vivienne@vivienne-System-Product-Name:/media/home2/vivienne/urho3dapplications/HelloGui/Source$ cmake CmakeLists.txt<br/>
Attempt to add_executable<br/>
MyExecutableName</p>
<p>CMake Error at /usr/local/share/Urho3D/Source/CMake/Modules/Urho3D-CMake-common.cmake:488 (add_executable):<br/>
add_executable called with incorrect number of arguments<br/>
Call Stack (most recent call first):<br/>
/usr/local/share/Urho3D/Source/CMake/Modules/Urho3D-CMake-common.cmake:586 (setup_executable)<br/>
CMakeLists.txt:20 (setup_main_executable)</p>
<p>– Configuring incomplete, errors occurred!<br/>
See also “/media/home2/vivienne/urho3dapplications/HelloGui/Source/CMakeFiles/CMakeOutput.log”.<br/>
[/b]</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>Hello World worked!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/55_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">rasteron</div>
          <div class="post_content">
<p>Nice, but please check my updated reply above, as this will instruct cmake to build with all samples under CodeBlocks  <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/4doBR92.jpg" rel="nofollow noopener" title=""><img alt="" height="500" src="../../../images2/8b55c3e4d77fe5ba6860c8926929730d.jpg" width="678"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">864×637</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>[quote=“rasteron”]Nice, but please check my updated reply above, as this will instruct cmake to build with all samples under CodeBlocks  <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/4doBR92.jpg" rel="nofollow noopener" title=""><img alt="" height="500" src="../../../images2/8b55c3e4d77fe5ba6860c8926929730d.jpg" width="678"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">864×637</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div>[/quote]</p>
<p>Okay. Thanks.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>[quote=“rasteron”]Nice, but please check my updated reply above, as this will instruct cmake to build with all samples under CodeBlocks  <img alt=":slight_smile:" class="emoji" src="../../../images2/7bdd5ab4d67675d002d99e4b948c8cdb.png" title=":slight_smile:"/></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/4doBR92.jpg" rel="nofollow noopener" title=""><img alt="" height="500" src="../../../images2/8b55c3e4d77fe5ba6860c8926929730d.jpg" width="678"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename"></span><span class="informations">864×637</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div>[/quote]</p>
<p>I’m looking through it now and will play through the samples. I’m assuming to build something on my own. I can copy the folder and strip the Codeblock project of the additional Tools and Samples then go from there.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/942_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vivienneanthony</div>
          <div class="post_content">
<p>[quote=“rasteron”]Nice, but please check my updated reply above, as this will instruct cmake to build with all samples under CodeBlocks  <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/><br/>
[/quote]</p>
<p>So, I took that project created as a template. I modified the CMakeLists.txt lines with 64 bit suffix(etc!) and samples with only one sample which is the HelloGui. I think I have to edit the common file also to default 64 bit and samples. Renaming “Samples” to my “Gamecore”.</p>
<p>I was thinking of keeping that layout. Change the project name to the Existence then make the sample folder as the main game executables. The tools can be additional executables for now. I would have to strip a lot of unnecessary code because I don’t want a “make install” to work.</p>
<p>Update</p>
<p><span class="bbcode-b">I tried adding the following lines in CMakeLists.txt. I tried that way and with =1 added. Wouldn’t that be the same as “./cmake… --DURHO3D_64BIT” or any other flag<br/>
</span></p>
<p>SAMPLES would be changed to GAMECORE</p>
<p>[quote]# Set flags<br/>
add_definitions(-DURHO3D_ANGELSCRIPT)<br/>
add_definitions(-DURHO3D_64BIT)<br/>
add_definitions(-DURHO3D_SAMPLES)<br/>
[/quote]Vivienne</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>