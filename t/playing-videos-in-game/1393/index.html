<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Playing Videos In-Game</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Playing Videos In-Game</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">miz</div>
          <div class="post_content">
<p>Hi I’m just getting started with my first game using Urho and haven’t been able to figure out how to play videos (.mp4 ideally) in a window within the game. Can anybody help? <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Welcome to the forums!<br/>
Video file playback is not supported by the engine directly. You need to integrate your video player library of choice, create a Texture2D in dynamic mode, and keep updating the texture with SetData() function as your video library decodes frames.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">miz</div>
          <div class="post_content">
<p>thanks, I’ll try and get that going. Any suggestions for which video player library?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">miz</div>
          <div class="post_content">
<p>Also, is there a way of making the texture2D a (or child of) UI element ?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">cadaver</div>
          <div class="post_content">
<p>Simply assign the texture to a BorderImage UI element to show it. ( BorderImage::SetTexture() ).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2367_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jmiller</div>
          <div class="post_content">
<aside class="quote no-group" data-username="miz">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/eb016049068c80e90cec179dfa1e8a8e.png" width="20"/> miz:</div>
<blockquote>
<p>thanks, I’ll try and get that going. Any suggestions for which video player library?</p>
</blockquote>
</aside>
<p><a href="http://www.ffmpeg.org/">ffmpeg.org/</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">miz</div>
          <div class="post_content">
<p>much appreciated!</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/119_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">codingmonkey</div>
          <div class="post_content">
<p>Hi miz!<br/>
Try to translate this tut from RU to ENG with helps G… <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
<p><a href="http://3d-orange.com.ua/video-in-your-games-p1-ogg_theora/">3d-orange.com.ua/video-in-your-g … gg_theora/</a></p>
<p>Or you may just dig in this source code : (TheoraVideo.zip) <a href="http://3d-orange.com.ua/wp-content/plugins/download-monitor/download.php?id=27">3d-orange.com.ua/wp-content/plug … .php?id=27</a></p>
<p>I think this is easy way to play videos on textures, and seems that it also may in easy manner ported to Urho3d</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">miz</div>
          <div class="post_content">
<p>I went with ffmpeg in the end as it seemed best supported and cross-platform etc. I did have trouble installing it but managed to get it going in the end.</p>
<p>Does anyone know of any good tutorials for ffmpeg decoding? Having trouble getting going with it, the documentation hasn’t helped much…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Mike</div>
          <div class="post_content">
<p>There’s a very simple tutorial demonstrating how to get the RGB data, with source code, available at <a data-bbcode="true" href="http://dranger.com/ffmpeg/tutorial01.html">http://dranger.com/ffmpeg/tutorial01.html</a>.<br/>
Beware that almost everything in FFmpeg is licensed under LGPL or GPL.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/81_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Enhex</div>
          <div class="post_content">
<p><a href="http://www.webmproject.org/code/" rel="nofollow noopener">webmproject.org/code/</a> is BSD license.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">boberfly</div>
          <div class="post_content">
<p>Another codec to consider is:<br/>
<a href="http://www.openh264.org/" rel="nofollow noopener">openh264.org/</a></p>
<p>The patent covering is all on cisco, and if you target mobile what I recommend is to target the platform’s API so you get the hardware decoder, and only use openh264 on the desktop or as a fallback. WebM is cool too, just you might not find hardware that decodes it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">miz</div>
          <div class="post_content">
<p>Hi, I still haven’t got things quite working. Can anyone help?</p>
<p>I’m setting up my Texture2D as follows:<br/>
<code>
BorderImage* video = new BorderImage(context_);
	video-&gt;SetSize(640, 480);
	vidtexture = new Texture2D(context_);
	video-&gt;SetTexture(vidtexture);
	video-&gt;SetAlignment(HA_CENTER, VA_CENTER);
	window_-&gt;AddChild(video);
	uiRoot_-&gt;SetDefaultStyle(style);
	window_ = new Window(context_);
	uiRoot_-&gt;AddChild(window_);
	window_-&gt;SetSize(648, 512);
	window_-&gt;SetName("Window");
	vidtexture-&gt;SetSize(640, 480, SDL_PIXELFORMAT_RGB24, TEXTURE_DYNAMIC);
</code></p>
<p>I’ve then got very nearly identical code to <a data-bbcode="true" href="http://dranger.com/ffmpeg/tutorial01.c" rel="nofollow noopener">http://dranger.com/ffmpeg/tutorial01.c</a> except instead of saving 5 frames of data to a file I’m trying this:</p>
<pre><code class="lang-auto"></code></pre>
<p>Is this the right sort of thing? Any obvious problems?</p>
<p>Currently my  BorderImage/Texture is just black…</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>