<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Android :android:urho3d-lib:generateJsonModelDebug failed task</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Android :android:urho3d-lib:generateJsonModelDebug failed task</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Joshua-PotatoMan</div>
          <div class="post_content">
<p>hi i am new to urho3d engine i’ve been using it for that past a couple of days and everything was going smoothly… however yesterday i tried to compile the urho3d librays for android using  gradle   and it failed with this error<br/>
---------------------------------------------------------------------------------------&gt;</p>
<blockquote>
<p>Task :android:urho3d-lib:generateJsonModelDebug FAILED<br/>
FAILURE: Build failed with an exception.<br/>
What went wrong:<br/>
Execution failed for task ‘:android:urho3d-lib:generateJsonModelDebug’.<br/>
java.lang.NullPointerException (no error message)</p>
</blockquote>
<p>--------------------------------------------------------------------------------------&gt;</p>
<p>i did look at the legacy docs and found that i had to install data &amp; autoload  in an asset folder inside launcher-app and Coredata in assets inside urho3d-lib<br/>
however that didn’t fix the problem and i still get the same problem</p>
<p>i used android studio and it failed to sync to the libray.</p>
<p>if this has happen before or its just a new problem i’d be happy if you tell me how to fix it <img alt=":wink:" class="emoji" height="20" loading="lazy" src="../../../images2/6b8378f75e7ad98c8993083c723d624e.png" title=":wink:" width="20"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/4_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">weitjong</div>
          <div class="post_content">
<p>If you use main branch to build then follow the new online doc where it specifically states the version of the currently supported Android plugin and NDK.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://urho3d.io/docs/getting-started/installation/">
<header class="source">
<img class="site-icon" height="128" src="../../../images2/a3e6995e0b16ba7eaeb5baf38de2bcf8.ico" width="128"/>
<a href="https://urho3d.io/docs/getting-started/installation/" rel="noopener" target="_blank">urho3d.io</a>
</header>
<article class="onebox-body">
<h3><a href="https://urho3d.io/docs/getting-started/installation/" rel="noopener" target="_blank">Installation | Urho3D</a></h3>
<p>Using native and cross-compiler toolchains to install Urho3D library</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>You are on your own when you use other newer version available. I suspect if you newly installed Android Studio then you might have newer Android plugin that Urho does support. That’s the only reason I can think of that causing the initial gradle sync to fail. Having said that, I f you are able to use the latest plugin and get it to work, please share your fixes.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3803_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">tungts1101</div>
          <div class="post_content">
<p>I also got this error with the main branch. I check the gradle plugin version in File\Project Structure in Android Studio and it is 4.0.2. Do you have any hint in this problem?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I’m still investigating this issue. Some cmake versions conflicts. After this <a >https://github.com/urho3d/Urho3D/pull/2949</a> minimal CMake version is 3.15, but old Android sdk can use old cmake plugin only</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I have no experience with mobile development. Can You test/hilp with this <a class="inline-onebox" >Android: allow use CMake &gt; 3.10.2.4988404, update gradlew to 7.5.1, u… by 1vanK · Pull Request #3049 · urho3d/Urho3D · GitHub</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">feresmu</div>
          <div class="post_content">
<p>Hi.<br/>
With the last sources it compiles without errors with Android Studio Chipmunk | 2021.2.1 Patch 2</p>
<p>The apk runs but shows nothing.</p>
<p>That is because launcher-app-debug.apk have only libUrho3DPlayer.so in lib\armeabi-v7a\ folder</p>
<p>It seems that CMakeLists.txt are ok. Any idea to fix it?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>Were the samples enabled for the build?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="onebox githubblob" data-onebox-src="https://github.com/urho3d/Urho3D/blob/master/android/launcher-app/CMakeLists.txt#L16-L17">
<header class="source">
<a  rel="noopener" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a  rel="noopener" target="_blank">urho3d/Urho3D/blob/master/android/launcher-app/CMakeLists.txt#L16-L17</a></h4>
<pre class="onebox"><code class="lang-txt">
      <ol class="start lines" start="16" style="counter-reset: li-counter 15 ;">
          <li># Not enough disk space provided by GitHub Actions</li>
          <li>#set(URHO3D_SAMPLES 1)</li>
      </ol>
    </code></pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">feresmu</div>
          <div class="post_content">
<p>If I uncomment that the apk have all the .so samples but still shows nothing</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1437_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">elix22</div>
          <div class="post_content">
<p>Logcat is your best friend in debugging such issues .</p>
<p>Make sure that the assets folder in your APK is not empty.<br/>
You can unzip the APK by changing its extension to “.zip” and verify that the assets are there.</p>
<p><strong>Android/app/src/main/assets/Data</strong><br/>
<strong>Android/app/src/main/assets/CoreData</strong></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">feresmu</div>
          <div class="post_content">
<p>I have the assets and .so samples in the apk</p>
<p>I think the problem is that LauncherActivity cannot find (and because that, doesn’t show) the library files.</p>
<p>If I modify LauncherActivity.kt in this way:</p>
<pre><code class="lang-auto">class LauncherActivity : ExpandableListActivity() {

    // Filter to only include filename that has an extension
    private fun getScriptNames(path: String) = assets.list(path)!!.filter { it.contains('.') }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

			// Start CharacterDemo sample 
            startActivity(
                Intent(this, MainActivity::class.java)
                    .putExtra(
                        MainActivity.argument,
						"18_CharacterDemo"
                    )
            )		
return;
</code></pre>
<p>it works if I launch 18_CharacterDemo only. So the problem seems to be UrhoActivity.getLibraryNames() function</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>It would be nice if you create a pull request with a fix</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">feresmu</div>
          <div class="post_content">
<p>I’ don’t know how to fix the problem (not yet at least <img alt=":wink:" class="emoji" height="20" loading="lazy" src="../../../images2/6b8378f75e7ad98c8993083c723d624e.png" title=":wink:" width="20"/> (I have clarified my post)</p>
<p>But it seems to be UrhoActivity.getLibraryNames() function (I am not android/urho3d expert, not know what would be the problem)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>I’m not sure, but I suspect the filtering looking for the <code>.</code> in the name may be wrong since you are adding a name without the <code>.</code> and it works.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>