<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Animate nodes with .ani which are not in Skeleton?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Animate nodes with .ani which are not in Skeleton?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2369_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Dave82</div>
          <div class="post_content">
<p>As i see currently we can use AnimationController and .ani files to either animate nodes in a hierarchical structure or Bones inside an AnimatedModel but we can’t have both ! I have an ani file with extra tracks which are not part of the skeleton and it seems that if i load the ani file and play it, these extra nodes are not recognized by AnimationController…</p>
<p>Example : I have an ani file with all the skeleton animation + one extra track called “turnAnimatorNode” this is a simple node which exists in the structure of my character but the AnimationController does not see this node however a track with this name exist in the ani file…<br/>
So is there any way to add this node manually to the AnimationController ?<br/>
EDIT:  So reading the docs i realized if we want to drive node transformations in a node we cant have AnimatedModel inside the same node… I can live with that but that also mean for every additional non skined animation i need one extra ani file which is a bit annoying</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>Hi, Dave82!</p>
<p>Are you using the AssetImporter tool? If so, there’s a way to force “non-skinning bones” to be included in the model’s skeleton. I think because non-essential bones are stripped out by default, so too are any animation tracks associated with said bones.</p>
<aside class="quote no-group">
<blockquote>
<p>-s  Include non-skinning bones in the model’s skeleton. Can be given a<br/>
case-insensitive semicolon separated filter list. Bone is included<br/>
if its name contains any of the filters. Prefix filter with minus<br/>
sign to use as an exclude. For example -s “Bip01;-Dummy;-Helper”</p>
</blockquote>
</aside>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2369_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Dave82</div>
          <div class="post_content">
<p>Thanks ! It seems i missed this when i read the options… Anyway thanks !<br/>
EDIT : Still trying to figure out how to mark a post as a “solution”… <img alt=":thinking:" class="emoji" src="../../../images2/95fb74f06c03358715b7b493b96f1e60.png" title=":thinking:"/><br/>
EDIT2 : For everyone who try to export non skinning nodes , please note : The nodes must be inside the skeleton structure otherwise the -s option won’t export it. (e.g if you attach the node directly to your character outside the root node it won’t work)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>If you posted this in the subforum Discussions/General Discussions, you would see a “solution checkbox” but that does not appear when we post to the root Discussions category. I don’t know why.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Actually it’s only the <em>Support</em> threads that can be solved.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2384_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Leith</div>
          <div class="post_content">
<p>I noticed a comment last night in the docs for AssetImporter that mention something about animations on non-skeletal nodes being automatically exported when we use the model or scene modes - that must be the “junk ani” I noticed being dumped out when I exported my models.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>