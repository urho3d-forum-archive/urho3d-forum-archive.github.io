<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>How to import from blender</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">How to import from blender</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2762_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pldeschamps</div>
          <div class="post_content">
<p>Hello,<br/>
My purpose is to make a planetarium. I want the user to see stars and to click on a star to select it and get informations.<br/>
I made a 3D scene with blender and python scripting: I made 500 white filled circles around a sphere (the 500 stars are at the good position, facing the center). The light and the camera are in the center of the scene. I can render it in Blender.</p>
<p>Next, I need to import the objects in my Urho3D project.</p>
<p>These are few questions :</p>
<ol>
<li>the Blender Urho3D addon seems not to work with Blender 2.8. Right?<br/>
I need to use Assetimport to convert my scene.</li>
<li>Can I convert a full node with all the circles in it. assimp does not propose me Urho3D export command. How should I do? Is there any step by step documentation?</li>
<li>what should I get? a xml file? 500 xml files? a mdl file?</li>
</ol>
<p>I made python scripting in blender to draw the sky.<br/>
4. would it be a better (faster or easier) solution to draw the sky in urho editor with angelscript?</p>
<p>Thank you for your help and your advices</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/357_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">JTippetts</div>
          <div class="post_content">
<p>reattiva’s <a href="https://github.com/reattiva/Urho3D-Blender/tree/2_80" rel="nofollow noopener">exporter</a> has a branch named 2_80. Clone the repo and switch to that branch (or just visit that link, and choose download ZIP, then follow the README instructions to install the addon in Blender) . The exporter worked the last time I tried it with Blender 2.8.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">throwawayerino</div>
          <div class="post_content">
<p>There’s also AssetImporter.exe if you build it with Urho3D, where you can pass it a collada file or a blend (?) and get an mdl + Textures, animations, etc.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2762_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pldeschamps</div>
          <div class="post_content">
<p>Great, it works!<br/>
So I exported 7 selected circles as 7 .mdl files. (I can’t attach any picture at this time <img alt=":frowning:" class="emoji" src="../../../images2/c383444e3b50f1554d2f21c7c206ca52.png" title=":frowning:"/><br/>
Is it possible to export one mdl file with all the 500 circles as children nodes?<br/>
Will the user be able, from a urho3d project, to select one circle among the 500 circles mdl unic file?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2762_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pldeschamps</div>
          <div class="post_content">
<p>So I ticked the “Merge objects” box and exported a 134 Ko .mdl file. I guess I made it.<br/>
I will try to render it in a urho3d project and see if the user can select one circle and if I can get the name of the object clicked…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>The exporter also has the option to export an XML scene file, which may be useful.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2762_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pldeschamps</div>
          <div class="post_content">
<p>Thank you for your answers.<br/>
I was able to see my model in a urho3D project. But I can’t see the Materials (the color of the disks).<br/>
I tried to export the materials but I get this error:</p>
<blockquote>
<p>Traceback (most recent call last):<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80_<em>init</em>_.py”, line 937, in invoke<br/>
return self.execute(context)<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80_<em>init</em>_.py”, line 933, in execute<br/>
ExecuteAddon(context)<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80_<em>init</em>_.py”, line 1600, in ExecuteAddon<br/>
ExecuteUrhoExport(context)<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80_<em>init</em>_.py”, line 1473, in ExecuteUrhoExport<br/>
Scan(context, tDataList, settings.errorsMem, tOptions)<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80\decompose.py”, line 2500, in Scan<br/>
DecomposeMesh(scene, obj, tData, tOptions, errorsMem)<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80\decompose.py”, line 1938, in DecomposeMesh<br/>
DecomposeMaterial(mesh, material, tMaterial)<br/>
File “C:\Users\pierre-louis\AppData\Roaming\Blender Foundation\Blender\2.81\scripts\addons\Urho3D-Blender-2_80\decompose.py”, line 1724, in DecomposeMaterial<br/>
tMaterial.twoSided = mesh.show_double_sided<br/>
AttributeError: ‘Mesh’ object has no attribute ‘show_double_sided’</p>
</blockquote>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Exporting materials from Blender 2.8 not implemented yet, becouse in Blender 2.8 internal rederer was removed. You can still use Blender 2.7. Currently I am experimenting with convertig Urho’s shaders to Cycles one to one (Unlit and Solid) but I can’t say when I public something</p>
<p><div class="lightbox-wrapper"><a class="lightbox"   title="Urho blender 2.8"><img alt="Urho blender 2.8" data-base62-sha1="1AVX9Iz9eH4fruvDngV140qNTu0"  height="401" src="../../../images2/ae30e30c146c047d6a501253dcb84474.png"  width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Urho blender 2.8</span><span class="informations">1858×1080 447 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2762_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">pldeschamps</div>
          <div class="post_content">
<p><span class="mention">@1vanK</span> no worries, there is no hurry.<br/>
I guess I can add materials in my urho project, after I have imported the model or in urho editor…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Some progress</p>
<div class="lazyYT" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque" data-width="480" data-youtube-id="hxEMVUjbf9U" data-youtube-title="Porting Urho3D LitSolid shader to Blender Cycles"></div>
<p>UPD:<br/>
<a href="https://github.com/1vanK/Urho3D-Blender/tree/2_80">https://github.com/1vanK/Urho3D-Blender/tree/2_80</a><br/>
data.blend + textures for testing</p>
<p>It is a surprise for me, but custom shaders work not only in Cycle, but also in Eevee</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>