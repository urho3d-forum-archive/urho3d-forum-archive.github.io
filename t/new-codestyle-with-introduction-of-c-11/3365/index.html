<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>New codestyle with introduction of C++11</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">New codestyle with introduction of C++11</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>I suppose that coding conventions shall be updated after C++11 introduction. I’m going to write my proposal and rationale. Please, comment.</p>
<ul>
<li>The macro <code>NULL</code> or integer constant 0 should not be used for null pointers, <code>nullptr</code> is used instead. Replace 0-s in old code. <strong>(VA)</strong>
<ul>
<li>
<strong>Why:</strong> Best way to declare null pointer.</li>
</ul>
</li>
<li>The keyword <code>override</code> shall be used wherever possible (<em>?? except destructors ??</em>). Update old codebase. <strong>(VA)</strong>
<ul>
<li>
<strong>Why:</strong> Prevent errors.</li>
</ul>
</li>
<li>The keyword <code>final</code> shall not be used except rare specific cases (e.g. virtual interface wrapping)
<ul>
<li>
<strong>Why:</strong> It makes code reuse hard. Think twice before sealing the interface.</li>
</ul>
</li>
<li>The <code>using</code> shall be used instead of <code>typedef</code>. Replace typedefs in old code. <strong>(VA)</strong>
<ul>
<li>
<strong>Why:</strong> More readable.</li>
</ul>
</li>
<li>The <code>{}</code> constructor shall never be used.
<ul>
<li>
<strong>Why:</strong> Keep code consistent. It gives too few benefit to update the whole codebase.
<ul>
<li>IMO, the = initialization is the most readable.</li>
</ul>
</li>
</ul>
</li>
<li>The range-based <code>for</code> loop shall be used wherever possible. Update old codebase when possible. <strong>(VA)</strong>
<ul>
<li>
<strong>Why:</strong> More readable.</li>
</ul>
</li>
<li>
<code>auto</code> shall not be used for one-word types and simple templates.
<ul>
<li>
<strong>Why:</strong> Keep code readablilty when type name is short enough. Keep code consistent.</li>
</ul>
</li>
<li>
<code>auto</code> shall be used for unknown types in templates (avoid <code>typename</code> and <code>decltype</code>) and long nested types (aka <code>HashMap&lt;String, int&gt;::KeyValue</code>). <em>?? Shall other cases be here ??</em> <strong>(VA)</strong>
<ul>
<li>
<strong>Why:</strong> Improve code readability when type name gives no information. Check the link for example: <a href="https://clang.llvm.org/extra/clang-tidy/checks/modernize-use-auto.html" rel="nofollow noopener">https://clang.llvm.org/extra/clang-tidy/checks/modernize-use-auto.html</a>
</li>
</ul>
</li>
<li>Inplace member initialization shall be used wherever possible. Update old codebase.
<ul>
<li>
<strong>Why:</strong> Easier to read, harder to mistake.</li>
</ul>
</li>
</ul>
<p>I’ve marked with <strong>(VA)</strong> tag items that could be done automatically via Visual Assist.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group quote-modified" data-post="45" data-topic="2790" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/><a href="https://discourse.urho3d.io/t/urho3d-1-7-release-pending-work/2790/45">Urho3D 1.7 release pending work</a>
</div>
<blockquote>
<p>The {} constructor shall never be used.</p>
</blockquote>
</aside>
<p>IMO the <code>=</code> is for assignments and <code>{}</code> are for initialization, since the latter provides more type safety.<br/>
Also the <code>{}</code> can both be used in the constructor’s head as well as in the body of a function. Adding consistency.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>That’s why I sometimes dislike C++</p>
<blockquote>
<p>Adding consistency</p>
</blockquote>
<p>You may notice that items in the list that require updating old codebase are automatized, except inplace member initialization that I am ready to upgrade on my own.</p>
<p>If one is ready to port <em>all</em> Urho codebase to such constructor, it will be consistent. If we just start to use new style, we end up in codestyle mess. Two different styles is always worse than one.</p>
<blockquote>
<p>IMO the = is for assignments and {} are for initialization, since the latter provides more type safety.</p>
</blockquote>
<p>That’s holywarable whether the type safety costs it.<br/>
IMO objective decision isn’t posible here</p>
<details>
<summary>
here is my point of view...</summary>
<p><code>int some_name = 10;</code> and <code>some_name = 10;</code> have similar meaning and semantics. We assign here some value to some name. Here is very distinguishable <code>" = "</code> pattern that is used <em>only</em> for assignments (including construction). The only difference here is that  new name is created in the first case, while old name is used in the second one.</p>
<p>Then…</p>
<p><code>int some_name { 10 }</code> and <code>some_name = 10</code> have too different semantic for the similar action. The <code>" { } "</code> pattern is much less distinguishable than <code>" = "</code> because it’s similar to other language constructions.</p>
<p>Choosing between ghost type safety and visual nicety, I prefer the second one</p>
</details>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<details>
<summary>
Consider</summary>
<pre><code class="lang-auto">Class::Class(),
a{1},
b{2}
{
    const int c{ a + b };
    a = 4;
    b = c;
}
</code></pre>
</details>
<details>
<summary>
VS</summary>
<pre><code class="lang-auto">Class::Class(),
a(1),
b(2)
{
    const int c = a + b;
    a = 4;
    b = c;
}
</code></pre>
</details>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group quote-modified" data-post="47" data-topic="2790" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/><a href="https://discourse.urho3d.io/t/urho3d-1-7-release-pending-work/2790/47">Urho3D 1.7 release pending work</a>
</div>
<blockquote>
<p>If we just start to use new style, we end up in codestyle mess. Two different styles is always worse than one.</p>
</blockquote>
</aside>
<p>I’m not suggesting multiple styles. And if you change the rules, past results are bound to break the newly instated ones.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<blockquote>
<p>Consider 1 VS 2</p>
</blockquote>
<p>Ok, there is probably not so big difference.<br/>
I actually don’t care very much. Hidden part was just IMO.</p>
<blockquote>
<p>I’m not suggesting multiple styles.</p>
</blockquote>
<p>The only thing I really care about is to have single style in the end.</p>
<p>If you suggest codestyle change that breaks code consistency, be ready to fix unconsistency on your own.</p>
<p><em>I am ready to upgrade old codebase on my own for each item in the list above that is broken by existing codebase</em></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/123_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">kostik1337</div>
          <div class="post_content">
<aside class="quote no-group quote-modified" data-post="47" data-topic="2790" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/><a href="https://discourse.urho3d.io/t/urho3d-1-7-release-pending-work/2790/47">Urho3D 1.7 release pending work</a>
</div>
<blockquote>
<p>int some_name = 10; and some_name = 10; have similar meaning</p>
</blockquote>
</aside>
<p>As for me, this is true only for local non-static variables. Static initialization happens while your program is uploading to memory, while local variable initializations means just “put that value into memory on that address in runtime”, the same as variable assignment.</p>
<p>So, here I partially agree with Modanung. {} initialization is reasonable for local non-static initialization, but it could be hard to update all codebase with it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-post="6" data-topic="3365" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/> Eugene:</div>
<blockquote>
<p>Ok, there is probably not so big difference.</p>
</blockquote>
</aside>
<p>Agreed. Still, I would argue the first of the two code examples to be more semantically consistent.</p>
<p>On updating the code base:<br/>
The bright side of this is that it’s easy to see what part of the engine has been c++11-ified (by hand and eye) and which parts are ‘old’.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/81_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Enhex</div>
          <div class="post_content">
<p>Note: In general you should never say "never use feature <code>X</code>", it usually means you just don’t know what it’s useful for.</p>
<p>0 isn’t guaranteed to represent null pointer on all systems (ex. some embedded systems use 0 as valid memory address)</p>
<p>regarding <code>override</code> I want to mention useful use case:<br/>
when declaring a virtual function in a base class, it’s already<a href="http://en.cppreference.com/w/cpp/language/virtual#In_detail" rel="nofollow noopener"> implicitly declared virtual</a> in derived classes, so writing virtual for derived class functions which is completely redundant, and can lead to bugs - ex. if the base class renames the virtual function, the derived class will still use virtual function when it isn’t needed, degrading performance.<br/>
<code>override</code> becomes handy with virtual functions when you want to make sure you’re overriding the base class’s virtual function.</p>
<pre><code class="lang-auto">struct A {
    virtual f();
}

struct B : A {
    virtual f();
}
</code></pre>
<p>Should be replaced with:</p>
<pre><code class="lang-auto">struct A {
    virtual f();
}

struct B : A {
    f() override; //already implicitly virtual
}
</code></pre>
<p>Urho does use <code>virtual</code> for derived class functions (ex. SoundSource3D::Update)</p>
<p><code>using</code> can be templated (<a href="http://en.cppreference.com/w/cpp/language/type_alias" rel="nofollow noopener">alias template</a>), typedef cant.<br/>
typedef is obsolete.</p>
<p>list initialization (<code>{}</code>) is very handy and has useful use cases. examples:</p>
<pre><code class="lang-auto">void f(Vector3 x) {
//...
}
f(Vector3(1,2,3)); // without list initialization
f({1,2,3}) // with list initialization

// without list initialization
vector&lt;int&gt; v;
v.emplace_back(1);
v.emplace_back(2);
//...

// with list initialization
vector&lt;int&gt; v{1, 2,/*...*/};
</code></pre>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote" data-post="9" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>0 isn’t guaranteed to represent null pointer on all systems (ex. some embedded systems use 0 as valid memory address)</p>
</blockquote>
</aside>
<p>How this is related to <code>nullptr</code> codestyle proposal?</p>
<aside class="quote" data-post="9" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>Should be replaced with</p>
</blockquote>
</aside>
<p>I definetely dislike implicit virtuals because leading keyword <code>virtual</code> is much noticeable than trailing <code>override</code>, maybe because of alignment.<br/>
C++ would be much better if <code>override</code> and <code>final</code> were used <em>instead</em> of <code>virtual</code> in the beginning.<br/>
This is impossible, so I’d like to avoid implicit virtual at all.</p>
<aside class="quote" data-post="9" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>list initialization ({}) is very handy and has useful use cases</p>
</blockquote>
</aside>
<p>I completely agree here, but I don’t want to end up with mixed ctors styles. If one write a script for automatic upgrade, it wold be great.</p>
<p><em>TODO: Update proposal somehow</em></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/81_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Enhex</div>
          <div class="post_content">
<aside class="quote no-group" data-post="10" data-topic="3365" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/> Eugene:</div>
<blockquote>
<p>How this is related to nullptr codestyle proposal?</p>
</blockquote>
</aside>
<p>Just showing how NULL defines are less correct.</p>
<p>You can have a derived class that defines a new virtual function (not override).<br/>
You can override non-virtual function.<br/>
(point is that you need <code>virtual</code>)</p>
<p>technically list initialization isn’t exactly the same as using regular constructor syntax since it can be overloaded, so it isn’t just style. example:</p>
<pre><code class="lang-auto">std::vector v(2);
// not the same as:
std::vector v{2};
</code></pre>
<p>Regular constructors and list initialization have different use cases. Use whichever is better for your case.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote" data-post="11" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>technically list initialization isn’t exactly the same as using regular constructor syntax since it can be overloaded, so it isn’t just style.</p>
</blockquote>
</aside>
<p>Huh, I’ve completely forgotten about this case…</p>
<p>My initial proposal was to use <code>Class object(params);</code> for constructors and <code>Class object = anotherObject;</code> for copy constructors for consistency with old code.</p>
<p>Then, brace constructor <em>can</em> be used to avoid writing class name at all, e.g. <code>SetPosition({ 1, 2, 3 });</code>. I haven’t thought about this case at all…</p>
<p>Then, I prefer <code>vector&lt;int&gt; v = {1, 2, 3};</code> over <code>vector&lt;int&gt; v{1, 2, 3};</code> because it make construction and initialization with elements sematically different.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">theak472009</div>
          <div class="post_content">
<p>The beauty of Urho3D is it compiles on all platforms. Please don’t spoil it by adding C++11 filth. This is why we have our own containers and pointers and memory management.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<blockquote>
<p>The beauty of Urho3D is it compiles on all platforms</p>
</blockquote>
<p>How does migration to C++11 breaks “all platforms” compilation? I think that there are C++11-compatible compilers for any more or less modern platform.</p>
<blockquote>
<p>Please don’t spoil it by adding C++11 filth</p>
</blockquote>
<p>Urho 1.7 will stay C++98 compatible forever.<br/>
Why do you want to use 20-years-old language with its unsafeties and limitations when we can drop’em with zero cost?</p>
<p>Do you know that now <em>Urho heavily rely on undefined behavior</em>?<br/>
We just hope that these hacks won’t suddenly explode sometimes and somewhere.<br/>
And this can be fixed only with power of C++11.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1163_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">yushli1</div>
          <div class="post_content">
<p>I am all for moving to C++11. Just please keep the Urho Variant, Containers and pointers and memory management. It is simple and powerful and easy to understand.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote" data-post="15" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/616e31ac3a98a36e7523b7f453239fc1.png" width="20"/> yushli1:</div>
<blockquote>
<p>Just please keep the Urho Variant, Containers and pointers and memory management. It is simple and powerful and easy to understand.</p>
</blockquote>
</aside>
<p>Don’t worry, nobody is goind to break old functionality.</p>
<p>However, I have some ideas about Urho.Container, Variant and Serializable <img alt=":upside_down_face:" class="emoji" src="../../../images2/db0ce431e84cd1b42b05ac1031be6a59.png" title=":upside_down_face:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/503_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Alex-Doc</div>
          <div class="post_content">
<aside class="quote no-group" data-post="14" data-topic="3365" data-username="Eugene">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/ae663b3d37eca5ee603f9e0610f8f829.png" width="20"/> Eugene:</div>
<blockquote>
<p>Urho heavily rely on undefined behavior?</p>
</blockquote>
</aside>
<p>This sounds pretty scary: Can you please provide an example and eventually how would C++11 features help?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote" data-post="17" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/8a921bbe6313284d77fc74b5bef2a2ef.png" width="20"/> Alex-Doc:</div>
<blockquote>
<p>This sounds pretty scary: Can you please provide an example and eventually how would C++11 features help?</p>
</blockquote>
</aside>
<p>I know only one place. <code>URHO3D_ATTRIBUTE</code> uses <code>offsetof</code> for non-POD types, this may accidently explode if use multiple inheritance with serializables. I’m going to use lambdas+function accessors here and retire “offset” attributes completely.</p>
<p>Variant is also pretty scary but probably not UB. I’ll try to rewrite it using C++11 non-pod unions.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">theak472009</div>
          <div class="post_content">
<p>The goal is to keep the engine code consistent. Either you completely switch to C++11 or you dont. Usually having two code styles in the same project will make a mess. And we all know that STL is the worst possible thing for games. So I assume you wont be using STL code in the engine. So that makes it pointless to port the engine to use C++11. These are just my thoughts <img alt=":smile:" class="emoji" src="../../../images2/769394bcf9310c188f38dc9af7babf2b.png" title=":smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="19" data-topic="3365" data-username="theak472009">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/793e7255041ce2d6283799b98a189b08.png" width="20"/> theak472009:</div>
<blockquote>
<p>The goal is to keep the engine code consistent.</p>
</blockquote>
</aside>
<p>Then, my goal is the same. This topic was created because of that concern.</p>
<aside class="quote no-group" data-post="19" data-topic="3365" data-username="theak472009">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/793e7255041ce2d6283799b98a189b08.png" width="20"/> theak472009:</div>
<blockquote>
<p>So I assume you wont be using STL code in the engine. So that makes it pointless to port the engine to use C++11.</p>
</blockquote>
</aside>
<p>I don’t really understand how the second sentence is derived from the first one.<br/>
I am goind to use C++11 but I am not goind to use STL.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>STL uses exceptions Urho does not AFAIK. STL has quirks between compilers AFAIK. Therefore discarding STL is understandable in the context of this engine.</p>
<p>VS is likely to play an important role in these decisions.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>what is wrong with NULL?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2367_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jmiller</div>
          <div class="post_content">
<p>My comments? I think most of my concerns have been addressed. I follow the OP’s conventions already in my own code. <img alt=":wink:" class="emoji" src="../../../images2/58bcd684421190f24be1944e2a997a04.png" title=":wink:"/></p>
<aside class="quote no-group" data-full="true" data-post="22" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>what is wrong with NULL?</p>
</blockquote>
</aside>
<p><a class="inline-onebox" href="https://stackoverflow.com/questions/1282295/what-exactly-is-nullptr">c++ - What exactly is nullptr? - Stack Overflow</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Ah, I don’t see a point having another synonym for 0. NULL was fine all these years until some hype folk came<br/>
raging for changes (looks like somebody was drowning in boredom).</p>
<p>Anyway myself I prefer to avoid using strange C++ stuff as much as possible just having C with classes<br/>
so to not diverge too far out of comfort zone. But this is personal preference.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="24" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>NULL was fine all these years</p>
</blockquote>
</aside>
<p>Yeah, NULL is fine… except:</p>
<ol>
<li>It’s ugly uppercase macro, the only uppercase macro in the whole C++;</li>
<li>It doesn’t have its own type so you can’t make your smart handle or pointer <code>nullptr</code>-constructible.</li>
</ol>
<p>So, there is no reason to use NULL when there is better counterpart.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Well, I can’t find these cases anything but nitpicking.<br/>
By canon one uses macros as uppercase. This is not ugly, it just says it is macro.<br/>
You also generally use uppercase for enum constants. This is just taste. Bad taste (IMHO).<br/>
I wonder why you want to construct nullptr - there is .bss for that. For smart handle you use normal pointers,<br/>
as there is no reason for smart handle to be working on NULLs. Also nullptr will not do anything more than NULL, as nullptr_t is equivalent of void* as it is compatible with all pointer types and bool.<br/>
So it is just another syntax sugar for hipsters, thats all.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<blockquote>
<p>This is not ugly, it just says it is macro.</p>
</blockquote>
<p>I don’t say that uppercase macros are ugly. Actually, non-uppercase marcros are ugly…<br/>
I say that null pointer constant defined as <code>#define NULL 0</code> is ugly.</p>
<blockquote>
<p>For smart handle you use normal pointers,<br/>
as there is no reason for smart handle to be working on NULLs</p>
</blockquote>
<p>What if I don’t want implicit handle construction from pointer?<br/>
You actually <strong>cannot</strong> write nice smart handle without nullptr or your own custom null.</p>
<blockquote>
<p>Well, I can’t find these cases anything but nitpicking.</p>
</blockquote>
<p>Let’s imagine some abstract situation…</p>
<p>There is the Tool A and Tool B that help you reach your goal. Tool B has disadvantages comparing to the Tool A and you can switch from Tool B to Tool A with zero effort. What will you do?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1016_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">S.L.C</div>
          <div class="post_content">
<p>You clearly haven’t played with templates and overloading to realize the usefulness of nullptr. Therefore, your opinion about it is equal to that of a virgin about s3x life. No offence.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Heh, no, I actually did have extensive C++ learning. I just don’t like many of these things as they<br/>
tend to make code less manageable in the long run, so need to be limited.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Well, my analogy is - there is good known tool used for ages. Somebody came with<br/>
new tool which is completely different, but without any visible advantage. Everyone around cries<br/>
"drop old toys they are obsolete, use new ones!" but nobody provides any real example of<br/>
the advantage. I know some people tend to use abstractions just for abstractions, this is nice thing for them,<br/>
otherwise I don’t see any reason to use new thing until it is proven better.</p>
<p>btw, through ages I seen NULL defined in the following ways:</p>
<pre><code class="lang-auto">#define ((void *) 0) NULL
const void * NULL = 0;
</code></pre>
<p>But never seen <code>#define NULL 0</code> - it looks really dangerous. As C++ probably allows assigning 0<br/>
as value to any pointer it is generally not C thing.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<aside class="quote no-group" data-post="30" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>But never seen <span class="hashtag">#define</span> NULL 0 - it looks really dangerous. As C++ probably allows assigning 0</p>
<p>as value to any pointer it is generally not C thing.</p>
</blockquote>
</aside>
<p>WinDef.h</p>
<p>(+20 characters)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<blockquote>
<p>Somebody came with new tool which is completely different</p>
</blockquote>
<p>The only difference is to change old typing habit and do Ctrl+H NULL-&gt;nullptr once.</p>
<blockquote>
<p>but nobody provides any real example of the advantage.</p>
</blockquote>
<p>Actually, I provided above. NULL is a kind of cripple.</p>
<blockquote>
<p>But never seen <span class="hashtag">#define</span> NULL 0 - it looks really dangerous</p>
</blockquote>
<p>This is required by the standard.<br/>
<a class="onebox" href="http://en.cppreference.com/w/cpp/types/NULL" rel="nofollow noopener" target="_blank">http://en.cppreference.com/w/cpp/types/NULL</a><br/>
<aside class="onebox whitelistedgeneric">
<header class="source">
<img class="site-icon" height="" src="../../../images2/2c5b2bd50372a17fca2759613f07f110.png" width=""/>
<a href="https://ideone.com/hbXK1i" rel="nofollow noopener" target="_blank">Ideone.com</a>
</header>
<article class="onebox-body">
<img class="thumbnail" height="" src="../../../images2/35693fe1ed2ddb70537f37556feae81c.jpg" width=""/>
<h3><a href="https://ideone.com/hbXK1i" rel="nofollow noopener" target="_blank">Ideone.com</a></h3>
<p>Ideone is something more than a pastebin; it's an online compiler and debugging tool which allows to compile and run code online in more than 40 programming languages.</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>I wonder since when (void *) type became prohibited in C++ since 25 years ago when I learned C++<br/>
it was always (void *) 0. Anyway I rarely use C++ in practice (basically only with Urho) so I might<br/>
miss some C++ stuff (I work almost solely with C, with some use of Python and Lua, with very primitive knowledge in Java, only about running native code in Android and server Java). Is there any official rationale to this change?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="33" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>Is there any official rationale to this change?</p>
</blockquote>
</aside>
<p>In C you can implicitly cast any pointer to any, in C++ you cannot.<br/>
So, in C you can define NULL as (void*)0 and intialize any pointer with it. In C++ you cannot.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>I see, but is there any public discussion regarding this? I used to the times before  and ,<br/>
when one used &lt;stddef.h&gt; and &lt;stdio.h&gt; with C++, so used <span class="hashtag">#define</span> NULL ((void *)0)<br/>
so it worked fine with C++ at some stage. Also in C you can’t implicitly convert pointers,<br/>
void * type is special “any” pointer type. BTW same thing still works with C++ for void * notation<br/>
(at least with gcc).</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2367_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">jmiller</div>
          <div class="post_content">
<p>There’s always a lot of discussion about features of ISO standards like C++.</p>
<p><a href="https://isocpp.org/faq">https://isocpp.org/faq</a><br/>
The ISO C++ FAQ seems relevant here. <img alt=":slight_smile:" class="emoji" src="../../../images2/ab33f6c546ca85e7d84a4e3c32cd4034.png" title=":slight_smile:"/></p>
<p>It’s a merger of the FAQs by Marshall Cline and Bjarne Stroustrup, whom I always found a good read: <a href="http://www.stroustrup.com/C++11FAQ.html">http://www.stroustrup.com/C++11FAQ.html</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">theak472009</div>
          <div class="post_content">
<p>All talk and no real substance. That is what C++ stands for when it comes to game development. Unless the changes provide real performance gains or improve the engine interface, there is really no point in changing anything.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>Try different point of view here.</p>
<p>First of all, we <em>have to</em> migrate to C++11, I’ve explained reasons above.</p>
<p>Then, we actually cannot forbid people to use C++11 features when is simplifies their code. Even now our simple code guidelines are sometimes ignored. It would be impossible to force people write 40-symbols-length type name instead of auto or functor class instead of lambda if it doesn’t cause compiler error.</p>
<p>So, the only way here is to specify rules for new standard.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>The guidelines exist not to limit people, but to improve code manageability.<br/>
Each language feature used should be questioned in regards of this.<br/>
If feature hides code workings and makes managing/debugging hard, the feature should not be used.<br/>
The sole thing from C++11 which is really step forward is variadic templates.<br/>
Everything else to me looks like pile of BS to make hipsters/newcomers happy.</p>
<p>Don’t rush and be practical, and that will not be catastrophic.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-post="39" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>Everything else to me looks like pile of BS to make hipsters/newcomers happy.</p>
</blockquote>
</aside>
<p>It’s a king of unlogical to avoid things that make code simpler and safer just because they are new.</p>
<blockquote>
<p>Pointer-to-member-function, NULL and autoinline of member functions is syntax surag from C++98, so let’s use it!</p>
</blockquote>
<blockquote>
<p>Labmbdas, nullptr and override is syntax surag from C++11, so f~ it, it’s piece of bullshit for hipsters!</p>
</blockquote>
<p>Wow, such consistent relation to syntax sugar.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Well, proof by trolling is some kind of proof by intimidation. As the discussion is not constructive<br/>
it looks like I don’t have to waste any more time.</p>
<p>The only thing I say here is that look how serious people start using C++11 features<br/>
and other C++X features - slowly implement one by one for project usefulness.<br/>
As features are not yet used in project, they all should be thought over one by one.<br/>
Don’t rush. That’s all from my side.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>What about use of <code>constexpr</code>, variadic templates, raw string literals, and user defined literals (e.g. one for <code>Urho3D::String</code>)?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">theak472009</div>
          <div class="post_content">
<p>If C++11 simplifies code for you, it doesn’t mean thats the case for everyone else. For me it actually looks confusing. It might be just me but I prefer simple C style code over any new fancy coding standard. Thats why its still the language used by most developers in the world.<br/>
Urho3D currently has that perfect balance of C and uses C++ only where its really necessary (like abstraction of APIs). Why do you want to spoil this perfect harmony XDD? Has the evil C++ committee brain-washed you too?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>box2D also goes to c++11</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="42" data-topic="3365" data-username="SirNate0">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fb52f23a6782e890737d90432eac55f2.png" width="20"/> SirNate0:</div>
<blockquote>
<p>What about use of constexpr, variadic templates, raw string literals, and user defined literals (e.g. one for Urho3D::String)?</p>
</blockquote>
</aside>
<p>I doubt that such features will be frequently used in Urho internals. It could be decided “inplace” when someone deicde to write one more user defined literal for some type.</p>
<aside class="quote no-group" data-post="41" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>Well, proof by trolling is some kind of proof by intimidation. As the discussion is not constructive<br/>
it looks like I don’t have to waste any more time.</p>
</blockquote>
</aside>
<p>It was a kind of, sorry. But this trolling is not <em>mostly</em> trolling.</p>
<aside class="quote no-group" data-post="43" data-topic="3365" data-username="theak472009">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/793e7255041ce2d6283799b98a189b08.png" width="20"/> theak472009:</div>
<blockquote>
<p>If C++11 simplifies code for you, it doesn’t mean thats the case for everyone else.</p>
</blockquote>
</aside>
<p>Some features of C++11 are not subjective and actualy close some holes in the original. If C++98 had such features, everybody would have used them everywhere.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-post="41" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>As the discussion is not constructive it looks like I don’t have to waste any more time.</p>
</blockquote>
</aside>
<p>I feel like you just kicked over a Jenga tower and then walked away claiming it’s not a game.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Nah. I just have nothing more to say in current circumstances, and really are not interested in heated discussion of something I don’t want to waste time on (I’d better work on game or do some important stuff).<br/>
Making things short - no fun.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">slapin</div>
          <div class="post_content">
<p>Is there anything new on your game?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<aside class="quote no-group" data-full="true" data-post="49" data-topic="3365" data-username="slapin">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/fd76f653c5f5a98690a798e37b37d018.png" width="20"/> slapin:</div>
<blockquote>
<p>Is there anything new on your game?</p>
</blockquote>
</aside>
<p>Working on several, mostly graphics lately. But let’s try to get back on topic.<br/>
luckeyproductions.nl/gifs/WhiteRabbug.gif</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>I made a PR. This is the last chance to say if someone want to.<br/>
<a class="onebox"  rel="nofollow noopener" target="_blank">https://github.com/urho3d/Urho3D/pull/2088</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>I think Cadaver should decide on the style of the code. We can only offer ideas.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>So, this PR is mostly for cadaver as he didn’t participate in the discussion.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p>Hm, everyone should do PR with their own varioant?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>I have no idea. Let’s write thoughts in that PR for now.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/81_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Enhex</div>
          <div class="post_content">
<p>Write code instead of guidelines <img alt=":sleepy:" class="emoji" src="../../../images2/30440e5f0574962ffde33b23d7791fa7.png" title=":sleepy:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>My work project is ugly 25-years-old multi-layered chimera. Codestyles are mixed and merged like tree rings. They have just written code instead of guidelines. This is so fuckin’ ugly. I don’t want such future for the Urho.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/81_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Enhex</div>
          <div class="post_content">
<p>Urho isn’t your work project neither heading in that direction, quite the opposite.</p>
<p>If you want good guidelines u can use <a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md" rel="nofollow noopener">C++ Core Guidelines</a>. It’s already a very well made and detailed document, with a ton of contributors.</p>
<p>You can submit refactoring PRs. There’s a lot of work that can be done to modernize Urho and make the code simpler and more concise. I believe that 1000’s of lines can be removed with simple straight forward modernization.</p>
<p>Would be interesting if someone could run Clang Tidy on Urho. Last time I tried using Linux virtual machine didn’t play well with OpenGL support, and getting Tidy to work on windows was a PITA because CMake only supports generating compile commands for Makefiles/ninja.<br/>
(<a href="https://github.com/tarruda/premake-export-compile-commands" rel="nofollow noopener">Premake got a user module that can export with any generator</a>)</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote" data-post="58" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>If you want good guidelines u can use C++ Core Guidelines. It’s already a very well made and detailed document, with a ton of contributors.</p>
</blockquote>
</aside>
<p>I agree. This is good guideline. But…</p>
<p>For example, <code>enum class</code> is better than old <code>enum</code> (of course). How to start using <code>enum class</code> in Urho? Any practical ideas?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/81_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Enhex</div>
          <div class="post_content">
<p>From my experience enum class is kinda tricky because there are no implicit conversions - for example using it for indexing arrays isn’t straight forward.<br/>
IIRC I also had issues with AngelScript only working with default type enums.</p>
<p>There are other obvious things we can start working on right now.<br/>
For example Urho added MakeUnique/MakeShared - we can reduce the usage of “new” for better memory safety.<br/>
We can use <a href="http://en.cppreference.com/w/cpp/language/data_members#Member_initialization" rel="nofollow noopener">default member initialization</a> and <a href="http://en.cppreference.com/w/cpp/language/using_declaration#Inheriting_constructors" rel="nofollow noopener">inheriting constructors</a> to eliminate <strong>tons</strong> of redundant code.<br/>
Moderate usage of auto where the type is already explicit such as <code>GetSubsystem&lt;T&gt;()</code>.<br/>
And so on…</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<aside class="quote" data-post="60" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>For example Urho added MakeUnique/MakeShared - we can reduce the usage of “new” for better memory safety.</p>
</blockquote>
</aside>
<p>I made first step of this refactoring and it took some time. It would be time-consuming to get rid of all new/delete ops.</p>
<aside class="quote" data-post="60" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>We can use default member initialization and inheriting constructors to eliminate tons of redundant code.</p>
</blockquote>
</aside>
<p>Things like default member initialization, inheriting constructors, lambdas, variadics and so on are unconditionally useful and straightforward, so I didn’t even mentioned them in the guideline. These things just shall be used as soon as they needed.</p>
<p>I want to make guideline for things that could be done in the multiple different ways. A kind of checklist for contributors.<br/>
It will be a bit too ugly if one write <code>auto width = 10</code> and another <code>int width = 10</code>, <code>0</code> and <code>nullptr</code>, <code>using</code> and <code>typedef</code> and so on…</p>
<aside class="quote" data-post="60" data-topic="3365">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="../../../images2/2a544a080a692659db243ae9ac8c57ef.png" width="20"/> Enhex:</div>
<blockquote>
<p>Moderate usage of auto where the type is already explicit such as GetSubsystem&lt;T&gt;()</p>
</blockquote>
</aside>
<p>I admit that such usage of auto is perfectly readable too, even if I am not used to write in this way.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/788_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">johnnycable</div>
          <div class="post_content">
<p>I see much arguing about this topic. As usual. Anyway, it looks like unopinionated reference for such c++ things is, nowadays, the <a href="https://google.github.io/styleguide/cppguide.html" rel="nofollow noopener">google c++ style guide</a>.<br/>
That’s true; just google for it… <img alt=":wink:" class="emoji" src="../../../images2/95940790c23d98635b2a6d3f22657158.png" title=":wink:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/902_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Eugene</div>
          <div class="post_content">
<p>The idea of this thread and my PR is not to re-invent code standard or write my own guidelines. I want to make small and sufficient checklist for contributors basing on Urho legacy and C++ best practices.</p>
<p>I have read both google standard and GSL core guidelines long time ago, BTW.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>