<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>How to Stop Weapon from Clipping Through Objects</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">How to Stop Weapon from Clipping Through Objects</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Zyie</div>
          <div class="post_content">
<p>Hi im creating an FSP game and i was wondering how you stop the gun from clipping through other objects.</p>
<p>I’ve looked at this thread:</p>
<p><a href="https://discourse.urho3d.io/t/how-to-control-render-order/1240/11">https://discourse.urho3d.io/t/how-to-control-render-order/1240/11</a></p>
<p>However I’m new to all this and have no idea what they are on about.</p>
<p>Can anyone explain how to achieve this with a beginner in mind?</p>
<p>EDIT::<br/>
ok so based off this post <a href="https://discourse.urho3d.io/t/how-to-layer-scenes/740/4">https://discourse.urho3d.io/t/how-to-layer-scenes/740/4</a></p>
<p>I have tried setting up two scenes with one of the cameras using a render path that removes this line of code</p>
<pre><code>&lt;command type="clear" color="fog" depth="1.0" stencil="0" /&gt;
</code></pre>
<p>This is how i have set it up currently</p>
<pre><code>	mScene = new Scene(mContext);
mScene-&gt;CreateComponent&lt;Octree&gt;();
mScene-&gt;CreateComponent&lt;PhysicsWorld&gt;();

mScene2 = new Scene(mContext);
mScene2-&gt;CreateComponent&lt;Octree&gt;();
mScene2-&gt;CreateComponent&lt;PhysicsWorld&gt;();

mCameraNode = mScene-&gt;CreateChild("Camera");
mCameraNode2 = mScene2-&gt;CreateChild("Camera2");

mCamera = mCameraNode-&gt;CreateComponent&lt;Camera&gt;();
mCameraNode-&gt;SetPosition(Vector3(0.0f, 15.0f, 0.0f));
mCamera-&gt;SetFarClip(300.0f);

Camera* mCamera2 = mCameraNode2-&gt;CreateComponent&lt;Camera&gt;();
mCameraNode-&gt;SetPosition(Vector3(0.0f, 15.0f, 0.0f));
mCamera-&gt;SetFarClip(300.0f);

Viewport* viewport = new Viewport(mContext, mScene, mCamera);
Viewport* viewport2 = new Viewport(mContext, mScene2, mCamera2);

XMLFile* overlayRenderPath = cache-&gt;GetResource&lt;XMLFile&gt;("MyRenderPath/Forward2.xml");
viewport2-&gt;SetRenderPath(overlayRenderPath);

renderer-&gt;SetNumViewports(2);
renderer-&gt;SetViewport(0, viewport);
renderer-&gt;SetViewport(1, viewport2);
</code></pre>
<p>However this still does not stop the weapon from clipping through the terrain. Anyone got any ideas how to fix this</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/768_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">1vanK</div>
          <div class="post_content">
<p><a href="https://discourse.urho3d.io/t/depthhack-for-weapon-rendering/2202">DepthHack for weapon rendering</a></p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>