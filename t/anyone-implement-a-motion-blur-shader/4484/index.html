<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Anyone implement a motion blur shader?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Anyone implement a motion blur shader?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I am recreating a game from the original xbox and I believe one of the post processing effects used motion blur. I could be wrong though. Here is a screenshot.</p>
<p><img src="//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/e/e054fc4faef3786dded867ed6337842c056d4a8a.jpeg"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Is that Soul Reaver? <img alt=":slight_smile:" class="emoji" src="../../../images2/33cb8d9bf277cdb113680cf5564b6764.png" title=":slight_smile:"/></p>
<p>About the blur: did you try a <a href="https://discourse.urho3d.io/search?q=motion%20blur">search</a>?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>Yes it’s Soul Reaver.</p>
<p>I did find some results but some of the links were broken.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Is this not the motion blur you’re looking for?</p><aside class="quote quote-modified" data-post="1" data-topic="2026">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/8e14485e10e801cd7ee7668b4f98a5bf.png" width="20"/>
<a href="https://discourse.urho3d.io/t/motion-blur-like-doom4/2026">Motion Blur like Doom4</a> <a class="badge-wrapper bullet" href="/c/showcase/code-exchange/13"><span class="badge-category-parent-bg" style="background-color: #F1592A;"></span><span class="badge-category-bg" style="background-color: #231F20;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Share your helpful Urho3D code snippets, samples and tutorials here.">Code Exchange</span></a>
</div>
<blockquote>
<a href="https://github.com/1vanK/Urho3DMotionBlur" rel="noopener nofollow ugc">github.com/1vanK/Urho3DMotionBlur</a> 
Use START_DEMO.bat for launch 
[image]
  </blockquote>
</aside>
<aside class="quote quote-modified" data-post="1" data-topic="1337">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="../../../images2/2c8edf1efcc0ee8291779642129d1100.png" width="20"/>
<a href="https://discourse.urho3d.io/t/zoom-blur-postprocess-shader-glsl/1337">Zoom Blur postprocess shader (GLSL)</a> <a class="badge-wrapper bullet" href="/c/showcase/code-exchange/13"><span class="badge-category-parent-bg" style="background-color: #F1592A;"></span><span class="badge-category-bg" style="background-color: #231F20;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Share your helpful Urho3D code snippets, samples and tutorials here.">Code Exchange</span></a>
</div>
<blockquote>
    A zoom blur postprocess shader with user-defined strength and center. 
<a data-bbcode="true" href="http://postimg.org/image/9f2j3ogbh/" rel="noopener nofollow ugc">[image]</a> 
Can produce nausea when animated.  <img alt="smiley" class="emoji" height="20" src="../../../images2/7014497b1c97c810791a011290bda7f5.png" title="smiley" width="20"/> 
Center is normalized screen coordinates (-0.5 - 0.5) 
Strength can be negative. 
The cSamples constant in the shader code controls the amount of sampling. 
#include "Uniforms.glsl"
#include "Samplers.glsl"
#include "Transform.glsl"
#include "ScreenPos.glsl"
#line 5

varying vec2 vScreenPos;

void VS() {
  mat4 modelMatrix = iModelMatrix;
  vec3 worldPos = GetWorldPos(model…
  </blockquote>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>They did a good job on the motion blur. After running the demo that effect does not seem like the one in the picture above. The picture above looks like it uses a overblown blur shader, but it is hard to tell.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>Okay so after lowering the samples in the shader I got something closer to my screenshot above. However I wonder what would be the best way to make it constant. The effect in the demo is applied to movement and not constant. Which is what motion blur is really for.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/222_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Bananaft</div>
          <div class="post_content">
<p>I believe this type of yearly 2000s motion blur is done by adding new frame on top of previos one. What renderpath are you using?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>I am using direct3d9.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/222_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Bananaft</div>
          <div class="post_content">
<p>Oh ok, nevermind. I just made it but for openGL. Sorry, I don’t have dx version ready at hand.</p>
<p>You have to convert copyblur.glsl to hlsl. Should be easy. I just took CopyFramebuffer and added a few lines.<br/>
Here how it looks like, I hope that’s what you are looking for. You can also try different blending methods.<br/>
</p><div class="lazyYT" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque" data-width="480" data-youtube-id="ArQ0Rg_c79I" data-youtube-title="copyblur"></div>
<aside class="onebox githubgist">
<header class="source">
<a href="https://gist.github.com/Bananaft/461c78495a2878cb132676ccab9535a9" rel="nofollow noopener" target="_blank">gist.github.com</a>
</header>
<article class="onebox-body">
<h4><a href="https://gist.github.com/Bananaft/461c78495a2878cb132676ccab9535a9" rel="nofollow noopener" target="_blank">https://gist.github.com/Bananaft/461c78495a2878cb132676ccab9535a9</a></h4>
<h5>copyblur.glsl</h5>
<pre><code class="GLSL">#include "Uniforms.glsl"
#include "Samplers.glsl"
#include "Transform.glsl"
#include "ScreenPos.glsl"

varying vec2 vScreenPos;
uniform float cBlurness;

void VS()
{</code></pre>
This file has been truncated. <a href="https://gist.github.com/Bananaft/461c78495a2878cb132676ccab9535a9" rel="nofollow noopener" target="_blank">show original</a>
<h5>copyblur.xml</h5>
<pre><code class="XML">&lt;renderpath&gt;
    &lt;rendertarget name="copyframe"  sizedivisor="1 1" tag="Blur" format="rgba"/&gt;
    &lt;command type="quad" tag="Blur" vs="copyblur" ps="copyblur"&gt;
        &lt;texture unit="diffuse" name="viewport" /&gt;
        &lt;texture unit="specular" name="copyframe" /&gt;
        &lt;output index="0" name="viewport" /&gt;
        &lt;output index="1" name="copyframe" /&gt;
        &lt;parameter name="Blurness" value="0.7" /&gt;
    &lt;/command&gt;
&lt;/renderpath&gt;</code></pre>
<p>
</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>

          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p><span class="mention">@Bananaft</span> What he said.<br/>
And if you intend to enslave all of humanity, be sure to add a stereoscopic option. People would donate blood just to walk around in that. <img alt=":pill:" class="emoji" src="../../../images2/056dae4eadaa774afde02377f08e778b.png" title=":pill:"/><br/>
If you plan on making it open source, btw, I’d love to contribute. <img alt=":slight_smile:" class="emoji" src="../../../images2/33cb8d9bf277cdb113680cf5564b6764.png" title=":slight_smile:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/222_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Bananaft</div>
          <div class="post_content">
<p>Thank you. You already contributed by contributing Urho.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GodMan</div>
          <div class="post_content">
<p>Looks great. How much would I have to change for it to work on direct3d9. The shader will not be hard for me to adapt. I have a lot of experience with hlsl.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/222_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Bananaft</div>
          <div class="post_content">
<p>just convert the shader and it should work.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>