<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Creating a Realistic Chain</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">Creating a Realistic Chain</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<p>What’s a good way to make a realistic chain? As in this:<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="10237598-close-up-of-a-curled-up-metal-chain"><img alt="10237598-close-up-of-a-curled-up-metal-chain" data-base62-sha1="9BQoVU0EFd2e3VzQbLIPyAyjPNg"  height="237" src="../../../images2/b958477654387ac1afd7c472f7db61d3.jpeg"  width="345"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">10237598-close-up-of-a-curled-up-metal-chain</span><span class="informations">1300×895 152 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div><br/>
Performance is not an issue here. I assumed that if I made each link a separate node (with rigidbody) it would be more realistic. I added a traingle mesh shape to each and rotated 90 degrees every other link. Because the collider forms a torus-like shape, it <em>should</em> allow these to interlock without constraint joints, correct? The way a real chain is connected? Is it <em>possible</em> to connect bodies physically like this, just by spawning them inside each other? I feel like this solution would be the realist but I suppose joints are necessary here. Has anyone needed to make a physically-based chain or rope-like iterated object?</p>
<p>So far I haven’t figured it out. I tried the real-world approach and also with hinge/point constraints and I got spastic results. I also tried descending the mass which helped but takes away from realistic movement.</p>
<p>Here is the setup (0 mass rigidbodies in this screenshot)<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="Screenshot_2020-10-16_21-23-32"><img alt="Screenshot_2020-10-16_21-23-32" data-base62-sha1="ax8m41mVg8Fl9NWBd53Dzl2QwUK"  height="291" src="../../../images2/cecedc04e4dcc5220d0a2bb1d029067c.jpeg"  width="517"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_2020-10-16_21-23-32</span><span class="informations">1920×1080 599 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
<p>And here with descending mass (first link has 0 to connect to ceiling) and point constraints they spin through each other and are easily pulled apart, even though they should be colliding with each other. I started messing with angular and linear factors too. But, come to think of it, each link <em>should</em> be able to wiggle every which way.<br/>
<div class="lightbox-wrapper"><a class="lightbox"   rel="noopener nofollow ugc" title="Screenshot_2020-10-16_21-26-56"><img alt="Screenshot_2020-10-16_21-26-56" data-base62-sha1="dY6QJAdhzVcNBj9iGn0PvwZ6V7v"  height="291" src="../../../images2/02635a4da395a1e6bc223255035d953e.jpeg"  width="517"/><div class="meta"><svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use xlink:href="#far-image"></use></svg><span class="filename">Screenshot_2020-10-16_21-26-56</span><span class="informations">1920×1080 560 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use xlink:href="#discourse-expand"></use></svg></div></a></div></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>I saw a blender demo for creating chains… looking at google there are a bunch of resources available.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<p>I don’t have any issue creating the chain model. See above. I’ve made the link. Making Rigidbody simulations on blender will not work for realtime urho application.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Oh I see what you were saying. The method of spawning links inside each other seems like it should work, what exactly were the problems you encountered?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<blockquote>
<p>The method of spawning links inside each other seems like it should work</p>
</blockquote>
<p>I hope so.<br/>
The problem is they immediately explode. Now I’m wondering if adding them one at a time, with some frames in between for bullet to settle the above link, might work better.<br/>
I’m going to test with hoolihoops and see if absolutely no contact before starting changes anything. Because a chain has the links very close by design, so maybe that’s the issue.</p>
<p>EDIT: Tried with large rings and they absolutely were 100% separated. Still falls apart. Maybe triangle meshes can’t hold objects this way? It’s weird. The only way to have a hole in the mesh is to use a triangle mesh shape because otherwise it’s covered. For regular collisions, that works, but you can’t do that for rings. I can see the shape in debug geometry to be correct, but they pass through each other.</p>
<p>This is an interesting problem.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>I’m not certain, but I think the triangle mesh shape is meant for static objects. Though you may want to double check the Urho/Bullet documentation on that. You could try a set of capsule shapes arranged in a rectangle and see if that works at first, and if it does go for a more rounded edge using more capsules later.</p>
<p>But my personal recommendation would actually be too use bullets softbody physics to make a rope and use the chain as the model.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<p>Oh okay, that’s interesting. I’ll try out multiple slim capsules and see what happens. That sounds possible.</p>
<p>Hmm alright. I know there are collision chains for 2d but in the urho docs I don’t see any soft body/rope entries. I’m also doing each link as it’s own model currently but I can imagine how it’d behave as one large chain with rope mechanics behind it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">vmost</div>
          <div class="post_content">
<p>Yeah sorry, when I said Blender earlier I meant Bullet <a href="https://www.youtube.com/watch?v=BGAwRKPlpCw" rel="noopener nofollow ugc">see this video</a>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<p>No worries. This is cool, thanks for the link.<br/>
<span class="mention">@SirNate0</span> I tried the capsules. It works but it’s rough. I’ll try a soft body next.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Did you have a look at sample 13? It uses <code>Constraint::SetDisableCollisions(true)</code>.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<p>Yeah that didn’t affect it. It works with multiple capsules, though not very gracefully.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>You may want to write some custom rope-IK-like component to save on resources anyway.<br/>
Unless there’s only one big heavy chain in your world.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3169_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">evolgames</div>
          <div class="post_content">
<p>That sounds smart. I was considering having multiple small chains as part of the environment to add to the mood of the rooms. But only a few would exist at any given time.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>