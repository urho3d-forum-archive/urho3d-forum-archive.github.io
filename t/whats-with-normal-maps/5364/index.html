<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>What&rsquo;s with normal maps?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>

  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="40" alt="Urho3D" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">Archive 17/01/2023.</div>
    <h1 class="topic-title">What&rsquo;s with normal maps?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1669_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GoldenThumbs</div>
          <div class="post_content">
<p>So I was working on a new PBR shader, and I noticed that the lighting looked off due to normals. I was like “Ok, must be the wrong form of normal map.” And I tried a different orientation of normal map. Same issue, just looks slightly different. “Ok, maybe there’s some special orientation Urho uses”. I made 4 different normal maps with different channels flipped. None looked right. It looks like the red and green channels are swapped. Nothing I’ve come across before swapped the channels like this. Typically green is top/bottom and red is left/right. Looks like red is supposed top/bottom and green left/right. I also tested this with standard workflow shaders that come with the engine and I got the same result. Am I doing something wrong or is it just that Urho does things weirdly? Maybe an engine issue with my version that messes with world or object space positions? It’s not customized in any way so this is really confusing me. I even looked at the normal maps that are already in the engine for reference.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">SirNate0</div>
          <div class="post_content">
<p>Not sure what the issue might be, and I certainly don’t know enough about normal map conventions to say anything about that. You do have vertex tangents exported, right? Other than that, perhaps the section on normal maps here will help <a href="https://urho3d.github.io/documentation/HEAD/_materials.html#Materials_Textures" rel="nofollow noopener">https://urho3d.github.io/documentation/HEAD/_materials.html#Materials_Textures</a></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<p>Maybe <span class="mention">@extobias</span> could <a href="https://discourse.urho3d.io/t/random-projects-shots/2431/119?">shine a light</a> on this?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/1669_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">GoldenThumbs</div>
          <div class="post_content">
<p>So, uh… I found out that the plane mesh that comes with Urho3D doesn’t have tangents exported with it. Exported a new plane from blender and it fixed it.</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3290_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Modanung</div>
          <div class="post_content">
<h3>
<em>It’s polling time!</em> <img alt=":memo:" class="emoji" src="../../../images2/3a3eb60fc285b9f29e3e7d2b309e95de.png" title=":memo:"/>
</h3>
<p>Do <em>you</em> think the default <strong>plane</strong> model that comes with Urho3D should contain tangent information?</p>
<div class="poll" data-poll-name="poll" data-poll-public="true" data-poll-results="always" data-poll-status="open" data-poll-type="regular">
<div>
<div class="poll-container">
<ul>
<li data-poll-option-id="277962ea3b8227e06ed3eb378fbdba0d">Yes</li>
<li data-poll-option-id="720aa6324194f0ccd395b3cd0ed76f0e">No</li>
<li data-poll-option-id="b140aa71b37efef035a6050990e3cd1a">Yes, but as a <em>separate</em> model file</li>
</ul>
</div>
<div class="poll-info">
<p>
<span class="info-number">0</span>
<span class="info-label">voters</span>
</p>
</div>
</div>
</div>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2836_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">extobias</div>
          <div class="post_content">
<p>I have arrived late, I’m glad that solution was found <img alt=":slightly_smiling_face:" class="emoji" src="../../../images2/083e71e9976093cddc504d689025b42c.png" title=":slightly_smiling_face:"/></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/2369_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">Dave82</div>
          <div class="post_content">
<p>Please note there is a generateTangents function defined in tangent.h which can be used to generate tangents on the fly for any vertexbuffer.  I consider tangents as optional data so i generate them if needed.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>